parameters:
  PackagePath: "sdk/cosmosdb/cosmos/"
  PackageName: "@azure/cosmos"

steps:
  - bash: |
      pnpm run test-consumer --verbose
    condition: succeededOrFailed()
    displayName: "TypeScript Consumer Tests - Cosmos"
    workingDirectory: "${{parameters.PackagePath}}"

  - script: |
      pnpm run build:samples --verbose
    condition: succeededOrFailed()
    displayName: "Typecheck Samples - Cosmos"
    workingDirectory: "${{parameters.PackagePath}}"

  - script: |
      pnpm run execute:samples
    condition: succeededOrFailed()
    displayName: "Run Samples - Cosmos"
    workingDirectory: "${{parameters.PackagePath}}"
