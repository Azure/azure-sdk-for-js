{
  "extends": ["./tsconfig.json", "./tsconfig.nonlib.json"],
  "compilerOptions": {
    "lib": ["DOM", "DOM.Iterable", "ESNext"],
    "customConditions": ["browser"],
    // Workaround for browser build-test:
    //   - Some core and storage package have mixed usage of NodeJS and browser types in same file.
    //   - TypeScript resolves our types from ESM because of `"moduleResolution": "NodeNext"`
    //     and some files have code similar to `import { ... } from "node:xxx";`
    "types": ["node"],
    "outDir": "${configDir}/dist-test/browser",
    "noEmit": false,
    "paths": {
      "$internal/*": ["./dist/browser/*"]
    }
  },
  "include": ["${configDir}/src", "${configDir}/test"],
  "exclude": [
    "${configDir}/test/**/node",
    "${configDir}/test/stress",
    "${configDir}/test/snippets.spec.ts"
  ]
}
