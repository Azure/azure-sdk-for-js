// Copyright (c) Microsoft Corporation.
// Licensed under the MIT License.

export enum EnvironmentVariableNames {
  // Test mode
  TEST_MODE = "TEST_MODE",

  // Authentication
  AZURE_TEST_USE_CLI_AUTH = "AZURE_TEST_USE_CLI_AUTH",
  AZURE_TEST_USE_PWSH_AUTH = "AZURE_TEST_USE_PWSH_AUTH",
  AZURE_TEST_USE_AZD_AUTH = "AZURE_TEST_USE_AZD_AUTH",
  GEOCATALOG_SCOPE = "GEOCATALOG_SCOPE",

  // Planetary Computer Configuration
  PLANETARYCOMPUTER_ENDPOINT = "PLANETARYCOMPUTER_ENDPOINT",
  PLANETARYCOMPUTER_COLLECTION_ID = "PLANETARYCOMPUTER_COLLECTION_ID",
  PLANETARYCOMPUTER_ITEM_ID = "PLANETARYCOMPUTER_ITEM_ID",

  // Ingestion Configuration
  PLANETARYCOMPUTER_INGESTION_CONTAINER_URI = "PLANETARYCOMPUTER_INGESTION_CONTAINER_URI",
  PLANETARYCOMPUTER_INGESTION_CATALOG_URL = "PLANETARYCOMPUTER_INGESTION_CATALOG_URL",
  PLANETARYCOMPUTER_MANAGED_IDENTITY_OBJECT_ID = "PLANETARYCOMPUTER_MANAGED_IDENTITY_OBJECT_ID",

  // SAS Token Ingestion Configuration
  PLANETARYCOMPUTER_INGESTION_SAS_CONTAINER_URI = "PLANETARYCOMPUTER_INGESTION_SAS_CONTAINER_URI",
  PLANETARYCOMPUTER_INGESTION_SAS_TOKEN = "PLANETARYCOMPUTER_INGESTION_SAS_TOKEN",
}

export function assertEnvironmentVariable(key: EnvironmentVariableNames): string {
  const value = process.env[key];
  if (!value) {
    throw new Error(`Environment variable ${key} is not defined.`);
  }
  return value;
}
