{"version":3,"file":"events.js","sourceRoot":"","sources":["../../src/events.ts"],"names":[],"mappings":"AAAA,uCAAuC;AACvC,kCAAkC;AAqGlC;;;;GAIG;AACH,MAAM,UAAU,mBAAmB,CAAC,KAAc;IAChD,OAAO;QACL,IAAI,EAAE,EAAE;QACR,KAAK,EAAE,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC;KAC9D,CAAC;AACJ,CAAC","sourcesContent":["// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT License.\n\n/**\n * Abstract base event interface to house common event request attributes.\n */\nexport interface AuthenticationEventRequestCommon {\n  /** Related Type */\n  type: string;\n  /** The status of the current request, see RequestStatus. */\n  requestStatus: RequestStatus;\n  /** A user friendly message (containing errors), that the authentication event returns. */\n  statusMessage: string;\n  /** A dictionary of query string parameters */\n  queryParameters: Record<string, string>;\n}\n\n/**\n * Event request interface extended the related response and event data (payload) objects.\n */\nexport interface AuthenticationEventRequest<\n  TResponse extends AuthenticationEventResponse,\n  TData extends AuthenticationEventData,\n> extends AuthenticationEventRequestCommon {\n  /** Related IEventResponse */\n  response: TResponse;\n  /** Related IEventData */\n  payload: TData;\n}\n\n/**\n * Event request interface extended the related response and event data (payload) objects for cloud events.\n */\nexport interface CloudEventRequest<\n  TResponse extends AuthenticationEventResponse,\n  TData extends AuthenticationEventData,\n> extends AuthenticationEventRequest<TResponse, TData> {\n  /** Related Source */\n  source: string;\n  /** Related \\@odata.type */\n  oDataType: string;\n}\n\n/**\n * Event response interface that houses attributes returned from the authentication events trigger.\n */\nexport interface AuthenticationEventResponse {\n  /** A template of the body of the expected response. */\n  body: string;\n}\n\n/**\n * Event data interface pertaining to the expected payload, this interface houses the common attributes for data events.\n */\nexport interface AuthenticationEventData {\n  /** Tenant the request is related to. */\n  tenantId: string;\n  /** Unique Id for the event. */\n  authenticationEventListenerId: string;\n  /** The unique internal Id of the registered custom extension. */\n  customAuthenticationExtensionId: string;\n}\n\n/**\n * An interface that binds a response that has actions\n */\nexport interface ActionableResponse<TEventAction extends AuthenticationEventAction>\n  extends AuthenticationEventResponse {\n  /** Collections of actions pertaining to the event. */\n  actions: TEventAction[];\n}\n\n/**\n * An interface for any responses that implement an cloud event payload and has actions on it.\n */\nexport interface ActionableCloudEventResponse<TEventAction extends AuthenticationEventAction>\n  extends ActionableResponse<TEventAction> {\n  /** Gets the Cloud Event \\@odata.type. */\n  oDataType: string;\n}\n\n/**\n * An interface representing an action for an event.\n */\nexport interface AuthenticationEventAction {\n  /** Must be overridden, this will be the 'Name' of the action in the JSON. */\n  actionType: string;\n}\n\n/**\n * The status of the request.\n */\nexport type RequestStatus = \"Failed\" | \"TokenInvalid\" | \"Successful\";\n\n/**\n * Return the correctly formatted error\n * */\nexport interface FailedRequest extends AuthenticationEventResponse {\n  //* * The error that caused the request to fail. */\n  error: string;\n}\n\n/**\n * Helper function to create a files request\n * @param error - string or exception\n * @returns a valid FailedRequest object\n */\nexport function createFailedRequest(error: unknown): FailedRequest {\n  return {\n    body: \"\",\n    error: error instanceof Error ? error.message : String(error),\n  };\n}\n"]}