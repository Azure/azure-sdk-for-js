{"version":3,"file":"getTemplates.js","sourceRoot":"","sources":["../../src/getTemplates.ts"],"names":[],"mappings":";AAAA,uCAAuC;AACvC,kCAAkC;;AAOlC,oCAQC;AAZD,+BAA4B;AAC5B,yCAA6C;AAC7C,iDAA2C;AAEpC,KAAK,UAAU,YAAY,CAAC,QAAsB;IACvD,MAAM,WAAW,GAAG,MAAM,QAAQ,CAChC,IAAA,gBAAQ,EAAC,wBAAS,EAAE,IAAI,EAAE,WAAW,EAAE,SAAS,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,CAAC,CACrE,CAAC;IACF,MAAM,aAAa,GAAG,MAAM,QAAQ,CAClC,IAAA,gBAAQ,EAAC,wBAAS,EAAE,IAAI,EAAE,WAAW,EAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,CAAC,CACpE,CAAC;IACF,OAAO,CAAC,GAAG,WAAW,EAAE,GAAG,aAAa,CAAC,CAAC;AAC5C,CAAC;AAED,KAAK,UAAU,QAAQ,CAAC,IAAY;IAClC,iHAAiH;IACjH,kEAAkE;IAClE,wGAAwG;IACxG,MAAM,cAAc,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;IAChD,OAAO,IAAA,WAAI,EAAC,cAAc,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC,CAAC;AAC7C,CAAC","sourcesContent":["// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT License.\n\nimport type { ScaffoldTech } from \"./scaffolding.js\";\nimport { glob } from \"glob\";\nimport { join as pathJoin } from \"node:path\";\nimport { sourceDir } from \"./sourceDir.js\";\n\nexport async function getTemplates(template: ScaffoldTech): Promise<string[]> {\n  const sharedFiles = await getFiles(\n    pathJoin(sourceDir, \"..\", \"templates\", \"_shared\", \"**\", \"**\", \"*.*\"),\n  );\n  const templateFiles = await getFiles(\n    pathJoin(sourceDir, \"..\", \"templates\", template, \"**\", \"**\", \"*.*\"),\n  );\n  return [...sharedFiles, ...templateFiles];\n}\n\nasync function getFiles(path: string): Promise<string[]> {\n  // Starting from glob v8 `\\` is only used as an escape character, and never as a path separator in glob patterns.\n  // Glob pattern paths must use forward-slashes as path separators.\n  // See https://github.com/isaacs/node-glob/blob/af57da21c7722bb6edb687ccd4ad3b99d3e7a333/changelog.md#80\n  const normalizedPath = path.replace(/\\\\/g, \"/\");\n  return glob(normalizedPath, { dot: true });\n}\n"]}