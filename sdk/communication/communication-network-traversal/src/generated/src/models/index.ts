/*
 * Copyright (c) Microsoft Corporation.
 * Licensed under the MIT License.
 *
 * Code generated by Microsoft (R) AutoRest Code Generator.
 * Changes may cause incorrect behavior and will be lost if the code is regenerated.
 */

import * as coreHttp from "@azure/core-http";

/**
 * Request for a CommunicationRelayConfiguration.
 */
export interface CommunicationRelayConfigurationRequest {
  /**
   * An identity to be associated with telemetry for data relayed using the returned credentials. Must be an existing ACS user identity. If not provided, the telemetry will not contain an associated identity value.
   */
  id?: string;
  /**
   * Filter the routing methodology returned. If not provided, will return all route types in separate ICE servers.
   */
  routeType?: RouteType;
}

/**
 * A relay configuration containing the STUN/TURN URLs and credentials.
 */
export interface CommunicationRelayConfiguration {
  /**
   * The date for which the username and credentials are not longer valid. Will be 48 hours from request time.
   */
  expiresOn: Date;
  /**
   * An array representing the credentials and the STUN/TURN server URLs for use in ICE negotiations.
   */
  iceServers: CommunicationIceServer[];
}

/**
 * An instance of a STUN/TURN server with credentials to be used for ICE negotiation.
 */
export interface CommunicationIceServer {
  /**
   * List of STUN/TURN server URLs.
   */
  urls: string[];
  /**
   * User account name which uniquely identifies the credentials.
   */
  username: string;
  /**
   * Credential for the server.
   */
  credential: string;
  /**
   * The routing methodology to where the ICE server will be located from the client. "any" will have higher reliability while "nearest" will have lower latency. It is recommended to default to use the "any" routing method unless there are specific scenarios which minimizing latency is critical.
   */
  routeType: RouteType;
}

/**
 * The Communication Services error.
 */
export interface CommunicationErrorResponse {
  /**
   * The Communication Services error.
   */
  error: CommunicationError;
}

/**
 * The Communication Services error.
 */
export interface CommunicationError {
  /**
   * The error code.
   */
  code: string;
  /**
   * The error message.
   */
  message: string;
  /**
   * The error target.
   */
  readonly target?: string;
  /**
   * Further details about specific errors that led to this error.
   */
  readonly details?: CommunicationError[];
  /**
   * The inner error if any.
   */
  readonly innerError?: CommunicationError;
}

/**
 * Defines values for RouteType.
 */
export type RouteType = "any" | "nearest";

/**
 * Optional parameters.
 */
export interface CommunicationNetworkTraversalIssueRelayConfigurationOptionalParams
  extends coreHttp.OperationOptions {
  /**
   * Optional request for providing the id and/or route type for the returned relay configuration.
   */
  body?: CommunicationRelayConfigurationRequest;
}

/**
 * Contains response data for the issueRelayConfiguration operation.
 */
export type CommunicationNetworkTraversalIssueRelayConfigurationResponse = CommunicationRelayConfiguration & {
  /**
   * The underlying HTTP response.
   */
  _response: coreHttp.HttpResponse & {
    /**
     * The response body as text (string format)
     */
    bodyAsText: string;

    /**
     * The response body as parsed JSON or XML
     */
    parsedBody: CommunicationRelayConfiguration;
  };
};

/**
 * Optional parameters.
 */
export interface NetworkRelayRestClientOptionalParams
  extends coreHttp.ServiceClientOptions {
  /**
   * Api Version
   */
  apiVersion?: string;
  /**
   * Overrides client endpoint.
   */
  endpoint?: string;
}
