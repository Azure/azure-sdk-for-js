## API Report File for "@azure/communication-job-router"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

/// <reference lib="esnext.asynciterable" />

import * as coreHttp from '@azure/core-http';
import { KeyCredential } from '@azure/core-auth';
import { PagedAsyncIterableIterator } from '@azure/core-paging';
import { PipelineOptions } from '@azure/core-http';
import { RequestPolicyFactory } from '@azure/core-http';
import { RestResponse } from '@azure/core-http';
import { TokenCredential } from '@azure/core-auth';

// @public
export interface AcceptJobOfferResponse {
    assignmentId: string;
    jobId: string;
    workerId: string;
}

// @public
export interface AcceptJobOptions extends coreHttp.OperationOptions {
}

// @public
export interface AzureFunctionRule extends RouterRule {
    credential?: AzureFunctionRuleCredential;
    functionUrl: string;
    kind: "azure-function-rule";
}

// @public
export interface AzureFunctionRuleCredential {
    appKey?: string;
    clientId?: string;
    functionKey?: string;
}

// @public
export interface BestWorkerMode extends DistributionMode {
    kind: "best-worker";
    scoringRule?: RouterRuleUnion;
    scoringRuleOptions?: ScoringRuleOptions;
}

// @public
export interface CancelJobOptions extends coreHttp.OperationOptions {
    dispositionCode?: string;
    note?: string;
}

// @public
export interface CancelJobRequest {
    dispositionCode?: string;
    note?: string;
}

// @public
export interface ChannelConfiguration {
    capacityCostPerJob: number;
}

// @public
export interface ClassificationPolicy {
    fallbackQueueId?: string;
    readonly id?: string;
    name?: string;
    prioritizationRule?: RouterRuleUnion;
    queueSelectors?: QueueSelectorAttachmentUnion[];
    workerSelectors?: WorkerSelectorAttachmentUnion[];
}

// @public
export interface CloseJobOptions extends coreHttp.OperationOptions {
    closeTime?: Date;
    dispositionCode?: string;
    note?: string;
}

// @public
export interface CloseJobRequest {
    assignmentId: string;
    closeTime?: Date;
    dispositionCode?: string;
    note?: string;
}

// @public
export interface CompleteJobOptions extends coreHttp.OperationOptions {
    note?: string;
}

// @public
export interface CompleteJobRequest {
    assignmentId: string;
    note?: string;
}

// @public
export interface ConditionalQueueSelector extends QueueSelectorAttachment {
    condition: RouterRuleUnion;
    kind: "conditional";
    labelSelectors: QueueSelector[];
}

// @public
export interface ConditionalWorkerSelector extends WorkerSelectorAttachment {
    condition: RouterRuleUnion;
    kind: "conditional";
    labelSelectors: WorkerSelector[];
}

// @public
export interface CreateClassificationPolicyOptions extends JobRouterUpsertClassificationPolicyOptionalParams {
}

// @public
export interface CreateDistributionPolicyOptions extends JobRouterUpsertDistributionPolicyOptionalParams {
}

// @public
export interface CreateExceptionPolicyOptions extends JobRouterUpsertExceptionPolicyOptionalParams {
}

// @public
export interface CreateJobOptions extends JobRouterUpsertJobOptionalParams {
}

// @public
export interface CreateQueueOptions extends JobRouterUpsertQueueOptionalParams {
}

// @public
export const createSetHeadersPolicy: (headers: {
    [propertyName: string]: any;
}) => RequestPolicyFactory;

// @public
export interface CreateWorkerOptions extends JobRouterUpsertWorkerOptionalParams {
}

// @public
export interface DeclineJobOptions extends coreHttp.OperationOptions {
}

// @public
export interface DeleteClassificationPolicyOptions extends coreHttp.OperationOptions {
}

// @public
export interface DeleteDistributionPolicyOptions extends coreHttp.OperationOptions {
}

// @public
export interface DeleteExceptionPolicyOptions extends coreHttp.OperationOptions {
}

// @public
export interface DeleteJobOptions extends coreHttp.OperationOptions {
}

// @public
export interface DeleteQueueOptions extends coreHttp.OperationOptions {
}

// @public
export interface DeleteWorkerOptions extends coreHttp.OperationOptions {
}

// @public
export interface DeregisterWorkerOptions extends JobRouterUpsertWorkerOptionalParams {
}

// @public
export interface DirectMapRule extends RouterRule {
    kind: "direct-map-rule";
}

// @public
export interface DistributionMode {
    bypassSelectors?: boolean;
    kind: "best-worker" | "longest-idle" | "round-robin";
    maxConcurrentOffers: number;
    minConcurrentOffers: number;
}

// @public (undocumented)
export type DistributionModeUnion = DistributionMode | BestWorkerMode | LongestIdleMode | RoundRobinMode;

// @public
export interface DistributionPolicy {
    readonly id?: string;
    mode?: DistributionModeUnion;
    name?: string;
    offerTtlSeconds?: number;
}

// @public
export interface ExceptionPolicy {
    exceptionRules?: {
        [propertyName: string]: ExceptionRule;
    };
    readonly id?: string;
    name?: string;
}

// @public
export interface ExceptionRule {
    actions: {
        [propertyName: string]: any;
    };
    trigger: JobExceptionTriggerUnion;
}

// @public
export interface ExpressionRule extends RouterRule {
    expression: string;
    kind: "expression-rule";
    language: "powerFx";
}

// @public
export interface GetClassificationPolicyOptions extends coreHttp.OperationOptions {
}

// @public
export interface GetDistributionPolicyOptions extends coreHttp.OperationOptions {
}

// @public
export interface GetExceptionPolicyOptions extends coreHttp.OperationOptions {
}

// @public
export interface GetJobOptions extends coreHttp.OperationOptions {
}

// @public
export interface GetJobPositionOptions extends coreHttp.OperationOptions {
}

// @public
export interface GetQueueOptions extends coreHttp.OperationOptions {
}

// @public
export interface GetWorkerOptions extends coreHttp.OperationOptions {
}

// @public
export interface JobAssignment {
    assignTime: Date;
    closeTime?: Date;
    completeTime?: Date;
    id: string;
    workerId?: string;
}

// @public
export interface JobExceptionTrigger {
    kind: "queue-length" | "wait-time";
}

// @public (undocumented)
export type JobExceptionTriggerUnion = JobExceptionTrigger | QueueLengthExceptionTrigger | WaitTimeExceptionTrigger;

// @public
export interface JobOffer {
    capacityCost: number;
    expiryTimeUtc?: Date;
    id: string;
    jobId: string;
    offerTimeUtc?: Date;
}

// @public
export interface JobPositionDetails {
    estimatedWaitTimeMinutes: number;
    jobId: string;
    position: number;
    queueId: string;
    queueLength: number;
}

// @public
export interface JobQueue {
    distributionPolicyId: string;
    exceptionPolicyId?: string;
    readonly id?: string;
    labels?: {
        [propertyName: string]: any;
    };
    name?: string;
}

// @public
export type JobRouterCancelJobActionResponse = Record<string, unknown> & {
    _response: coreHttp.HttpResponse & {
        bodyAsText: string;
        parsedBody: Record<string, unknown>;
    };
};

// @public
export type JobRouterCloseJobActionResponse = Record<string, unknown> & {
    _response: coreHttp.HttpResponse & {
        bodyAsText: string;
        parsedBody: Record<string, unknown>;
    };
};

// @public
export type JobRouterCompleteJobActionResponse = Record<string, unknown> & {
    _response: coreHttp.HttpResponse & {
        bodyAsText: string;
        parsedBody: Record<string, unknown>;
    };
};

// @public
export type JobRouterDeclineJobActionResponse = Record<string, unknown> & {
    _response: coreHttp.HttpResponse & {
        bodyAsText: string;
        parsedBody: Record<string, unknown>;
    };
};

// @public
export interface JobRouterReclassifyJobActionOptionalParams extends coreHttp.OperationOptions {
    reclassifyJobRequest?: Record<string, unknown>;
}

// @public
export interface JobRouterUpsertClassificationPolicyOptionalParams extends coreHttp.OperationOptions {
}

// @public
export interface JobRouterUpsertDistributionPolicyOptionalParams extends coreHttp.OperationOptions {
}

// @public
export interface JobRouterUpsertExceptionPolicyOptionalParams extends coreHttp.OperationOptions {
}

// @public
export interface JobRouterUpsertJobOptionalParams extends coreHttp.OperationOptions {
}

// @public
export interface JobRouterUpsertQueueOptionalParams extends coreHttp.OperationOptions {
}

// @public
export interface JobRouterUpsertWorkerOptionalParams extends coreHttp.OperationOptions {
}

// @public
export type JobStateSelector = "all" | "pendingClassification" | "queued" | "assigned" | "completed" | "closed" | "cancelled" | "classificationFailed" | "active";

// @public
export type JobStatus = "pendingClassification" | "queued" | "assigned" | "completed" | "closed" | "cancelled" | "classificationFailed" | "created";

// @public
export enum KnownPagedWorkerState {
    Active = "active",
    Draining = "draining",
    Inactive = "inactive"
}

// @public
export enum KnownRouterWorkerState {
    Active = "active",
    Draining = "draining",
    Inactive = "inactive"
}

// @public
export type LabelOperator = "equal" | "notEqual" | "lessThan" | "lessThanEqual" | "greaterThan" | "greaterThanEqual";

// @public
export interface ListClassificationPoliciesOptions extends coreHttp.OperationOptions {
    maxpagesize?: number;
}

// @public
export interface ListDistributionPoliciesOptions extends coreHttp.OperationOptions {
    maxpagesize?: number;
}

// @public
export interface ListExceptionPoliciesOptions extends coreHttp.OperationOptions {
    maxpagesize?: number;
}

// @public
export interface ListJobsOptions extends coreHttp.OperationOptions {
    channelId?: string;
    maxpagesize?: number;
    queueId?: string;
    status?: JobStateSelector;
}

// @public
export interface ListPageSettings {
    continuationToken?: string | null;
}

// @public
export interface ListQueuesOptions extends coreHttp.OperationOptions {
    maxpagesize?: number;
}

// @public
export interface ListWorkersOptions extends coreHttp.OperationOptions {
    channelId?: string;
    hasCapacity?: boolean;
    maxpagesize?: number;
    queueId?: string;
    status?: WorkerStateSelector;
}

// @public
export interface LongestIdleMode extends DistributionMode {
    kind: "longest-idle";
}

// @public
export interface PagedClassificationPolicy {
    fallbackQueueId?: string;
    readonly id?: string;
    name?: string;
    prioritizationRule?: RouterRuleUnion;
    queueSelectors?: QueueSelectorAttachmentUnion[];
    workerSelectors?: WorkerSelectorAttachmentUnion[];
}

// @public
export interface PagedDistributionPolicy {
    readonly id?: string;
    mode?: DistributionModeUnion;
    name?: string;
    offerTtlSeconds?: number;
}

// @public
export interface PagedExceptionPolicy {
    exceptionRules?: {
        [propertyName: string]: ExceptionRule;
    };
    readonly id?: string;
    name?: string;
}

// @public
export interface PagedJob {
    readonly assignments?: {
        [propertyName: string]: JobAssignment;
    };
    readonly attachedWorkerSelectors?: WorkerSelector[];
    channelId?: string;
    channelReference?: string;
    classificationPolicyId?: string;
    dispositionCode?: string;
    readonly enqueueTimeUtc?: Date;
    readonly id?: string;
    readonly jobStatus?: JobStatus;
    labels?: {
        [propertyName: string]: any;
    };
    notes?: {
        [propertyName: string]: string;
    };
    priority?: number;
    queueId?: string;
    requestedWorkerSelectors?: WorkerSelector[];
    tags?: {
        [propertyName: string]: any;
    };
}

// @public
export interface PagedQueue {
    distributionPolicyId?: string;
    exceptionPolicyId?: string;
    readonly id?: string;
    labels?: {
        [propertyName: string]: any;
    };
    name?: string;
}

// @public
export interface PagedWorker {
    readonly assignedJobs?: WorkerAssignment[];
    availableForOffers?: boolean;
    channelConfigurations?: {
        [propertyName: string]: ChannelConfiguration;
    };
    readonly id?: string;
    labels?: {
        [propertyName: string]: any;
    };
    readonly loadRatio?: number;
    readonly offers?: JobOffer[];
    queueAssignments?: {
        [propertyName: string]: Record<string, unknown>;
    };
    readonly state?: PagedWorkerState;
    tags?: {
        [propertyName: string]: any;
    };
    totalCapacity?: number;
}

// @public
export type PagedWorkerState = string;

// @public
export interface PassThroughQueueSelector extends QueueSelectorAttachment {
    key: string;
    kind: "pass-through";
    labelOperator: LabelOperator;
}

// @public
export interface PassThroughWorkerSelector extends WorkerSelectorAttachment {
    key: string;
    kind: "pass-through";
    labelOperator: LabelOperator;
    ttlSeconds?: number;
}

// @public
export interface QueueLengthExceptionTrigger extends JobExceptionTrigger {
    kind: "queue-length";
    threshold: number;
}

// @public
export interface QueueSelector {
    key: string;
    labelOperator: LabelOperator;
    value?: Record<string, unknown>;
}

// @public
export interface QueueSelectorAttachment {
    kind: "conditional" | "pass-through" | "rule-engine" | "static" | "weighted-allocation-queue-selector";
}

// @public (undocumented)
export type QueueSelectorAttachmentUnion = QueueSelectorAttachment | ConditionalQueueSelector | PassThroughQueueSelector | RuleEngineQueueSelector | StaticQueueSelector | WeightedAllocationQueueSelector;

// @public
export interface QueueWeightedAllocation {
    labelSelectors: QueueSelector[];
    weight: number;
}

// @public
export interface ReclassifyJobOptions extends JobRouterReclassifyJobActionOptionalParams {
}

// @public
export interface RegisterWorkerOptions extends JobRouterUpsertWorkerOptionalParams {
}

// @public
export interface RoundRobinMode extends DistributionMode {
    kind: "round-robin";
}

// @public
export class RouterClient {
    constructor(connectionString: string, options?: RouterClientOptions);
    constructor(endpoint: string, credential: KeyCredential, options?: RouterClientOptions);
    constructor(endpoint: string, credential: TokenCredential, options?: RouterClientOptions);
    acceptJobOffer(workerId: string, offerId: string, options?: AcceptJobOptions): Promise<AcceptJobOfferResponse>;
    cancelJob(jobId: string, options?: CancelJobOptions): Promise<JobRouterCancelJobActionResponse>;
    closeJob(jobId: string, assignmentId: string, options?: CloseJobOptions): Promise<JobRouterCloseJobActionResponse>;
    completeJob(jobId: string, assignmentId: string, options?: CompleteJobOptions): Promise<JobRouterCompleteJobActionResponse>;
    createClassificationPolicy(classificationPolicyId: string, classificationPolicy: ClassificationPolicy, options?: CreateClassificationPolicyOptions): Promise<ClassificationPolicy>;
    createDistributionPolicy(distributionPolicyId: string, distributionPolicy: DistributionPolicy, options?: CreateDistributionPolicyOptions): Promise<DistributionPolicy>;
    createExceptionPolicy(exceptionPolicyId: string, exceptionPolicy: ExceptionPolicy, options?: CreateExceptionPolicyOptions): Promise<ExceptionPolicy>;
    createJob(jobId: string, job: RouterJob, options?: CreateJobOptions): Promise<RouterJob>;
    createQueue(queueId: string, queue: JobQueue, options?: CreateQueueOptions): Promise<JobQueue>;
    createWorker(workerId: string, worker: RouterWorker, options?: CreateWorkerOptions): Promise<RouterWorker>;
    declineJobOffer(workerId: string, offerId: string, options?: DeclineJobOptions): Promise<JobRouterDeclineJobActionResponse>;
    deleteClassificationPolicy(classificationPolicyId: string, options?: DeleteClassificationPolicyOptions): Promise<RestResponse>;
    deleteDistributionPolicy(distributionPolicyId: string, options?: DeleteDistributionPolicyOptions): Promise<RestResponse>;
    deleteExceptionPolicy(exceptionPolicyId: string, options?: DeleteExceptionPolicyOptions): Promise<RestResponse>;
    deleteJob(jobId: string, options?: DeleteJobOptions): Promise<RestResponse>;
    deleteQueue(queueId: string, options?: DeleteQueueOptions): Promise<RestResponse>;
    deleteWorker(workerId: string, options?: DeleteWorkerOptions): Promise<RestResponse>;
    deregisterWorker(workerId: string, worker: RouterWorker, options?: DeregisterWorkerOptions): Promise<RouterWorker>;
    getClassificationPolicy(classificationPolicyId: string, options?: GetClassificationPolicyOptions): Promise<ClassificationPolicy>;
    getDistributionPolicy(distributionPolicyId: string, options?: GetDistributionPolicyOptions): Promise<DistributionPolicy>;
    getExceptionPolicy(exceptionPolicyId: string, options?: GetExceptionPolicyOptions): Promise<ExceptionPolicy>;
    getInQueuePosition(jobId: string, options?: GetJobPositionOptions): Promise<JobPositionDetails>;
    getJob(jobId: string, options?: GetJobOptions): Promise<RouterJob>;
    getQueue(queueId: string, options?: GetQueueOptions): Promise<JobQueue>;
    getWorker(workerId: string, options?: GetWorkerOptions): Promise<RouterWorker>;
    listClassificationPolicies(options?: ListClassificationPoliciesOptions): PagedAsyncIterableIterator<PagedClassificationPolicy>;
    listDistributionPolicies(options?: ListDistributionPoliciesOptions): PagedAsyncIterableIterator<PagedDistributionPolicy>;
    listExceptionPolicies(options?: ListExceptionPoliciesOptions): PagedAsyncIterableIterator<PagedExceptionPolicy>;
    listJobs(status?: JobStateSelector, options?: ListJobsOptions): PagedAsyncIterableIterator<PagedJob>;
    listQueues(options?: ListQueuesOptions): PagedAsyncIterableIterator<PagedQueue>;
    listWorkers(options?: ListWorkersOptions): PagedAsyncIterableIterator<PagedWorker>;
    reclassifyJob(jobId: string, options?: ReclassifyJobOptions): Promise<RestResponse>;
    registerWorker(workerId: string, worker: RouterWorker, options?: RegisterWorkerOptions): Promise<RouterWorker>;
    updateClassificationPolicy(classificationPolicyId: string, classificationPolicy: ClassificationPolicy, options?: UpdateClassificationPolicyOptions): Promise<ClassificationPolicy>;
    updateDistributionPolicy(distributionPolicyId: string, distributionPolicy: DistributionPolicy, options?: UpdateDistributionPolicyOptions): Promise<DistributionPolicy>;
    updateExceptionPolicy(exceptionPolicyId: string, exceptionPolicy: ExceptionPolicy, options?: UpdateExceptionPolicyOptions): Promise<ExceptionPolicy>;
    updateJob(jobId: string, job: RouterJob, options?: UpdateJobOptions): Promise<RouterJob>;
    updateQueue(queueId: string, queue: JobQueue, options?: UpdateQueueOptions): Promise<JobQueue>;
    updateWorker(workerId: string, worker: RouterWorker, options?: UpdateWorkerOptions): Promise<RouterWorker>;
}

// @public
export interface RouterClientOptions extends PipelineOptions {
    headers?: {
        [propertyName: string]: any;
    };
}

// @public
export interface RouterJob {
    readonly assignments?: {
        [propertyName: string]: JobAssignment;
    };
    readonly attachedWorkerSelectors?: WorkerSelector[];
    channelId?: string;
    channelReference?: string;
    classificationPolicyId?: string;
    dispositionCode?: string;
    readonly enqueueTimeUtc?: Date;
    readonly id?: string;
    readonly jobStatus?: JobStatus;
    labels?: {
        [propertyName: string]: any;
    };
    notes?: {
        [propertyName: string]: string;
    };
    priority?: number;
    queueId?: string;
    requestedWorkerSelectors?: WorkerSelector[];
    tags?: {
        [propertyName: string]: any;
    };
}

// @public
export interface RouterRule {
    kind: "azure-function-rule" | "direct-map-rule" | "expression-rule" | "static-rule";
}

// @public (undocumented)
export type RouterRuleUnion = RouterRule | AzureFunctionRule | DirectMapRule | ExpressionRule | StaticRule;

// @public
export interface RouterWorker {
    readonly assignedJobs?: WorkerAssignment[];
    availableForOffers?: boolean;
    channelConfigurations?: {
        [propertyName: string]: ChannelConfiguration;
    };
    readonly id?: string;
    labels?: {
        [propertyName: string]: any;
    };
    readonly loadRatio?: number;
    readonly offers?: JobOffer[];
    queueAssignments?: {
        [propertyName: string]: Record<string, unknown>;
    };
    readonly state?: RouterWorkerState;
    tags?: {
        [propertyName: string]: any;
    };
    totalCapacity?: number;
}

// @public
export type RouterWorkerState = string;

// @public
export interface RuleEngineQueueSelector extends QueueSelectorAttachment {
    kind: "rule-engine";
    rule: RouterRuleUnion;
}

// @public
export interface RuleEngineWorkerSelector extends WorkerSelectorAttachment {
    kind: "rule-engine";
    rule: RouterRuleUnion;
}

// @public
export interface ScoringRuleOptions {
    allowScoringBatchOfWorkers?: boolean;
    batchSize?: number;
    descendingOrder?: boolean;
    scoringParameters?: ScoringRuleParameterSelector[];
}

// @public
export type ScoringRuleParameterSelector = "jobLabels" | "workerSelectors";

// @public
export interface StaticQueueSelector extends QueueSelectorAttachment {
    kind: "static";
    labelSelector: QueueSelector;
}

// @public
export interface StaticRule extends RouterRule {
    kind: "static-rule";
    value?: Record<string, unknown>;
}

// @public
export interface StaticWorkerSelector extends WorkerSelectorAttachment {
    kind: "static";
    labelSelector: WorkerSelector;
}

// @public
export interface UpdateClassificationPolicyOptions extends JobRouterUpsertClassificationPolicyOptionalParams {
}

// @public
export interface UpdateDistributionPolicyOptions extends JobRouterUpsertDistributionPolicyOptionalParams {
}

// @public
export interface UpdateExceptionPolicyOptions extends JobRouterUpsertExceptionPolicyOptionalParams {
}

// @public
export interface UpdateJobClassificationOptions extends coreHttp.OperationOptions {
    forceClassification?: boolean;
    patch?: RouterJob;
}

// @public
export interface UpdateJobLabelsOptions extends coreHttp.OperationOptions {
    forceClassification?: boolean;
    patch?: RouterJob;
}

// @public
export interface UpdateJobOptions extends JobRouterUpsertJobOptionalParams {
}

// @public
export interface UpdateQueueOptions extends JobRouterUpsertQueueOptionalParams {
}

// @public
export interface UpdateWorkerOptions extends JobRouterUpsertWorkerOptionalParams {
}

// @public
export interface WaitTimeExceptionTrigger extends JobExceptionTrigger {
    kind: "wait-time";
    threshold: string;
}

// @public
export interface WeightedAllocationQueueSelector extends QueueSelectorAttachment {
    allocations: QueueWeightedAllocation[];
    kind: "weighted-allocation-queue-selector";
}

// @public
export interface WeightedAllocationWorkerSelector extends WorkerSelectorAttachment {
    allocations: WorkerWeightedAllocation[];
    kind: "weighted-allocation-worker-selector";
}

// @public
export interface WorkerAssignment {
    assignTime: Date;
    capacityCost: number;
    id: string;
    jobId: string;
}

// @public
export interface WorkerSelector {
    expedite?: boolean;
    key: string;
    labelOperator: LabelOperator;
    ttlSeconds?: number;
    value?: Record<string, unknown>;
}

// @public
export interface WorkerSelectorAttachment {
    kind: "conditional" | "pass-through" | "rule-engine" | "static" | "weighted-allocation-worker-selector";
}

// @public (undocumented)
export type WorkerSelectorAttachmentUnion = WorkerSelectorAttachment | ConditionalWorkerSelector | PassThroughWorkerSelector | RuleEngineWorkerSelector | StaticWorkerSelector | WeightedAllocationWorkerSelector;

// @public
export type WorkerStateSelector = "active" | "draining" | "inactive" | "all";

// @public
export interface WorkerWeightedAllocation {
    labelSelectors: WorkerSelector[];
    weight: number;
}

// (No @packageDocumentation comment for this package)

```
