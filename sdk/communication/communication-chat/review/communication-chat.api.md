## API Report File for "@azure/communication-chat"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

/// <reference types="node" />
/// <reference lib="esnext.asynciterable" />

import { ChatMessageDeletedEvent } from '@azure/communication-signaling';
import { ChatMessageEditedEvent } from '@azure/communication-signaling';
import { ChatMessageReceivedEvent } from '@azure/communication-signaling';
import { ChatThreadCreatedEvent } from '@azure/communication-signaling';
import { ChatThreadDeletedEvent } from '@azure/communication-signaling';
import { ChatThreadPropertiesUpdatedEvent } from '@azure/communication-signaling';
import { CommonClientOptions } from '@azure/core-client';
import { CommunicationIdentifier } from '@azure/communication-common';
import { CommunicationIdentifierKind } from '@azure/communication-common';
import { CommunicationTokenCredential } from '@azure/communication-common';
import * as coreClient from '@azure/core-client';
import { OperationOptions } from '@azure/core-client';
import { PagedAsyncIterableIterator } from '@azure/core-paging';
import { ParticipantsAddedEvent } from '@azure/communication-signaling';
import { ParticipantsRemovedEvent } from '@azure/communication-signaling';
import { ReadReceiptReceivedEvent } from '@azure/communication-signaling';
import { TypingIndicatorReceivedEvent } from '@azure/communication-signaling';

// @public
export interface AddChatParticipantsResult {
    readonly invalidParticipants?: ChatError[];
}

// @public
export type AddParticipantsOptions = OperationOptions;

// @public
export interface AddParticipantsRequest {
    participants: ChatParticipant[];
}

// @public
export interface ChatAttachment {
    attachmentType: ChatAttachmentType;
    id: string;
    name?: string;
    previewUrl?: string;
    url?: string;
}

// @public
export type ChatAttachmentType = "image" | "file" | "unknown";

// @public
export class ChatClient {
    constructor(endpoint: string, credential: CommunicationTokenCredential, options?: ChatClientOptions);
    createChatThread(request: CreateChatThreadRequest, options?: CreateChatThreadOptions): Promise<CreateChatThreadResult>;
    deleteChatThread(threadId: string, options?: DeleteChatThreadOptions): Promise<void>;
    getChatThreadClient(threadId: string): ChatThreadClient;
    listChatThreads(options?: ListChatThreadsOptions): PagedAsyncIterableIterator<ChatThreadItem>;
    off(event: "chatMessageReceived", listener: (e: ChatMessageReceivedEvent) => void): void;
    off(event: "chatMessageEdited", listener: (e: ChatMessageEditedEvent) => void): void;
    off(event: "chatMessageDeleted", listener: (e: ChatMessageDeletedEvent) => void): void;
    off(event: "typingIndicatorReceived", listener: (e: TypingIndicatorReceivedEvent) => void): void;
    off(event: "readReceiptReceived", listener: (e: ReadReceiptReceivedEvent) => void): void;
    off(event: "chatThreadCreated", listener: (e: ChatThreadCreatedEvent) => void): void;
    off(event: "chatThreadDeleted", listener: (e: ChatThreadDeletedEvent) => void): void;
    off(event: "chatThreadPropertiesUpdated", listener: (e: ChatThreadPropertiesUpdatedEvent) => void): void;
    off(event: "participantsAdded", listener: (e: ParticipantsAddedEvent) => void): void;
    off(event: "participantsRemoved", listener: (e: ParticipantsRemovedEvent) => void): void;
    on(event: "chatMessageReceived", listener: (e: ChatMessageReceivedEvent) => void): void;
    on(event: "chatMessageEdited", listener: (e: ChatMessageEditedEvent) => void): void;
    on(event: "chatMessageDeleted", listener: (e: ChatMessageDeletedEvent) => void): void;
    on(event: "typingIndicatorReceived", listener: (e: TypingIndicatorReceivedEvent) => void): void;
    on(event: "readReceiptReceived", listener: (e: ReadReceiptReceivedEvent) => void): void;
    on(event: "chatThreadCreated", listener: (e: ChatThreadCreatedEvent) => void): void;
    on(event: "chatThreadDeleted", listener: (e: ChatThreadDeletedEvent) => void): void;
    on(event: "chatThreadPropertiesUpdated", listener: (e: ChatThreadPropertiesUpdatedEvent) => void): void;
    on(event: "participantsAdded", listener: (e: ParticipantsAddedEvent) => void): void;
    on(event: "participantsRemoved", listener: (e: ParticipantsRemovedEvent) => void): void;
    on(event: "realTimeNotificationConnected", listener: () => void): void;
    on(event: "realTimeNotificationDisconnected", listener: () => void): void;
    startRealtimeNotifications(): Promise<void>;
    stopRealtimeNotifications(): Promise<void>;
}

// @public
export interface ChatClientOptions extends CommonClientOptions {
}

// @public
export interface ChatError {
    code: string;
    readonly details?: ChatError[];
    readonly innerError?: ChatError;
    message: string;
    readonly target?: string;
}

// @public (undocumented)
export type ChatEventId = "chatMessageReceived" | "chatMessageEdited" | "chatMessageDeleted" | "typingIndicatorReceived" | "readReceiptReceived" | "chatThreadCreated" | "chatThreadDeleted" | "chatThreadPropertiesUpdated" | "participantsAdded" | "participantsRemoved" | "realTimeNotificationConnected" | "realTimeNotificationDisconnected";

// @public
export interface ChatMessage {
    content?: ChatMessageContent;
    createdOn: Date;
    deletedOn?: Date;
    editedOn?: Date;
    id: string;
    metadata?: Record<string, string>;
    policyViolation?: PolicyViolation;
    sender?: CommunicationIdentifierKind;
    senderDisplayName?: string;
    sequenceId: string;
    type: ChatMessageType;
    version: string;
}

// @public
export interface ChatMessageContent {
    attachments?: ChatAttachment[];
    initiator?: CommunicationIdentifierKind;
    message?: string;
    participants?: ChatParticipant[];
    topic?: string;
}

export { ChatMessageDeletedEvent }

export { ChatMessageEditedEvent }

// @public
export interface ChatMessageReadReceipt {
    chatMessageId: string;
    readOn: Date;
    sender: CommunicationIdentifierKind;
}

export { ChatMessageReceivedEvent }

// @public
export type ChatMessageType = "text" | "html" | "topicUpdated" | "participantAdded" | "participantRemoved";

// @public
export interface ChatParticipant {
    displayName?: string;
    id: CommunicationIdentifier;
    metadata?: Record<string, string>;
    shareHistoryTime?: Date;
}

// @public
export type ChatRetentionPolicy = ThreadCreationDateRetentionPolicy | NoneRetentionPolicy;

// @public
export class ChatThreadClient {
    constructor(endpoint: string, threadId: string, credential: CommunicationTokenCredential, options?: ChatThreadClientOptions);
    addParticipants(request: AddParticipantsRequest, options?: AddParticipantsOptions): Promise<AddChatParticipantsResult>;
    deleteImage(imageId: string, options?: DeleteImageOptions): Promise<void>;
    deleteMessage(messageId: string, options?: DeleteMessageOptions): Promise<void>;
    getMessage(messageId: string, options?: GetMessageOptions): Promise<ChatMessage>;
    getProperties(options?: GetPropertiesOptions): Promise<ChatThreadProperties>;
    listMessages(options?: ListMessagesOptions): PagedAsyncIterableIterator<ChatMessage>;
    listParticipants(options?: ListParticipantsOptions): PagedAsyncIterableIterator<ChatParticipant>;
    listReadReceipts(options?: ListReadReceiptsOptions): PagedAsyncIterableIterator<ChatMessageReadReceipt>;
    removeParticipant(participant: CommunicationIdentifier, options?: RemoveParticipantOptions): Promise<void>;
    sendMessage(request: SendMessageRequest, options?: SendMessageOptions): Promise<SendChatMessageResult>;
    sendReadReceipt(request: SendReadReceiptRequest, options?: SendReadReceiptOptions): Promise<void>;
    sendTypingNotification(options?: SendTypingNotificationOptions): Promise<boolean>;
    readonly threadId: string;
    updateMessage(messageId: string, options?: UpdateMessageOptions): Promise<void>;
    updateProperties(options?: UpdateChatThreadPropertiesOptions): Promise<void>;
    updateTopic(topic: string, options?: UpdateTopicOptions): Promise<void>;
    uploadImage(image: ArrayBuffer | Blob, imageFilename: string, options?: UploadImageOptions): Promise<UploadChatImageResult>;
    uploadImage(image: ReadableStream<Uint8Array> | NodeJS.ReadableStream, imageFileName: string, imageBytesLength: number, options?: UploadImageStreamOptions): Promise<UploadChatImageResult>;
}

// @public
export interface ChatThreadClientOptions extends ChatClientOptions {
}

export { ChatThreadCreatedEvent }

export { ChatThreadDeletedEvent }

// @public
export interface ChatThreadItem {
    deletedOn?: Date;
    id: string;
    readonly lastMessageReceivedOn?: Date;
    topic: string;
}

// @public
export interface ChatThreadProperties {
    readonly createdBy?: CommunicationIdentifierKind;
    createdOn: Date;
    deletedOn?: Date;
    id: string;
    messagingPolicy?: MessagingPolicy;
    metadata?: Record<string, string>;
    retentionPolicy?: ChatRetentionPolicy;
    topic: string;
}

export { ChatThreadPropertiesUpdatedEvent }

// @public
export interface CreateChatThreadOptions extends OperationOptions {
    idempotencyToken?: string;
    metadata?: Record<string, string>;
    participants?: ChatParticipant[];
    retentionPolicy?: ChatRetentionPolicy;
}

// @public
export interface CreateChatThreadRequest {
    topic: string;
}

// @public
export interface CreateChatThreadResult {
    chatThread?: ChatThreadProperties;
    readonly invalidParticipants?: ChatError[];
}

// @public
export type DeleteChatThreadOptions = OperationOptions;

// @public
export type DeleteImageOptions = OperationOptions;

// @public
export type DeleteMessageOptions = OperationOptions;

// @public
export type GetMessageOptions = OperationOptions;

// @public
export type GetPropertiesOptions = OperationOptions;

// @public
export type ListChatThreadsOptions = RestListChatThreadsOptions;

// @public
export type ListMessagesOptions = RestListMessagesOptions;

// @public
export interface ListPageSettings {
    continuationToken?: string;
}

// @public
export type ListParticipantsOptions = RestListParticipantsOptions;

// @public
export type ListReadReceiptsOptions = RestListReadReceiptsOptions;

// @public
export interface MessagingPolicy {
    // (undocumented)
    textOnlyChat?: boolean;
}

// @public
export interface NoneRetentionPolicy {
    kind: "none";
}

export { ParticipantsAddedEvent }

export { ParticipantsRemovedEvent }

// @public
export interface PolicyViolation {
    result: PolicyViolationMessageResult;
}

// @public
export type PolicyViolationMessageResult = "contentBlocked" | "warning";

export { ReadReceiptReceivedEvent }

// @public
export type RemoveParticipantOptions = OperationOptions;

// @public
export interface RestListChatThreadsOptions extends coreClient.OperationOptions {
    maxPageSize?: number;
    startTime?: Date;
}

// @public
export interface RestListMessagesOptions extends coreClient.OperationOptions {
    maxPageSize?: number;
    startTime?: Date;
}

// @public
export interface RestListParticipantsOptions extends coreClient.OperationOptions {
    maxPageSize?: number;
    skip?: number;
}

// @public
export interface RestListReadReceiptsOptions extends coreClient.OperationOptions {
    maxPageSize?: number;
    skip?: number;
}

// @public
export interface SendChatMessageResult {
    id: string;
}

// @public
export interface SendMessageOptions extends OperationOptions {
    attachments?: ChatAttachment[];
    metadata?: Record<string, string>;
    senderDisplayName?: string;
    type?: ChatMessageType;
}

// @public
export interface SendMessageRequest {
    content: string;
}

// @public
export type SendReadReceiptOptions = OperationOptions;

// @public
export interface SendReadReceiptRequest {
    chatMessageId: string;
}

// @public
export interface SendTypingNotificationOptions extends OperationOptions {
    senderDisplayName?: string;
}

// @public
export interface ThreadCreationDateRetentionPolicy {
    deleteThreadAfterDays: number;
    kind: "threadCreationDate";
}

export { TypingIndicatorReceivedEvent }

// @public
export interface UpdateChatThreadPropertiesOptions extends OperationOptions {
    metadata?: Record<string, string>;
    retentionPolicy?: ChatRetentionPolicy;
    topic?: string;
}

// @public
export interface UpdateMessageOptions extends OperationOptions {
    attachments?: ChatAttachment[];
    content?: string;
    metadata?: Record<string, string>;
}

// @public
export interface UpdateTopicOptions extends OperationOptions {
}

// @public
export interface UploadChatImageResult {
    attachmentType?: ChatAttachmentType;
    id: string;
    name?: string;
}

// @public
export interface UploadImageOptions extends OperationOptions {
    imageBytesLength?: number;
}

// @public
export type UploadImageStreamOptions = OperationOptions;

// (No @packageDocumentation comment for this package)

```
