{"version":3,"file":"sessionFilePath.js","sourceRoot":"","sources":["../../../src/utils/sessionFilePath.ts"],"names":[],"mappings":"AAAA,uCAAuC;AACvC,kCAAkC;AAElC,OAAO,EAAE,MAAM,EAAE,MAAM,kBAAkB,CAAC;AAC1C,OAAO,EAAE,6BAA6B,EAAE,MAAM,wBAAwB,CAAC;AACvE,OAAO,EAAE,sBAAsB,EAAE,MAAM,6BAA6B,CAAC;AAOrE,MAAM,UAAU,eAAe,CAAC,WAAwB;IACtD,oGAAoG;IACpG,OAAO,GAAG,sBAAsB,EAAE,IAAI,iBAAiB,CAAC,WAAW,CAAC,EAAE,CAAC;AACzE,CAAC;AAED;;;;GAIG;AACH,MAAM,UAAU,iBAAiB,CAAC,WAAwB;IACxD,OAAO,6BAA6B,CAClC,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,UAAU,EAC5B,WAAW,CAAC,UAAU,EACtB,WAAW,CAAC,SAAS,CACtB,CAAC;AACJ,CAAC;AAED,MAAM,UAAU,cAAc;IAC5B,6DAA6D;IAC7D,wIAAwI;IACxI,4EAA4E;IAC5E,MAAM,cAAc,GAAG,sBAAsB,EAAE,CAAC;IAChD,MAAM,MAAM,GAAG,cAAc,CAAC,SAAS,CAAC,CAAC,EAAE,cAAc,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,CAAC;IAC5E,OAAO,GAAG,MAAM,cAAc,CAAC;AACjC,CAAC","sourcesContent":["// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT License.\n\nimport { isNode } from \"@azure/core-util\";\nimport { generateTestRecordingFilePath } from \"./filePathGenerator.js\";\nimport { relativeRecordingsPath } from \"./relativePathCalculator.js\";\n\nexport interface TestContext {\n  suiteTitle: string; // describe(suiteTitle, () => {})\n  testTitle: string; // it(testTitle, () => {})\n}\n\nexport function sessionFilePath(testContext: TestContext): string {\n  // sdk/service/project/recordings/{node|browsers}/<describe-block-title>/recording_<test-title>.json\n  return `${relativeRecordingsPath()}/${recordingFilePath(testContext)}`;\n}\n\n/**\n * Generates a file path with the following structure:\n *\n *  `{node|browsers}/<describe-block-title>/recording_<test-title>.json`\n */\nexport function recordingFilePath(testContext: TestContext): string {\n  return generateTestRecordingFilePath(\n    isNode ? \"node\" : \"browsers\",\n    testContext.suiteTitle,\n    testContext.testTitle,\n  );\n}\n\nexport function assetsJsonPath(): string {\n  // Hacky solution using substring works around the fact that:\n  // 1) the relativeRecordingsPath may not exist on disk (so relativeRecordingsPath()/../assets.json might not exist either, can't use ..)\n  // 2) `path` (and therefore `path.dirname`) is not available in the browser.\n  const recordingsPath = relativeRecordingsPath();\n  const sdkDir = recordingsPath.substring(0, recordingsPath.lastIndexOf(\"/\"));\n  return `${sdkDir}/assets.json`;\n}\n"]}