{"version":3,"file":"registrationSerializer.js","sourceRoot":"","sources":["../../../src/serializers/registrationSerializer.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT License.\n\nimport type {\n  AdmRegistrationDescription,\n  AdmTemplateRegistrationDescription,\n  AppleRegistrationDescription,\n  AppleTemplateRegistrationDescription,\n  BaiduRegistrationDescription,\n  BaiduTemplateRegistrationDescription,\n  BrowserRegistrationDescription,\n  BrowserTemplateRegistrationDescription,\n  GcmRegistrationDescription,\n  GcmTemplateRegistrationDescription,\n  FcmV1RegistrationDescription,\n  FcmV1TemplateRegistrationDescription,\n  MpnsRegistrationDescription,\n  MpnsTemplateRegistrationDescription,\n  RegistrationDescription,\n  RegistrationDescriptionCommon,\n  TemplateRegistrationDescription,\n  XiaomiRegistrationDescription,\n  XiaomiTemplateRegistrationDescription,\n  WindowsRegistrationDescription,\n  WindowsTemplateRegistrationDescription,\n} from \"../models/registration.js\";\nimport {\n  getDateOrUndefined,\n  getString,\n  getStringOrUndefined,\n  getTagsOrUndefined,\n  isDefined,\n} from \"../utils/utils.js\";\nimport { parseXML, stringifyXML } from \"@azure/core-xml\";\nimport { RestError } from \"@azure/core-rest-pipeline\";\nimport { serializeToAtomXmlRequest } from \"../utils/xmlUtils.js\";\n\n/**\n * Represents a registration description parser from the incoming XML.\n */\nexport interface RegistrationDescriptionParser {\n  /**\n   * @internal\n   * Creates a registration type from the incoming entry.\n   */\n  parseRegistrationEntry: (bodyText: string) => Promise<RegistrationDescription>;\n  /**\n   * @internal\n   * Creates a list of registrations from an incoming ATOM XML Feed.\n   */\n  parseRegistrationFeed: (bodyText: string) => Promise<RegistrationDescription[]>;\n  /**\n   * @internal\n   * Creates an Amazon Device Messaging (ADM) registration description from the incoming parsed XML.\n   */\n  createAdmRegistrationDescription: (\n    rawRegistrationDescription: Record<string, any>,\n  ) => AdmRegistrationDescription;\n  /**\n   * @internal\n   * Creates an Amazon Device Messaging (ADM) template registration description from the incoming parsed XML.\n   */\n  createAdmTemplateRegistrationDescription: (\n    rawRegistrationDescription: Record<string, any>,\n  ) => AdmTemplateRegistrationDescription;\n  /**\n   * @internal\n   * Creates an Apple Platform Notification Services (APNs) registration description from the incoming parsed XML.\n   */\n  createAppleRegistrationDescription: (\n    rawRegistrationDescription: Record<string, any>,\n  ) => AppleRegistrationDescription;\n  /**\n   * @internal\n   * Creates an Apple Platform Notification Services (APNs) template registration description from the incoming parsed XML.\n   */\n  createAppleTemplateRegistrationDescription: (\n    rawRegistrationDescription: Record<string, any>,\n  ) => AppleTemplateRegistrationDescription;\n  /**\n   * @internal\n   * Creates a Baidu registration description from the incoming parsed XML.\n   */\n  createBaiduRegistrationDescription: (\n    rawRegistrationDescription: Record<string, any>,\n  ) => BaiduRegistrationDescription;\n  /**\n   * @internal\n   * Creates a Baidu template registration description from the incoming parsed XML.\n   */\n  createBaiduTemplateRegistrationDescription: (\n    rawRegistrationDescription: Record<string, any>,\n  ) => BaiduTemplateRegistrationDescription;\n  /**\n   * @internal\n   * Creates a Web Push registration description from the incoming parsed XML.\n   */\n  createBrowserRegistrationDescription: (\n    rawRegistrationDescription: Record<string, any>,\n  ) => BrowserRegistrationDescription;\n  /**\n   * @internal\n   * Creates a Web Push template registration description from the incoming parsed XML.\n   */\n  createBrowserTemplateRegistrationDescription: (\n    rawRegistrationDescription: Record<string, any>,\n  ) => BrowserTemplateRegistrationDescription;\n  /**\n   * @internal\n   * Creates a Firebase V1 Cloud Messaging (FCM) registration description from the incoming parsed XML.\n   */\n  createFcmV1RegistrationDescription: (\n    rawRegistrationDescription: Record<string, any>,\n  ) => FcmV1RegistrationDescription;\n  /**\n   * @internal\n   * Creates a Firebase V1 Cloud Messaging (FCM) template registration description from the incoming parsed XML.\n   */\n  createFcmV1TemplateRegistrationDescription: (\n    rawRegistrationDescription: Record<string, any>,\n  ) => FcmV1TemplateRegistrationDescription;\n  /**\n   * @internal\n   * Creates a Google Cloud Messaging (GCM) registration description from the incoming parsed XML.\n   */\n  createGcmRegistrationDescription: (\n    rawRegistrationDescription: Record<string, any>,\n  ) => GcmRegistrationDescription;\n  /**\n   * @internal\n   * Creates a Google Cloud Messaging (GCM) template registration description from the incoming parsed XML.\n   */\n  createGcmTemplateRegistrationDescription: (\n    rawRegistrationDescription: Record<string, any>,\n  ) => GcmTemplateRegistrationDescription;\n  /**\n   * @internal\n   * Creates a Microsoft Phone Notification Services (MPNS) registration description from the incoming parsed XML.\n   */\n  createMpnsRegistrationDescription: (\n    rawRegistrationDescription: Record<string, any>,\n  ) => MpnsRegistrationDescription;\n  /**\n   * @internal\n   * Creates a Microsoft Phone Notification Services (MPNS) template registration description from the incoming parsed XML.\n   */\n  createMpnsTemplateRegistrationDescription: (\n    rawRegistrationDescription: Record<string, any>,\n  ) => MpnsTemplateRegistrationDescription;\n  /**\n   * @internal\n   * Creates a Xiaomi registration description from the incoming parsed XML.\n   */\n  createXiaomiRegistrationDescription: (\n    rawRegistrationDescription: Record<string, any>,\n  ) => XiaomiRegistrationDescription;\n  /**\n   * @internal\n   * Creates a Xiaomi template registration description from the incoming parsed XML.\n   */\n  createXiaomiTemplateRegistrationDescription: (\n    rawRegistrationDescription: Record<string, any>,\n  ) => XiaomiTemplateRegistrationDescription;\n  /**\n   * @internal\n   * Creates a Windows Notification Services (WNS) registration description from the incoming parsed XML.\n   */\n  createWindowsRegistrationDescription: (\n    rawRegistrationDescription: Record<string, any>,\n  ) => WindowsRegistrationDescription;\n  /**\n   * @internal\n   * Creates a Windows Notification Services (WNS) template registration description from the incoming parsed XML.\n   */\n  createWindowsTemplateRegistrationDescription: (\n    rawRegistrationDescription: Record<string, any>,\n  ) => WindowsTemplateRegistrationDescription;\n}\n\nexport const registrationDescriptionParser: RegistrationDescriptionParser = {\n  /**\n   * @internal\n   * Creates a registration type from the incoming entry.\n   */\n  async parseRegistrationEntry(bodyText: string): Promise<RegistrationDescription> {\n    const xml = await parseXML(bodyText, { includeRoot: true });\n    delete xml.entry.content[\"$\"];\n    const keyName = Object.keys(xml.entry.content)[0];\n    const content = xml.entry.content[keyName];\n    const methodName = `create${keyName}`;\n\n    const method = this[methodName as keyof RegistrationDescriptionParser] as any;\n    if (!methodName) {\n      throw new RestError(`${keyName} is not a supported registration type`, { statusCode: 500 });\n    }\n\n    return method.call(this, content) as RegistrationDescription;\n  },\n\n  /**\n   * @internal\n   * Creates a list of registrations from an incoming ATOM XML Feed.\n   */\n  async parseRegistrationFeed(bodyText: string): Promise<RegistrationDescription[]> {\n    const xml = await parseXML(bodyText, { includeRoot: true });\n    const results: RegistrationDescription[] = [];\n    if (!isDefined(xml.feed.entry)) {\n      return results;\n    }\n\n    const entries = Array.isArray(xml.feed.entry) ? xml.feed.entry : [xml.feed.entry];\n\n    for (const entry of entries) {\n      delete entry.content[\"$\"];\n\n      const keyName = Object.keys(entry.content)[0];\n      const methodName = `create${keyName}`;\n      const content = entry.content[keyName];\n      const method = this[methodName as keyof RegistrationDescriptionParser] as any;\n      if (!methodName) {\n        throw new RestError(`${keyName} is not a supported registration type`, { statusCode: 500 });\n      }\n\n      results.push(method.call(this, content) as RegistrationDescription);\n    }\n\n    return results;\n  },\n\n  /**\n   * @internal\n   * Creates an ADM registration description from incoming XML property bag.\n   */\n  createAdmRegistrationDescription(\n    rawRegistrationDescription: Record<string, any>,\n  ): AdmRegistrationDescription {\n    return {\n      admRegistrationId: getString(\n        rawRegistrationDescription[\"AdmRegistrationId\"],\n        \"admRegistrationId\",\n      ).trim(),\n      ...createRegistrationDescription(rawRegistrationDescription),\n      kind: \"Adm\",\n    };\n  },\n\n  /**\n   * @internal\n   * Creates an ADM template registration description from incoming XML property bag.\n   */\n  createAdmTemplateRegistrationDescription(\n    rawRegistrationDescription: Record<string, any>,\n  ): AdmTemplateRegistrationDescription {\n    return {\n      ...this.createAdmRegistrationDescription(rawRegistrationDescription),\n      ...createTemplateRegistrationDescription(rawRegistrationDescription),\n      kind: \"AdmTemplate\",\n    };\n  },\n\n  /**\n   * @internal\n   * Creates an Apple registration description from incoming XML property bag.\n   */\n  createAppleRegistrationDescription(\n    rawRegistrationDescription: Record<string, any>,\n  ): AppleRegistrationDescription {\n    return {\n      deviceToken: getString(rawRegistrationDescription[\"DeviceToken\"], \"deviceToken\").trim(),\n      ...createRegistrationDescription(rawRegistrationDescription),\n      kind: \"Apple\",\n    };\n  },\n\n  /**\n   * @internal\n   * Creates an Apple template registration description from incoming XML property bag.\n   */\n  createAppleTemplateRegistrationDescription(\n    rawRegistrationDescription: Record<string, any>,\n  ): AppleTemplateRegistrationDescription {\n    return {\n      priority: getStringOrUndefined(rawRegistrationDescription[\"Priority\"])?.trim() as \"10\" | \"5\",\n      apnsHeaders: getHeadersOrUndefined(rawRegistrationDescription[\"ApnsHeaders\"]?.[\"ApnsHeader\"]),\n      ...this.createAppleRegistrationDescription(rawRegistrationDescription),\n      ...createTemplateRegistrationDescription(rawRegistrationDescription),\n      kind: \"AppleTemplate\",\n    };\n  },\n\n  /**\n   * @internal\n   * Creates a Baidu registration description from incoming XML property bag.\n   */\n  createBaiduRegistrationDescription(\n    rawRegistrationDescription: Record<string, any>,\n  ): BaiduRegistrationDescription {\n    return {\n      baiduChannelId: getString(\n        rawRegistrationDescription[\"BaiduChannelId\"],\n        \"baiduChannelId\",\n      ).trim(),\n      baiduUserId: getString(rawRegistrationDescription[\"BaiduUserId\"], \"baiduUserId\").trim(),\n      ...createRegistrationDescription(rawRegistrationDescription),\n      kind: \"Baidu\",\n    };\n  },\n\n  /**\n   * @internal\n   * Creates a Baidu template registration description from incoming XML property bag.\n   */\n  createBaiduTemplateRegistrationDescription(\n    rawRegistrationDescription: Record<string, any>,\n  ): BaiduTemplateRegistrationDescription {\n    return {\n      ...this.createBaiduRegistrationDescription(rawRegistrationDescription),\n      ...createTemplateRegistrationDescription(rawRegistrationDescription),\n      kind: \"BaiduTemplate\",\n    };\n  },\n\n  /**\n   * @internal\n   * Creates a Browser registration description from incoming XML property bag.\n   */\n  createBrowserRegistrationDescription(\n    rawRegistrationDescription: Record<string, any>,\n  ): BrowserRegistrationDescription {\n    return {\n      endpoint: getString(rawRegistrationDescription[\"Endpoint\"], \"endpoint\").trim(),\n      p256dh: getString(rawRegistrationDescription[\"P256DH\"], \"p256dh\").trim(),\n      auth: getString(rawRegistrationDescription[\"Auth\"], \"auth\").trim(),\n      ...createRegistrationDescription(rawRegistrationDescription),\n      kind: \"Browser\",\n    };\n  },\n\n  /**\n   * @internal\n   * Creates a Browser template registration description from incoming XML property bag.\n   */\n  createBrowserTemplateRegistrationDescription(\n    rawRegistrationDescription: Record<string, any>,\n  ): BrowserTemplateRegistrationDescription {\n    return {\n      ...this.createBrowserRegistrationDescription(rawRegistrationDescription),\n      ...createTemplateRegistrationDescription(rawRegistrationDescription),\n      kind: \"BrowserTemplate\",\n    };\n  },\n  /**\n   * @internal\n   * Creates an GCM registration description from incoming XML property bag.\n   */\n  createFcmV1RegistrationDescription(\n    rawRegistrationDescription: Record<string, any>,\n  ): FcmV1RegistrationDescription {\n    return {\n      fcmV1RegistrationId: getString(\n        rawRegistrationDescription[\"FcmV1RegistrationId\"],\n        \"fcmV1RegistrationId\",\n      ).trim(),\n      ...createRegistrationDescription(rawRegistrationDescription),\n      kind: \"FcmV1\",\n    };\n  },\n\n  /**\n   * @internal\n   * Creates an FCM template registration description from incoming XML property bag.\n   */\n  createFcmV1TemplateRegistrationDescription(\n    rawRegistrationDescription: Record<string, any>,\n  ): FcmV1TemplateRegistrationDescription {\n    return {\n      ...this.createFcmV1RegistrationDescription(rawRegistrationDescription),\n      ...createTemplateRegistrationDescription(rawRegistrationDescription),\n      kind: \"FcmV1Template\",\n    };\n  },\n\n  /**\n   * @internal\n   * Creates an GCM registration description from incoming XML property bag.\n   */\n  createGcmRegistrationDescription(\n    rawRegistrationDescription: Record<string, any>,\n  ): GcmRegistrationDescription {\n    return {\n      gcmRegistrationId: getString(\n        rawRegistrationDescription[\"GcmRegistrationId\"],\n        \"gcmRegistrationId\",\n      ).trim(),\n      ...createRegistrationDescription(rawRegistrationDescription),\n      kind: \"Gcm\",\n    };\n  },\n\n  /**\n   * @internal\n   * Creates an FCM template registration description from incoming XML property bag.\n   */\n  createGcmTemplateRegistrationDescription(\n    rawRegistrationDescription: Record<string, any>,\n  ): GcmTemplateRegistrationDescription {\n    return {\n      ...this.createGcmRegistrationDescription(rawRegistrationDescription),\n      ...createTemplateRegistrationDescription(rawRegistrationDescription),\n      kind: \"GcmTemplate\",\n    };\n  },\n\n  /**\n   * @internal\n   * Creates a Windows Phone registration description from incoming XML property bag.\n   */\n  createMpnsRegistrationDescription(\n    rawRegistrationDescription: Record<string, any>,\n  ): MpnsRegistrationDescription {\n    return {\n      channelUri: getString(rawRegistrationDescription[\"ChannelUri\"], \"channelUri\").trim(),\n      ...createRegistrationDescription(rawRegistrationDescription),\n      kind: \"Mpns\",\n    };\n  },\n\n  /**\n   * @internal\n   * Creates a Windows Phone template registration description from incoming XML property bag.\n   */\n  createMpnsTemplateRegistrationDescription(\n    rawRegistrationDescription: Record<string, any>,\n  ): MpnsTemplateRegistrationDescription {\n    return {\n      mpnsHeaders: getHeadersOrUndefined(rawRegistrationDescription[\"MpnsHeaders\"]?.[\"MpnsHeader\"]),\n      ...this.createWindowsRegistrationDescription(rawRegistrationDescription),\n      ...createTemplateRegistrationDescription(rawRegistrationDescription),\n      kind: \"MpnsTemplate\",\n    };\n  },\n\n  /**\n   * @internal\n   * Creates a Xiaomi registration description from incoming XML property bag.\n   */\n  createXiaomiRegistrationDescription(\n    rawRegistrationDescription: Record<string, any>,\n  ): XiaomiRegistrationDescription {\n    return {\n      xiaomiRegistrationId: getString(\n        rawRegistrationDescription[\"XiaomiRegistrationId\"],\n        \"xiaomiRegistrationId\",\n      ).trim(),\n      ...createRegistrationDescription(rawRegistrationDescription),\n      kind: \"Xiaomi\",\n    };\n  },\n\n  /**\n   * @internal\n   * Creates a Xiaomi template registration description from incoming XML property bag.\n   */\n  createXiaomiTemplateRegistrationDescription(\n    rawRegistrationDescription: Record<string, any>,\n  ): XiaomiTemplateRegistrationDescription {\n    return {\n      ...this.createXiaomiRegistrationDescription(rawRegistrationDescription),\n      ...createTemplateRegistrationDescription(rawRegistrationDescription),\n      kind: \"XiaomiTemplate\",\n    };\n  },\n\n  /**\n   * @internal\n   * Creates a Windows registration description from incoming XML property bag.\n   */\n  createWindowsRegistrationDescription(\n    rawRegistrationDescription: Record<string, any>,\n  ): WindowsRegistrationDescription {\n    return {\n      channelUri: getString(rawRegistrationDescription[\"ChannelUri\"], \"channelUri\").trim(),\n      ...createRegistrationDescription(rawRegistrationDescription),\n      kind: \"Windows\",\n    };\n  },\n\n  /**\n   * @internal\n   * Creates a Windows template registration description from incoming XML property bag.\n   */\n  createWindowsTemplateRegistrationDescription(\n    rawRegistrationDescription: Record<string, any>,\n  ): WindowsTemplateRegistrationDescription {\n    return {\n      wnsHeaders: getHeadersOrUndefined(rawRegistrationDescription[\"WnsHeaders\"]?.[\"WnsHeader\"]),\n      ...this.createWindowsRegistrationDescription(rawRegistrationDescription),\n      ...createTemplateRegistrationDescription(rawRegistrationDescription),\n      kind: \"WindowsTemplate\",\n    };\n  },\n};\n\nfunction getHeadersOrUndefined(\n  value?: { Header: string; Value: string }[],\n): Record<string, string> | undefined {\n  if (!isDefined(value)) {\n    return undefined;\n  }\n\n  const headerObj: Record<string, string> = {};\n  for (const { Header, Value } of value) {\n    headerObj[Header] = Value;\n  }\n\n  return headerObj;\n}\n\nfunction createRegistrationDescription(\n  rawRegistrationDescription: Record<string, any>,\n): Omit<RegistrationDescriptionCommon, \"kind\"> {\n  let pushVariables: Record<string, string> | undefined;\n  const unparsed = getStringOrUndefined(rawRegistrationDescription[\"PushVariables\"])?.trim();\n  if (unparsed) {\n    pushVariables = JSON.parse(unparsed) as Record<string, string>;\n  }\n\n  return {\n    registrationId: getStringOrUndefined(rawRegistrationDescription[\"RegistrationId\"])?.trim(),\n    expirationTime: getDateOrUndefined(rawRegistrationDescription[\"ExpirationTime\"]),\n    etag: getStringOrUndefined(rawRegistrationDescription[\"ETag\"])?.trim(),\n    tags: getTagsOrUndefined(rawRegistrationDescription[\"Tags\"]),\n    pushVariables: pushVariables,\n  };\n}\n\nfunction createTemplateRegistrationDescription(\n  rawRegistrationDescription: Record<string, any>,\n): TemplateRegistrationDescription {\n  return {\n    bodyTemplate: getString(rawRegistrationDescription[\"BodyTemplate\"], \"bodyTemplate\").trim(),\n    templateName: getStringOrUndefined(rawRegistrationDescription[\"TemplateName\"])?.trim(),\n    ...createRegistrationDescription(rawRegistrationDescription),\n  };\n}\n\n/**\n * @internal\n * Represents a serializer for all registration descriptions.\n */\nexport interface RegistrationDescriptionSerializer {\n  /**\n   * @internal\n   * Serializes a registration description into an ATOM XML string.\n   */\n  serializeRegistrationDescription(description: RegistrationDescription): string;\n  /**\n   * @internal\n   * Serializes an Amazon Device Messaging (ADM) registration description into an XML object for serialization.\n   */\n  serializeAdmRegistrationDescription(\n    description: Omit<AdmRegistrationDescription, \"kind\">,\n  ): Record<string, any>;\n  /**\n   * @internal\n   * Serializes an Amazon Device Messaging (ADM) template registration description into an XML object for serialization.\n   */\n  serializeAdmTemplateRegistrationDescription(\n    description: Omit<AdmTemplateRegistrationDescription, \"kind\">,\n  ): Record<string, any>;\n  /**\n   * @internal\n   * Serializes an Apple registration description into an XML object for serialization.\n   */\n  serializeAppleRegistrationDescription(\n    description: Omit<AppleRegistrationDescription, \"kind\">,\n  ): Record<string, any>;\n  /**\n   * @internal\n   * Serializes an Apple template registration description into an XML object for serialization.\n   */\n  serializeAppleTemplateRegistrationDescription(\n    description: Omit<AppleRegistrationDescription, \"kind\">,\n  ): Record<string, any>;\n  /**\n   * @internal\n   * Serializes a Baidu registration description into an XML object for serialization.\n   */\n  serializeBaiduRegistrationDescription(\n    description: Omit<BaiduRegistrationDescription, \"kind\">,\n  ): Record<string, any>;\n  /**\n   * @internal\n   * Serializes a Baidu template registration description into an XML object for serialization.\n   */\n  serializeBaiduTemplateRegistrationDescription(\n    description: Omit<BaiduTemplateRegistrationDescription, \"kind\">,\n  ): Record<string, any>;\n  /**\n   * @internal\n   * Serializes a Web Push registration description into an XML object for serialization.\n   */\n  serializeBrowserRegistrationDescription(\n    description: Omit<BrowserRegistrationDescription, \"kind\">,\n  ): Record<string, any>;\n  /**\n   * @internal\n   * Serializes a Web Push template registration description into an XML object for serialization.\n   */\n  serializeBrowserTemplateRegistrationDescription(\n    description: Omit<BrowserTemplateRegistrationDescription, \"kind\">,\n  ): Record<string, any>;\n  /**\n   * @internal\n   * Serializes a Google Cloud Messaging (GCM) registration description into an XML object for serialization.\n   */\n  serializeFcmV1RegistrationDescription(\n    description: Omit<FcmV1RegistrationDescription, \"kind\">,\n  ): Record<string, any>;\n  /**\n   * @internal\n   * Serializes a Google Cloud Messaging (GCM) template registration description into an XML object for serialization.\n   */\n  serializeFcmV1TemplateRegistrationDescription(\n    description: Omit<FcmV1TemplateRegistrationDescription, \"kind\">,\n  ): Record<string, any>;\n  /**\n   * @internal\n   * Serializes a Google Cloud Messaging (GCM) registration description into an XML object for serialization.\n   */\n  serializeGcmRegistrationDescription(\n    description: Omit<GcmRegistrationDescription, \"kind\">,\n  ): Record<string, any>;\n  /**\n   * @internal\n   * Serializes a Google Cloud Messaging (GCM) template registration description into an XML object for serialization.\n   */\n  serializeGcmTemplateRegistrationDescription(\n    description: Omit<GcmTemplateRegistrationDescription, \"kind\">,\n  ): Record<string, any>;\n  /**\n   * @internal\n   * Serializes a Windows Phone registration description into an XML object for serialization.\n   */\n  serializeMpnsRegistrationDescription(\n    description: Omit<MpnsRegistrationDescription, \"kind\">,\n  ): Record<string, any>;\n  /**\n   * @internal\n   * Serializes a Windows Phone template registration description into an XML object for serialization.\n   */\n  serializeMpnsTemplateRegistrationDescription(\n    description: Omit<MpnsTemplateRegistrationDescription, \"kind\">,\n  ): Record<string, any>;\n  /**\n   * @internal\n   * Serializes a Xiaomi registration description into an XML object for serialization.\n   */\n  serializeXiaomiRegistrationDescription(\n    description: Omit<XiaomiRegistrationDescription, \"kind\">,\n  ): Record<string, any>;\n  /**\n   * @internal\n   * Serializes a Xiaomi template registration description into an XML object for serialization.\n   */\n  serializeXiaomiTemplateRegistrationDescription(\n    description: Omit<XiaomiTemplateRegistrationDescription, \"kind\">,\n  ): Record<string, any>;\n  /**\n   * @internal\n   * Serializes a Windows Notification Services (WNS) registration description into an XML object for serialization.\n   */\n  serializeWindowsRegistrationDescription(\n    description: Omit<WindowsRegistrationDescription, \"kind\">,\n  ): Record<string, any>;\n  /**\n   * @internal\n   * Serializes a Windows Notification Services (WNS) template registration description into an XML object for serialization.\n   */\n  serializeWindowsTemplateRegistrationDescription(\n    description: Omit<WindowsTemplateRegistrationDescription, \"kind\">,\n  ): Record<string, any>;\n}\n\n/**\n * Represents a RegistrationDescription serializer.\n */\nexport const registrationDescriptionSerializer: RegistrationDescriptionSerializer = {\n  serializeRegistrationDescription(description: RegistrationDescription): string {\n    const rootName = `${description.kind}RegistrationDescription`;\n    const methodName = `serialize${rootName}`;\n\n    const method = this[methodName as keyof RegistrationDescriptionSerializer].bind(this) as (\n      description: RegistrationDescription,\n    ) => Record<string, any>;\n    if (!isDefined(method)) {\n      throw new RestError(`Undefined platform ${description.kind}`, { statusCode: 400 });\n    }\n\n    const registration = method(description) as Record<string, any>;\n    const requestObject = serializeToAtomXmlRequest(rootName, registration);\n\n    return stringifyXML(requestObject, { rootName: \"entry\" });\n  },\n\n  /**\n   * @internal\n   * Serializes an existing ADM registration description to an object for serialization.\n   */\n  serializeAdmRegistrationDescription(\n    description: Omit<AdmRegistrationDescription, \"kind\">,\n  ): Record<string, any> {\n    return {\n      ...serializeRegistrationDescription(description),\n      AdmRegistrationId: getString(description.admRegistrationId, \"admRegistrationId\").trim(),\n    };\n  },\n\n  /**\n   * @internal\n   * Serializes an existing ADM template registration description to an object for serialization.\n   */\n  serializeAdmTemplateRegistrationDescription(\n    description: Omit<AdmTemplateRegistrationDescription, \"kind\">,\n  ): Record<string, any> {\n    return {\n      ...this.serializeAdmRegistrationDescription(description),\n      ...serializeTemplateRegistrationDescription(description),\n    };\n  },\n\n  /**\n   * @internal\n   * Serializes an existing Apple registration description to an object for serialization.\n   */\n  serializeAppleRegistrationDescription(\n    description: Omit<AppleRegistrationDescription, \"kind\">,\n  ): Record<string, any> {\n    return {\n      ...serializeRegistrationDescription(description),\n      DeviceToken: getString(description.deviceToken, \"deviceToken\").trim(),\n    };\n  },\n\n  /**\n   * @internal\n   * Serializes an existing Apple template registration description to an object for serialization.\n   */\n  serializeAppleTemplateRegistrationDescription(\n    description: AppleTemplateRegistrationDescription,\n  ): Record<string, any> {\n    let apnsHeaders: Record<string, any> | undefined;\n    if (description.apnsHeaders) {\n      apnsHeaders = {\n        ApnsHeader: [],\n      };\n\n      for (const header of Object.keys(description.apnsHeaders)) {\n        apnsHeaders[\"ApnsHeader\"].push({\n          Header: header.trim(),\n          Value: description.apnsHeaders[header].trim(),\n        });\n      }\n    }\n\n    return {\n      ...this.serializeAppleRegistrationDescription(description),\n      ...serializeTemplateRegistrationDescription(description),\n      Expiry: getStringOrUndefined(description.expiry)?.trim(),\n      ApnsHeaders: apnsHeaders,\n    };\n  },\n\n  /**\n   * @internal\n   * Serializes an existing Baidu registration description to an object for serialization.\n   */\n  serializeBaiduRegistrationDescription(\n    description: Omit<BaiduRegistrationDescription, \"kind\">,\n  ): Record<string, any> {\n    return {\n      ...serializeRegistrationDescription(description),\n      BaiduChannelId: getString(description.baiduChannelId, \"baiduChannelId\").trim(),\n      BaiduUserId: getString(description.baiduUserId, \"baiduUserId\").trim(),\n    };\n  },\n\n  /**\n   * @internal\n   * Serializes an existing Baidu template registration description to an object for serialization.\n   */\n  serializeBaiduTemplateRegistrationDescription(\n    description: Omit<BaiduTemplateRegistrationDescription, \"kind\">,\n  ): Record<string, any> {\n    return {\n      ...this.serializeBaiduRegistrationDescription(description),\n      ...serializeTemplateRegistrationDescription(description),\n    };\n  },\n\n  /**\n   * @internal\n   * Serializes an existing Browser registration description to an object for serialization.\n   */\n  serializeBrowserRegistrationDescription(\n    description: Omit<BrowserRegistrationDescription, \"kind\">,\n  ): Record<string, any> {\n    return {\n      ...serializeRegistrationDescription(description),\n      Endpoint: description.endpoint,\n      P256DH: description.p256dh,\n      Auth: description.auth,\n    };\n  },\n\n  /**\n   * @internal\n   * Serializes an existing Browser template registration description to an object for serialization.\n   */\n  serializeBrowserTemplateRegistrationDescription(\n    description: Omit<BrowserTemplateRegistrationDescription, \"kind\">,\n  ): Record<string, any> {\n    return {\n      ...this.serializeBrowserRegistrationDescription(description),\n      ...serializeTemplateRegistrationDescription(description),\n    };\n  },\n\n  /**\n   * @internal\n   * Serializes an existing FCM V1 registration description to an object for serialization.\n   */\n  serializeFcmV1RegistrationDescription(\n    description: Omit<FcmV1RegistrationDescription, \"kind\">,\n  ): Record<string, any> {\n    return {\n      ...serializeRegistrationDescription(description),\n      FcmV1RegistrationId: getString(description.fcmV1RegistrationId, \"fcmRegistrationId\").trim(),\n    };\n  },\n\n  /**\n   * @internal\n   * Serializes an existing FCM V1 template registration description to an object for serialization.\n   */\n  serializeFcmV1TemplateRegistrationDescription(\n    description: Omit<FcmV1TemplateRegistrationDescription, \"kind\">,\n  ): Record<string, any> {\n    return {\n      ...this.serializeFcmV1RegistrationDescription(description),\n      ...serializeTemplateRegistrationDescription(description),\n    };\n  },\n\n  /**\n   * @internal\n   * Serializes an existing GCM registration description to an object for serialization.\n   */\n  serializeGcmRegistrationDescription(\n    description: Omit<GcmRegistrationDescription, \"kind\">,\n  ): Record<string, any> {\n    return {\n      ...serializeRegistrationDescription(description),\n      GcmRegistrationId: getString(description.gcmRegistrationId, \"gcmRegistrationId\").trim(),\n    };\n  },\n\n  /**\n   * @internal\n   * Serializes an existing GCM template registration description to an object for serialization.\n   */\n  serializeGcmTemplateRegistrationDescription(\n    description: Omit<GcmTemplateRegistrationDescription, \"kind\">,\n  ): Record<string, any> {\n    return {\n      ...this.serializeGcmRegistrationDescription(description),\n      ...serializeTemplateRegistrationDescription(description),\n    };\n  },\n\n  /**\n   * @internal\n   * @deprecated Windows Phone is no longer supported.\n   * Serializes an existing MPNS registration description to an object for serialization.\n   */\n  serializeMpnsRegistrationDescription(\n    description: Omit<MpnsRegistrationDescription, \"kind\">,\n  ): Record<string, any> {\n    return {\n      ...serializeRegistrationDescription(description),\n      ChannelUri: description.channelUri,\n    };\n  },\n\n  /**\n   * @internal\n   * @deprecated Windows Phone is no longer supported.\n   * Serializes an existing MPNS template registration description to an object for serialization.\n   */\n  serializeMpnsTemplateRegistrationDescription(\n    description: Omit<MpnsTemplateRegistrationDescription, \"kind\">,\n  ): Record<string, any> {\n    let mpnsHeaders: Record<string, any> | undefined;\n    if (description.mpnsHeaders) {\n      mpnsHeaders = {\n        MpnsHeader: [],\n      };\n\n      for (const header of Object.keys(description.mpnsHeaders)) {\n        mpnsHeaders[\"MpnsHeader\"].push({\n          Header: header.trim(),\n          Value: description.mpnsHeaders[header].trim(),\n        });\n      }\n    }\n\n    return {\n      ...this.serializeMpnsRegistrationDescription(description),\n      ...serializeTemplateRegistrationDescription(description),\n      MpnsHeaders: mpnsHeaders,\n    };\n  },\n\n  /**\n   * @internal\n   * Serializes an existing Xiaomi registration description to an object for serialization.\n   */\n  serializeXiaomiRegistrationDescription(\n    description: Omit<XiaomiRegistrationDescription, \"kind\">,\n  ): Record<string, any> {\n    return {\n      ...serializeRegistrationDescription(description),\n      XiaomiRegistrationId: getString(\n        description.xiaomiRegistrationId,\n        \"xiaomiRegistrationId\",\n      ).trim(),\n    };\n  },\n\n  /**\n   * @internal\n   * Serializes an existing Xiaomi template registration description to an object for serialization.\n   */\n  serializeXiaomiTemplateRegistrationDescription(\n    description: Omit<XiaomiTemplateRegistrationDescription, \"kind\">,\n  ): Record<string, any> {\n    return {\n      ...this.serializeXiaomiRegistrationDescription(description),\n      ...serializeTemplateRegistrationDescription(description),\n    };\n  },\n\n  /**\n   * @internal\n   * Serializes an existing Windows registration description to an object for serialization.\n   */\n  serializeWindowsRegistrationDescription(\n    description: Omit<WindowsRegistrationDescription, \"kind\">,\n  ): Record<string, any> {\n    return {\n      ...serializeRegistrationDescription(description),\n      ChannelUri: description.channelUri,\n    };\n  },\n\n  /**\n   * @internal\n   * Serializes an existing Windows template registration description to an object for serialization.\n   */\n  serializeWindowsTemplateRegistrationDescription(\n    description: Omit<WindowsTemplateRegistrationDescription, \"kind\">,\n  ): Record<string, any> {\n    let wnsHeaders: Record<string, any> | undefined;\n    if (description.wnsHeaders) {\n      wnsHeaders = {\n        WnsHeader: [],\n      };\n\n      for (const header of Object.keys(description.wnsHeaders)) {\n        wnsHeaders[\"WnsHeader\"].push({\n          Header: header.trim(),\n          Value: description.wnsHeaders[header].trim(),\n        });\n      }\n    }\n\n    return {\n      ...this.serializeWindowsRegistrationDescription(description),\n      ...serializeTemplateRegistrationDescription(description),\n      WnsHeaders: wnsHeaders,\n    };\n  },\n};\n\nfunction serializeRegistrationDescription(\n  description: Omit<RegistrationDescriptionCommon, \"kind\">,\n): Record<string, any> {\n  let tags: string | undefined;\n  if (description.tags) {\n    tags = description.tags.join(\",\");\n  }\n\n  let pushVariables: string | undefined;\n  if (description.pushVariables) {\n    pushVariables = JSON.stringify(description.pushVariables);\n  }\n\n  return {\n    RegistrationId: getStringOrUndefined(description.registrationId),\n    Tags: tags,\n    PushVariables: pushVariables,\n  };\n}\n\nfunction serializeTemplateRegistrationDescription(\n  description: TemplateRegistrationDescription,\n): Record<string, any> {\n  return {\n    BodyTemplate: { __cdata: description.bodyTemplate },\n    TemplateName: getStringOrUndefined(description.templateName)?.trim(),\n  };\n}\n"]}