/*
 * Copyright (c) Microsoft Corporation.
 * Licensed under the MIT License.
 *
 * Code generated by Microsoft (R) AutoRest Code Generator.
 * Changes may cause incorrect behavior and will be lost if the code is regenerated.
 */

import { Recorder } from "@azure-tools/test-recorder";
import { assert } from "chai";
import { createRecorder, createClient } from "./util/recordedClient";
import { MetricsAdvisorRestClientLike } from "../../src";


describe("MetricsAdvisorRestClient", () => {
  let recorder: Recorder;
  let client: MetricsAdvisorRestClientLike;

  beforeEach(async function () {
    recorder = createRecorder(this);
  });

  afterEach(async function () {
    await recorder.stop();
  });

  it("should get latest status by AAD auth", async function () {
    client = createClient(true);
    const res = await client.path("/stats/latest").get();
    // console.log(res);
    assert.equal("200", res.status);
  });

  it("should get latest status by Api Key auth", async function () {
    client = createClient(false);
    const res = await client.path("/stats/latest").get();
    // console.log(res);
    assert.equal("200", res.status);
  });
});
