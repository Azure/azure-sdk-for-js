## API Report File for "@azure/web-pubsub-client"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import type { AbortSignalLike } from '@azure/abort-controller';

// @public
export interface AckMessage extends WebPubSubMessageBase {
    ackId: number;
    error?: AckMessageError;
    readonly kind: "ack";
    success: boolean;
}

// @public
export interface AckMessageError {
    message: string;
    name: string;
}

// @public
export interface CancelInvocationMessage extends WebPubSubMessageBase {
    invocationId: string;
    readonly kind: "cancelInvocation";
}

// @public
export interface ConnectedMessage extends WebPubSubMessageBase {
    connectionId: string;
    readonly kind: "connected";
    reconnectionToken: string;
    userId: string;
}

// @public
export interface DisconnectedMessage extends WebPubSubMessageBase {
    readonly kind: "disconnected";
    message: string;
}

// @public
export type DownstreamMessageType =
/**
* Type for AckMessage
*/
"ack"
/**
* Type for PongMessage
*/
| "pong"
/**
* Type for ConnectedMessage
*/
| "connected"
/**
* Type for DisconnectedMessage
*/
| "disconnected"
/**
* Type for GroupDataMessage
*/
| "groupData"
/**
* Type for ServerDataMessage
*/
| "serverData"
/**
* Type for InvokeResponseMessage
*/
| "invokeResponse";

// @public
export interface GetClientAccessUrlOptions {
    abortSignal?: AbortSignalLike;
}

// @public
export interface GroupDataMessage extends WebPubSubMessageBase {
    data: JSONTypes | ArrayBuffer;
    dataType: WebPubSubDataType;
    fromUserId: string;
    group: string;
    readonly kind: "groupData";
    sequenceId?: number;
}

// @public
export class InvocationError extends Error {
    constructor(message: string, options: InvocationErrorOptions);
    errorDetail?: InvokeResponseError;
    invocationId: string;
}

// @public (undocumented)
export interface InvocationErrorOptions {
    errorDetail?: InvokeResponseError;
    invocationId: string;
}

// @public
export interface InvokeEventOptions {
    abortSignal?: AbortSignalLike;
    invocationId?: string;
}

// @public
export interface InvokeEventResult {
    data?: JSONTypes | ArrayBuffer;
    dataType?: WebPubSubDataType;
    invocationId: string;
}

// @public
export interface InvokeMessage extends WebPubSubMessageBase {
    data?: JSONTypes | ArrayBuffer;
    dataType?: WebPubSubDataType;
    event?: string;
    invocationId: string;
    readonly kind: "invoke";
    target?: "event";
}

// @public
export interface InvokeResponseError {
    message: string;
    name: string;
}

// @public
export interface InvokeResponseMessage extends WebPubSubMessageBase {
    data?: JSONTypes | ArrayBuffer;
    dataType?: WebPubSubDataType;
    error?: InvokeResponseError;
    invocationId: string;
    readonly kind: "invokeResponse";
    success?: boolean;
}

// @public
export interface JoinGroupMessage extends WebPubSubMessageBase {
    ackId?: number;
    group: string;
    readonly kind: "joinGroup";
}

// @public
export interface JoinGroupOptions {
    abortSignal?: AbortSignalLike;
    ackId?: number;
}

// @public
export type JSONTypes = string | number | boolean | object;

// @public
export interface LeaveGroupMessage extends WebPubSubMessageBase {
    ackId?: number;
    group: string;
    readonly kind: "leaveGroup";
}

// @public
export interface LeaveGroupOptions {
    abortSignal?: AbortSignalLike;
    ackId?: number;
}

// @public
export interface OnConnectedArgs {
    connectionId: string;
    userId: string;
}

// @public
export interface OnDisconnectedArgs {
    connectionId?: string;
    message?: DisconnectedMessage;
}

// @public
export interface OnGroupDataMessageArgs {
    message: GroupDataMessage;
}

// @public
export interface OnRejoinGroupFailedArgs {
    error: Error;
    group: string;
}

// @public
export interface OnServerDataMessageArgs {
    message: ServerDataMessage;
}

// @public
export interface OnStoppedArgs {
}

// @public
export interface PingMessage extends WebPubSubMessageBase {
    readonly kind: "ping";
}

// @public
export interface PongMessage extends WebPubSubMessageBase {
    readonly kind: "pong";
}

// @public
export type RetryMode = "Exponential" | "Fixed";

// @public
export interface SendEventMessage extends WebPubSubMessageBase {
    ackId?: number;
    data: JSONTypes | ArrayBuffer;
    dataType: WebPubSubDataType;
    event: string;
    readonly kind: "sendEvent";
}

// @public
export interface SendEventOptions {
    abortSignal?: AbortSignalLike;
    ackId?: number;
    fireAndForget?: boolean;
}

// @public
export class SendMessageError extends Error {
    constructor(message: string, options: SendMessageErrorOptions);
    ackId?: number;
    errorDetail?: AckMessageError;
    name: string;
}

// @public (undocumented)
export interface SendMessageErrorOptions {
    ackId?: number;
    errorDetail?: AckMessageError;
}

// @public
export interface SendToGroupMessage extends WebPubSubMessageBase {
    ackId?: number;
    data: JSONTypes | ArrayBuffer;
    dataType: WebPubSubDataType;
    group: string;
    readonly kind: "sendToGroup";
    noEcho: boolean;
}

// @public
export interface SendToGroupOptions {
    abortSignal?: AbortSignalLike;
    ackId?: number;
    fireAndForget?: boolean;
    noEcho?: boolean;
}

// @public
export interface SequenceAckMessage extends WebPubSubMessageBase {
    readonly kind: "sequenceAck";
    sequenceId: number;
}

// @public
export interface ServerDataMessage extends WebPubSubMessageBase {
    data: JSONTypes | ArrayBuffer;
    dataType: WebPubSubDataType;
    readonly kind: "serverData";
    sequenceId?: number;
}

// @public
export interface StartOptions {
    abortSignal?: AbortSignalLike;
}

// @public
export type UpstreamMessageType =
/**
* Type for JoinGroupMessage
*/
"joinGroup"
/**
* Type for LeaveGroupMessage
*/
| "leaveGroup"
/**
* Type for SendToGroupMessage
*/
| "sendToGroup"
/**
* Type for SendEventMessage
*/
| "sendEvent"
/**
* Type for SequenceAckMessage
*/
| "sequenceAck"
/**
* Type for PingMessage
*/
| "ping"
/**
* Type for InvokeMessage
*/
| "invoke"
/**
* Type for CancelInvocationMessage
*/
| "cancelInvocation";

// @public
export class WebPubSubClient {
    constructor(clientAccessUrl: string, options?: WebPubSubClientOptions);
    constructor(credential: WebPubSubClientCredential, options?: WebPubSubClientOptions);
    invokeEvent(eventName: string, content: JSONTypes | ArrayBuffer, dataType: WebPubSubDataType, options?: InvokeEventOptions): Promise<InvokeEventResult>;
    joinGroup(groupName: string, options?: JoinGroupOptions): Promise<WebPubSubResult>;
    leaveGroup(groupName: string, options?: LeaveGroupOptions): Promise<WebPubSubResult>;
    off(event: "connected", listener: (e: OnConnectedArgs) => void): void;
    off(event: "disconnected", listener: (e: OnDisconnectedArgs) => void): void;
    off(event: "stopped", listener: (e: OnStoppedArgs) => void): void;
    off(event: "server-message", listener: (e: OnServerDataMessageArgs) => void): void;
    off(event: "group-message", listener: (e: OnGroupDataMessageArgs) => void): void;
    off(event: "rejoin-group-failed", listener: (e: OnRejoinGroupFailedArgs) => void): void;
    on(event: "connected", listener: (e: OnConnectedArgs) => void): void;
    on(event: "disconnected", listener: (e: OnDisconnectedArgs) => void): void;
    on(event: "stopped", listener: (e: OnStoppedArgs) => void): void;
    on(event: "server-message", listener: (e: OnServerDataMessageArgs) => void): void;
    on(event: "group-message", listener: (e: OnGroupDataMessageArgs) => void): void;
    on(event: "rejoin-group-failed", listener: (e: OnRejoinGroupFailedArgs) => void): void;
    sendEvent(eventName: string, content: JSONTypes | ArrayBuffer, dataType: WebPubSubDataType, options?: SendEventOptions): Promise<WebPubSubResult>;
    sendToGroup(groupName: string, content: JSONTypes | ArrayBuffer, dataType: WebPubSubDataType, options?: SendToGroupOptions): Promise<WebPubSubResult>;
    start(options?: StartOptions): Promise<void>;
    stop(): void;
}

// @public
export interface WebPubSubClientCredential {
    getClientAccessUrl: string | ((options?: GetClientAccessUrlOptions) => Promise<string>);
}

// @public
export interface WebPubSubClientOptions {
    autoReconnect?: boolean;
    autoRejoinGroups?: boolean;
    keepAliveIntervalInMs?: number;
    keepAliveTimeoutInMs?: number;
    messageRetryOptions?: WebPubSubRetryOptions;
    protocol?: WebPubSubClientProtocol;
    reconnectRetryOptions?: WebPubSubRetryOptions;
}

// @public
export interface WebPubSubClientProtocol {
    readonly isReliableSubProtocol: boolean;
    readonly name: string;
    parseMessages(input: string | ArrayBuffer | Buffer): WebPubSubMessage[] | WebPubSubMessage | null;
    writeMessage(message: WebPubSubMessage): string | ArrayBuffer;
}

// @public
export type WebPubSubDataType =
/**
* Binary type
*/
"binary"
/**
* Json type
*/
| "json"
/**
* Text type
*/
| "text"
/**
* Protobuf type
*/
| "protobuf";

// @public
export const WebPubSubJsonProtocol: () => WebPubSubClientProtocol;

// @public
export const WebPubSubJsonReliableProtocol: () => WebPubSubClientProtocol;

// @public
export type WebPubSubMessage = GroupDataMessage | ServerDataMessage | JoinGroupMessage | LeaveGroupMessage | ConnectedMessage | DisconnectedMessage | SendToGroupMessage | SendEventMessage | SequenceAckMessage | PingMessage | AckMessage | InvokeMessage | InvokeResponseMessage | CancelInvocationMessage | PongMessage;

// @public
export interface WebPubSubMessageBase {
    // (undocumented)
    kind: DownstreamMessageType | UpstreamMessageType;
}

// @public
export interface WebPubSubResult {
    ackId?: number;
    isDuplicated: boolean;
}

// @public
export interface WebPubSubRetryOptions {
    maxRetries?: number;
    maxRetryDelayInMs?: number;
    mode?: RetryMode;
    retryDelayInMs?: number;
}

// (No @packageDocumentation comment for this package)

```
