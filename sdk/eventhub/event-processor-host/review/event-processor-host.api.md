## API Report File for "@azure/event-processor-host"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { aadEventHubsAudience } from '@azure/event-hubs';
import { ApplicationTokenCredentials } from '@azure/ms-rest-nodeauth';
import AsyncLock from 'async-lock';
import { BlobService as BlobService_2 } from 'azure-storage';
import { ClientOptionsBase } from '@azure/event-hubs';
import { DataTransformer } from '@azure/event-hubs';
import { delay } from '@azure/event-hubs';
import { DeviceTokenCredentials } from '@azure/ms-rest-nodeauth';
import { Dictionary } from '@azure/event-hubs';
import { EventData } from '@azure/event-hubs';
import { EventHubClient } from '@azure/event-hubs';
import { EventHubConnectionConfig } from '@azure/event-hubs';
import { EventHubPartitionRuntimeInformation } from '@azure/event-hubs';
import { EventHubRuntimeInformation } from '@azure/event-hubs';
import { EventPosition } from '@azure/event-hubs';
import { MessagingError } from '@azure/event-hubs';
import { MSITokenCredentials } from '@azure/ms-rest-nodeauth';
import { OnError } from '@azure/event-hubs';
import { ServiceResponse } from 'azure-storage';
import { TokenProvider } from '@azure/event-hubs';
import { UserTokenCredentials } from '@azure/ms-rest-nodeauth';

export { aadEventHubsAudience }

// @public
export class BaseLease implements BaseLeaseInfo {
    constructor(info: BaseLeaseInfo);
    getInfo(): BaseLeaseInfo;
    isOwned: boolean;
    isOwnedBy(possibleOwner: string): boolean;
    owner: string;
    readonly partitionId: string;
}

// @public
export interface BaseLeaseInfo {
    owner: string;
    partitionId: string;
}

// @public
export interface CheckpointInfo {
    offset: string;
    partitionId: string;
    sequenceNumber: number;
}

// @public
export namespace CheckpointInfo {
    export function create(partitionId: string, offset?: string, sequenceNumber?: number): CheckpointInfo;
    export function createFromEventData(partitionId: string, eventData: EventData): CheckpointInfo;
    // Warning: (ae-forgotten-export) The symbol "LeaseInfo" needs to be exported by the entry point index.d.ts
    export function createFromLease(lease: LeaseInfo): CheckpointInfo;
}

// @public
export interface CheckpointManager {
    checkpointStoreExists(): Promise<boolean>;
    createAllCheckpointsIfNotExists(partitionIds: string[]): Promise<void>;
    createCheckpointStoreIfNotExists(): Promise<void>;
    deleteCheckpoint(partitionId: string): Promise<void>;
    deleteCheckpointStore(): Promise<void>;
    getCheckpoint(partitionId: string): Promise<CheckpointInfo | undefined>;
    updateCheckpoint(lease: CompleteLease, checkpoint: CheckpointInfo): Promise<void>;
}

// @public
export class CompleteLease extends BaseLease {
    constructor(info: CompleteLeaseInfo);
    epoch: number;
    getInfo(): CompleteLeaseInfo;
    incrementEpoch(): number;
}

// @public
export interface CompleteLeaseInfo extends BaseLeaseInfo {
    epoch: number;
}

export { DataTransformer }

export { delay }

// @public
export interface EPHDiagnosticInfo {
    action: string;
    error: any;
    hostName: string;
    partitionId: string;
}

export { EventData }

export { EventHubPartitionRuntimeInformation }

export { EventHubRuntimeInformation }

export { EventPosition }

// @public
export class EventProcessorHost {
    constructor(hostName: string, options?: EventProcessorHostOptions);
    get consumerGroup(): string;
    static createFromAadTokenCredentials(hostName: string, storageConnectionString: string, storageContainerName: string, namespace: string, eventHubPath: string, credentials: ApplicationTokenCredentials | UserTokenCredentials | DeviceTokenCredentials | MSITokenCredentials, options?: FromTokenProviderOptions): EventProcessorHost;
    static createFromAadTokenCredentialsWithCustomCheckpointAndLeaseManager(hostName: string, namespace: string, eventHubPath: string, credentials: ApplicationTokenCredentials | UserTokenCredentials | DeviceTokenCredentials | MSITokenCredentials, checkpointManager: CheckpointManager, leaseManager: LeaseManager, options?: FromTokenProviderOptions): EventProcessorHost;
    static createFromConnectionString(hostName: string, storageConnectionString: string, storageContainerName: string, eventHubConnectionString: string, options?: FromConnectionStringOptions): EventProcessorHost;
    static createFromConnectionStringWithCustomCheckpointAndLeaseManager(hostName: string, eventHubConnectionString: string, checkpointManager: CheckpointManager, leaseManager: LeaseManager, options?: FromConnectionStringOptions): EventProcessorHost;
    // Warning: (ae-forgotten-export) The symbol "FromIotHubConnectionStringOptions" needs to be exported by the entry point index.d.ts
    static createFromIotHubConnectionString(hostName: string, storageConnectionString: string, storageContainerName: string, iotHubConnectionString: string, options?: FromIotHubConnectionStringOptions): Promise<EventProcessorHost>;
    static createFromIotHubConnectionStringWithCustomCheckpointAndLeaseManager(hostName: string, iotHubConnectionString: string, checkpointManager: CheckpointManager, leaseManager: LeaseManager, options?: FromIotHubConnectionStringOptions): Promise<EventProcessorHost>;
    static createFromTokenProvider(hostName: string, storageConnectionString: string, storageContainerName: string, namespace: string, eventHubPath: string, tokenProvider: TokenProvider, options?: FromTokenProviderOptions): EventProcessorHost;
    static createFromTokenProviderWithCustomCheckpointAndLeaseManager(hostName: string, namespace: string, eventHubPath: string, tokenProvider: TokenProvider, checkpointManager: CheckpointManager, leaseManager: LeaseManager, options?: FromTokenProviderOptions): EventProcessorHost;
    static createHostName(prefix?: string): string;
    getHubRuntimeInformation(): Promise<EventHubRuntimeInformation>;
    getPartitionIds(): Promise<string[]>;
    getPartitionInformation(partitionId: string | number): Promise<EventHubPartitionRuntimeInformation>;
    get hostName(): string;
    get receivingFromPartitions(): string[];
    start(onMessage: OnReceivedMessage, onError: OnReceivedError): Promise<void>;
    stop(): Promise<void>;
}

// @public
export interface EventProcessorHostOptions extends FromConnectionStringOptions {
    checkpointManager?: CheckpointManager;
    eventHubConnectionString?: string;
    leaseManager?: LeaseManager;
    storageConnectionString?: string;
    storageContainerName?: string;
    tokenProvider?: TokenProvider;
}

// @public
export interface FromConnectionStringOptions extends FromTokenProviderOptions {
    eventHubPath?: string;
}

// @public
export interface FromTokenProviderOptions extends ClientOptionsBase {
    consumerGroup?: string;
    fastScanInterval?: number;
    initialOffset?: EventPosition;
    leaseDuration?: number;
    leaseRenewInterval?: number;
    onEphError?: OnEphError;
    slowScanInterval?: number;
    startupScanDelay?: number;
    storageBlobPrefix?: string;
}

// @public
export interface LeaseManager {
    acquireLease(lease: CompleteLease): Promise<boolean>;
    createAllLeasesIfNotExists(partitionIds: string[]): Promise<void>;
    createLeaseStoreIfNotExists(): Promise<void>;
    deleteLease(lease: CompleteLease): Promise<void>;
    deleteLeaseStore(): Promise<void>;
    getAllLeases(): Promise<BaseLease[]>;
    getLease(partitionId: string): Promise<CompleteLease | undefined>;
    leaseDuration: number;
    leaseRenewInterval: number;
    leaseStoreExists(): Promise<boolean>;
    releaseLease(lease: CompleteLease): Promise<void>;
    renewLease(lease: CompleteLease): Promise<boolean>;
    updateLease(lease: CompleteLease): Promise<boolean>;
}

export { MessagingError }

// @public
export type OnEphError = (error: EPHDiagnosticInfo) => void;

export { OnError }

// @public
export type OnReceivedError = (error: MessagingError | Error) => void;

// @public
export type OnReceivedMessage = (context: PartitionContext, eventData: EventData) => void;

// @public
export class PartitionContext {
    // Warning: (ae-forgotten-export) The symbol "HostContextWithCheckpointLeaseManager" needs to be exported by the entry point index.d.ts
    constructor(context: HostContextWithCheckpointLeaseManager, partitionId: string, lease: CompleteLease);
    checkpoint(): Promise<void>;
    checkpointFromEventData(eventData: EventData): Promise<void>;
    get consumerGroup(): string;
    get eventhubPath(): string;
    // (undocumented)
    getInitialOffset(): Promise<EventPosition>;
    lease: CompleteLease;
    get owner(): string;
    readonly partitionId: string;
    setOffsetAndSequenceNumber(eventData: EventData): void;
}


// (No @packageDocumentation comment for this package)

```
