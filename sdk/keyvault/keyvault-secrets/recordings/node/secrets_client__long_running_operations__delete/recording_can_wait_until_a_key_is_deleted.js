let nock = require('nock');

module.exports.testInfo = { "uniqueName": {}, "newDate": {} }

nock('https://keyvault_name.vault.azure.net:443', { "encodedQueryParams": true })
  .put('/secrets/recoverSecretName-canwaituntilakeyisdeleted-undefined')
  .query(true)
  .reply(401, { "error": { "code": "Unauthorized", "message": "Request is missing a Bearer or PoP token." } }, ['Cache-Control',
    'no-cache',
    'Pragma',
    'no-cache',
    'Content-Length',
    '87',
    'Content-Type',
    'application/json; charset=utf-8',
    'Expires',
    '-1',
    'Server',
    'Microsoft-IIS/10.0',
    'WWW-Authenticate',
    'Bearer authorization="https://login.windows.net/12345678-1234-1234-1234-123456789012", resource="https://vault.azure.net"',
    'x-ms-keyvault-region',
    'westus',
    'x-ms-request-id',
    '23fbd202-adcb-41e8-bbe1-6a28d247a6e0',
    'x-ms-keyvault-service-version',
    '1.1.0.879',
    'x-ms-keyvault-network-info',
    'addr=IP_ADDRESS;act_addr_fam=InterNetwork;',
    'X-AspNet-Version',
    '4.0.30319',
    'X-Powered-By',
    'ASP.NET',
    'Strict-Transport-Security',
    'max-age=31536000;includeSubDomains',
    'X-Content-Type-Options',
    'nosniff',
    'Date',
    'Wed, 16 Oct 2019 21:16:20 GMT',
    'Connection',
    'close']);


nock('https://login.microsoftonline.com:443', { "encodedQueryParams": true })
  .post('/12345678-1234-1234-1234-123456789012/oauth2/v2.0/token', "response_type=token&grant_type=client_credentials&client_id=azure_client_id&client_secret=azure_client_secret&scope=https%3A%2F%2Fvault.azure.net%2F.default")
  .reply(200, { "token_type": "Bearer", "expires_in": 3600, "ext_expires_in": 3600, "access_token": "access_token" }, ['Cache-Control',
    'no-cache, no-store',
    'Pragma',
    'no-cache',
    'Content-Type',
    'application/json; charset=utf-8',
    'Expires',
    '-1',
    'Strict-Transport-Security',
    'max-age=31536000; includeSubDomains',
    'X-Content-Type-Options',
    'nosniff',
    'x-ms-request-id',
    '32ba7bcc-9220-409c-b33d-ef3d1cb30000',
    'x-ms-ests-server',
    '2.1.9557.13 - EUS ProdSlices',
    'P3P',
    'CP="DSP CUR OTPi IND OTRi ONL FIN"',
    'Set-Cookie',
    'fpc=AmsLa7Dpy21PnExld6mgW2I_aSJHAQAAAKR_OdUOAAAA; expires=Fri, 15-Nov-2019 21:16:21 GMT; path=/; secure; HttpOnly; SameSite=None',
    'Set-Cookie',
    'x-ms-gateway-slice=estsfd; path=/; secure; HttpOnly',
    'Set-Cookie',
    'stsservicecookie=estsfd; path=/; secure; HttpOnly',
    'Date',
    'Wed, 16 Oct 2019 21:16:20 GMT',
    'Connection',
    'close',
    'Content-Length',
    '1231']);


nock('https://keyvault_name.vault.azure.net:443', { "encodedQueryParams": true })
  .put('/secrets/recoverSecretName-canwaituntilakeyisdeleted-undefined', { "value": "value" })
  .query(true)
  .reply(200, { "value": "value", "id": "https://keyvault_name.vault.azure.net/secrets/recoverSecretName-canwaituntilakeyisdeleted-undefined/cbde9d116e194c9593a2b0c22a081727", "attributes": { "enabled": true, "created": 1571260581, "updated": 1571260581, "recoveryLevel": "Recoverable+Purgeable" } }, ['Cache-Control',
    'no-cache',
    'Pragma',
    'no-cache',
    'Content-Type',
    'application/json; charset=utf-8',
    'Expires',
    '-1',
    'Server',
    'Microsoft-IIS/10.0',
    'x-ms-keyvault-region',
    'westus',
    'x-ms-request-id',
    'fc63b25e-796b-42db-8b5a-8a4468d44fe5',
    'x-ms-keyvault-service-version',
    '1.1.0.879',
    'x-ms-keyvault-network-info',
    'addr=IP_ADDRESS;act_addr_fam=InterNetwork;',
    'X-AspNet-Version',
    '4.0.30319',
    'X-Powered-By',
    'ASP.NET',
    'Strict-Transport-Security',
    'max-age=31536000;includeSubDomains',
    'X-Content-Type-Options',
    'nosniff',
    'Date',
    'Wed, 16 Oct 2019 21:16:21 GMT',
    'Connection',
    'close',
    'Content-Length',
    '267']);


nock('https://keyvault_name.vault.azure.net:443', { "encodedQueryParams": true })
  .delete('/secrets/recoverSecretName-canwaituntilakeyisdeleted-undefined')
  .query(true)
  .reply(401, { "error": { "code": "Unauthorized", "message": "Request is missing a Bearer or PoP token." } }, ['Cache-Control',
    'no-cache',
    'Pragma',
    'no-cache',
    'Content-Length',
    '87',
    'Content-Type',
    'application/json; charset=utf-8',
    'Expires',
    '-1',
    'Server',
    'Microsoft-IIS/10.0',
    'WWW-Authenticate',
    'Bearer authorization="https://login.windows.net/12345678-1234-1234-1234-123456789012", resource="https://vault.azure.net"',
    'x-ms-keyvault-region',
    'westus',
    'x-ms-request-id',
    '3e55e471-9642-45d6-bc48-637a1f875f5b',
    'x-ms-keyvault-service-version',
    '1.1.0.879',
    'x-ms-keyvault-network-info',
    'addr=IP_ADDRESS;act_addr_fam=InterNetwork;',
    'X-AspNet-Version',
    '4.0.30319',
    'X-Powered-By',
    'ASP.NET',
    'Strict-Transport-Security',
    'max-age=31536000;includeSubDomains',
    'X-Content-Type-Options',
    'nosniff',
    'Date',
    'Wed, 16 Oct 2019 21:16:21 GMT',
    'Connection',
    'close']);


nock('https://login.microsoftonline.com:443', { "encodedQueryParams": true })
  .post('/12345678-1234-1234-1234-123456789012/oauth2/v2.0/token', "response_type=token&grant_type=client_credentials&client_id=azure_client_id&client_secret=azure_client_secret&scope=https%3A%2F%2Fvault.azure.net%2F.default")
  .reply(200, { "token_type": "Bearer", "expires_in": 3600, "ext_expires_in": 3600, "access_token": "access_token" }, ['Cache-Control',
    'no-cache, no-store',
    'Pragma',
    'no-cache',
    'Content-Type',
    'application/json; charset=utf-8',
    'Expires',
    '-1',
    'Strict-Transport-Security',
    'max-age=31536000; includeSubDomains',
    'X-Content-Type-Options',
    'nosniff',
    'x-ms-request-id',
    '560c9d0d-a7c2-46d5-9ce1-e898939f2300',
    'x-ms-ests-server',
    '2.1.9524.11 - NCUS ProdSlices',
    'P3P',
    'CP="DSP CUR OTPi IND OTRi ONL FIN"',
    'Set-Cookie',
    'fpc=AmsLa7Dpy21PnExld6mgW2I_aSJHAgAAAKR_OdUOAAAA; expires=Fri, 15-Nov-2019 21:16:22 GMT; path=/; secure; HttpOnly; SameSite=None',
    'Set-Cookie',
    'x-ms-gateway-slice=estsfd; path=/; secure; HttpOnly',
    'Set-Cookie',
    'stsservicecookie=estsfd; path=/; secure; HttpOnly',
    'Date',
    'Wed, 16 Oct 2019 21:16:21 GMT',
    'Connection',
    'close',
    'Content-Length',
    '1231']);


nock('https://keyvault_name.vault.azure.net:443', { "encodedQueryParams": true })
  .delete('/secrets/recoverSecretName-canwaituntilakeyisdeleted-undefined')
  .query(true)
  .reply(200, { "recoveryId": "https://keyvault_name.vault.azure.net/deletedsecrets/recoverSecretName-canwaituntilakeyisdeleted-undefined", "deletedDate": 1571260582, "scheduledPurgeDate": 1579036582, "id": "https://keyvault_name.vault.azure.net/secrets/recoverSecretName-canwaituntilakeyisdeleted-undefined/cbde9d116e194c9593a2b0c22a081727", "attributes": { "enabled": true, "created": 1571260581, "updated": 1571260581, "recoveryLevel": "Recoverable+Purgeable" } }, ['Cache-Control',
    'no-cache',
    'Pragma',
    'no-cache',
    'Content-Type',
    'application/json; charset=utf-8',
    'Expires',
    '-1',
    'Server',
    'Microsoft-IIS/10.0',
    'x-ms-keyvault-region',
    'westus',
    'x-ms-request-id',
    '1468b82e-ef3d-4c59-8856-372edfbfc10b',
    'x-ms-keyvault-service-version',
    '1.1.0.879',
    'x-ms-keyvault-network-info',
    'addr=IP_ADDRESS;act_addr_fam=InterNetwork;',
    'X-AspNet-Version',
    '4.0.30319',
    'X-Powered-By',
    'ASP.NET',
    'Strict-Transport-Security',
    'max-age=31536000;includeSubDomains',
    'X-Content-Type-Options',
    'nosniff',
    'Date',
    'Wed, 16 Oct 2019 21:16:22 GMT',
    'Connection',
    'close',
    'Content-Length',
    '428']);


nock('https://keyvault_name.vault.azure.net:443', { "encodedQueryParams": true })
  .delete('/deletedsecrets/recoverSecretName-canwaituntilakeyisdeleted-undefined')
  .query(true)
  .reply(401, { "error": { "code": "Unauthorized", "message": "Request is missing a Bearer or PoP token." } }, ['Cache-Control',
    'no-cache',
    'Pragma',
    'no-cache',
    'Content-Length',
    '87',
    'Content-Type',
    'application/json; charset=utf-8',
    'Expires',
    '-1',
    'Server',
    'Microsoft-IIS/10.0',
    'WWW-Authenticate',
    'Bearer authorization="https://login.windows.net/12345678-1234-1234-1234-123456789012", resource="https://vault.azure.net"',
    'x-ms-keyvault-region',
    'westus',
    'x-ms-request-id',
    '8aa62c42-099f-44e4-9b41-cb1326ed369e',
    'x-ms-keyvault-service-version',
    '1.1.0.879',
    'x-ms-keyvault-network-info',
    'addr=IP_ADDRESS;act_addr_fam=InterNetwork;',
    'X-AspNet-Version',
    '4.0.30319',
    'X-Powered-By',
    'ASP.NET',
    'Strict-Transport-Security',
    'max-age=31536000;includeSubDomains',
    'X-Content-Type-Options',
    'nosniff',
    'Date',
    'Wed, 16 Oct 2019 21:16:22 GMT',
    'Connection',
    'close']);


nock('https://login.microsoftonline.com:443', { "encodedQueryParams": true })
  .post('/12345678-1234-1234-1234-123456789012/oauth2/v2.0/token', "response_type=token&grant_type=client_credentials&client_id=azure_client_id&client_secret=azure_client_secret&scope=https%3A%2F%2Fvault.azure.net%2F.default")
  .reply(200, { "token_type": "Bearer", "expires_in": 3600, "ext_expires_in": 3600, "access_token": "access_token" }, ['Cache-Control',
    'no-cache, no-store',
    'Pragma',
    'no-cache',
    'Content-Type',
    'application/json; charset=utf-8',
    'Expires',
    '-1',
    'Strict-Transport-Security',
    'max-age=31536000; includeSubDomains',
    'X-Content-Type-Options',
    'nosniff',
    'x-ms-request-id',
    'ae50301a-6c62-4a5c-a2bb-0ef8502d0000',
    'x-ms-ests-server',
    '2.1.9557.13 - EUS ProdSlices',
    'P3P',
    'CP="DSP CUR OTPi IND OTRi ONL FIN"',
    'Set-Cookie',
    'fpc=AmsLa7Dpy21PnExld6mgW2I_aSJHAwAAAKR_OdUOAAAA; expires=Fri, 15-Nov-2019 21:16:23 GMT; path=/; secure; HttpOnly; SameSite=None',
    'Set-Cookie',
    'x-ms-gateway-slice=estsfd; path=/; secure; HttpOnly',
    'Set-Cookie',
    'stsservicecookie=estsfd; path=/; secure; HttpOnly',
    'Date',
    'Wed, 16 Oct 2019 21:16:22 GMT',
    'Connection',
    'close',
    'Content-Length',
    '1231']);


nock('https://keyvault_name.vault.azure.net:443', { "encodedQueryParams": true })
  .delete('/deletedsecrets/recoverSecretName-canwaituntilakeyisdeleted-undefined')
  .query(true)
  .reply(409, { "error": { "code": "Conflict", "message": "Secret is currently being deleted.", "innererror": { "code": "ObjectIsBeingDeleted" } } }, ['Cache-Control',
    'no-cache',
    'Pragma',
    'no-cache',
    'Content-Length',
    '121',
    'Content-Type',
    'application/json; charset=utf-8',
    'Expires',
    '-1',
    'Server',
    'Microsoft-IIS/10.0',
    'x-ms-keyvault-region',
    'westus',
    'x-ms-request-id',
    '953a3603-2137-412d-a79d-333eafca5878',
    'x-ms-keyvault-service-version',
    '1.1.0.879',
    'x-ms-keyvault-network-info',
    'addr=IP_ADDRESS;act_addr_fam=InterNetwork;',
    'X-AspNet-Version',
    '4.0.30319',
    'X-Powered-By',
    'ASP.NET',
    'Strict-Transport-Security',
    'max-age=31536000;includeSubDomains',
    'X-Content-Type-Options',
    'nosniff',
    'Date',
    'Wed, 16 Oct 2019 21:16:22 GMT',
    'Connection',
    'close']);


nock('https://keyvault_name.vault.azure.net:443', { "encodedQueryParams": true })
  .delete('/deletedsecrets/recoverSecretName-canwaituntilakeyisdeleted-undefined')
  .query(true)
  .reply(401, { "error": { "code": "Unauthorized", "message": "Request is missing a Bearer or PoP token." } }, ['Cache-Control',
    'no-cache',
    'Pragma',
    'no-cache',
    'Content-Length',
    '87',
    'Content-Type',
    'application/json; charset=utf-8',
    'Expires',
    '-1',
    'Server',
    'Microsoft-IIS/10.0',
    'WWW-Authenticate',
    'Bearer authorization="https://login.windows.net/12345678-1234-1234-1234-123456789012", resource="https://vault.azure.net"',
    'x-ms-keyvault-region',
    'westus',
    'x-ms-request-id',
    'b1155875-f1dd-460d-a260-90602b73dd27',
    'x-ms-keyvault-service-version',
    '1.1.0.879',
    'x-ms-keyvault-network-info',
    'addr=IP_ADDRESS;act_addr_fam=InterNetwork;',
    'X-AspNet-Version',
    '4.0.30319',
    'X-Powered-By',
    'ASP.NET',
    'Strict-Transport-Security',
    'max-age=31536000;includeSubDomains',
    'X-Content-Type-Options',
    'nosniff',
    'Date',
    'Wed, 16 Oct 2019 21:16:33 GMT',
    'Connection',
    'close']);


nock('https://login.microsoftonline.com:443', { "encodedQueryParams": true })
  .post('/12345678-1234-1234-1234-123456789012/oauth2/v2.0/token', "response_type=token&grant_type=client_credentials&client_id=azure_client_id&client_secret=azure_client_secret&scope=https%3A%2F%2Fvault.azure.net%2F.default")
  .reply(200, { "token_type": "Bearer", "expires_in": 3600, "ext_expires_in": 3600, "access_token": "access_token" }, ['Cache-Control',
    'no-cache, no-store',
    'Pragma',
    'no-cache',
    'Content-Type',
    'application/json; charset=utf-8',
    'Expires',
    '-1',
    'Strict-Transport-Security',
    'max-age=31536000; includeSubDomains',
    'X-Content-Type-Options',
    'nosniff',
    'x-ms-request-id',
    'b0ac730a-7eca-4859-a00d-bea255f51d00',
    'x-ms-ests-server',
    '2.1.9524.11 - SCUS ProdSlices',
    'P3P',
    'CP="DSP CUR OTPi IND OTRi ONL FIN"',
    'Set-Cookie',
    'fpc=AmsLa7Dpy21PnExld6mgW2I_aSJHBAAAAKR_OdUOAAAA; expires=Fri, 15-Nov-2019 21:16:34 GMT; path=/; secure; HttpOnly; SameSite=None',
    'Set-Cookie',
    'x-ms-gateway-slice=estsfd; path=/; secure; HttpOnly',
    'Set-Cookie',
    'stsservicecookie=estsfd; path=/; secure; HttpOnly',
    'Date',
    'Wed, 16 Oct 2019 21:16:33 GMT',
    'Connection',
    'close',
    'Content-Length',
    '1231']);


nock('https://keyvault_name.vault.azure.net:443', { "encodedQueryParams": true })
  .delete('/deletedsecrets/recoverSecretName-canwaituntilakeyisdeleted-undefined')
  .query(true)
  .reply(204, "", ['Cache-Control',
    'no-cache',
    'Pragma',
    'no-cache',
    'Expires',
    '-1',
    'Server',
    'Microsoft-IIS/10.0',
    'x-ms-keyvault-region',
    'westus',
    'x-ms-request-id',
    '586aad30-1a60-487b-9b82-236910bff646',
    'x-ms-keyvault-service-version',
    '1.1.0.879',
    'x-ms-keyvault-network-info',
    'addr=IP_ADDRESS;act_addr_fam=InterNetwork;',
    'X-AspNet-Version',
    '4.0.30319',
    'X-Powered-By',
    'ASP.NET',
    'Strict-Transport-Security',
    'max-age=31536000;includeSubDomains',
    'X-Content-Type-Options',
    'nosniff',
    'Date',
    'Wed, 16 Oct 2019 21:16:33 GMT',
    'Connection',
    'close']);
