let nock = require('nock');

module.exports.testInfo = {"uniqueName":{},"newDate":{}}

nock('https://keyvault_name.vault.azure.net:443', {"encodedQueryParams":true})
  .post('/certificates/mergeCertificateName-canmergeaselfsignedcertificate-/create')
  .query(true)
  .reply(401, {"error":{"code":"Unauthorized","message":"Request is missing a Bearer or PoP token."}}, [ 'Cache-Control',
  'no-cache',
  'Pragma',
  'no-cache',
  'Content-Length',
  '87',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Server',
  'Microsoft-IIS/10.0',
  'WWW-Authenticate',
  'Bearer authorization="https://login.windows.net/azure_tenant_id", resource="https://vault.azure.net"',
  'x-ms-keyvault-region',
  'westus',
  'x-ms-request-id',
  '87f9ab63-d5f3-40a1-919a-5567aa6bee2e',
  'x-ms-keyvault-service-version',
  '1.1.0.876',
  'x-ms-keyvault-network-info',
  'addr=104.211.57.181;act_addr_fam=InterNetwork;',
  'X-AspNet-Version',
  '4.0.30319',
  'X-Powered-By',
  'ASP.NET',
  'Strict-Transport-Security',
  'max-age=31536000;includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'Date',
  'Sat, 31 Aug 2019 19:22:12 GMT',
  'Connection',
  'close' ]);


nock('https://login.microsoftonline.com:443', {"encodedQueryParams":true})
  .post('/azure_tenant_id/oauth2/v2.0/token', "response_type=token&grant_type=client_credentials&client_id=azure_client_id&client_secret=azure_client_secret&scope=https%3A%2F%2Fvault.azure.net%2F.default")
  .reply(200, {"token_type":"Bearer","expires_in":3600,"ext_expires_in":3600,"access_token":"access_token"}, [ 'Cache-Control',
  'no-cache, no-store',
  'Pragma',
  'no-cache',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Strict-Transport-Security',
  'max-age=31536000; includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'x-ms-request-id',
  'b939714f-dbf2-49e6-9030-da042c475100',
  'x-ms-ests-server',
  '2.1.9316.5 - SCUS ProdSlices',
  'P3P',
  'CP="DSP CUR OTPi IND OTRi ONL FIN"',
  'Set-Cookie',
  'fpc=Ag61uUtmR7lJkeknJJe-Y5M_aSJHAQAAAOW__NQOAAAA; expires=Mon, 30-Sep-2019 19:22:13 GMT; path=/; secure; HttpOnly',
  'Set-Cookie',
  'x-ms-gateway-slice=estsfd; path=/; secure; HttpOnly',
  'Set-Cookie',
  'stsservicecookie=estsfd; path=/; secure; HttpOnly',
  'Date',
  'Sat, 31 Aug 2019 19:22:12 GMT',
  'Connection',
  'close',
  'Content-Length',
  '1231' ]);


nock('https://keyvault_name.vault.azure.net:443', {"encodedQueryParams":true})
  .post('/certificates/mergeCertificateName-canmergeaselfsignedcertificate-/create', {"policy":{"x509_props":{"subject":"cn=MyCert"},"issuer":{"name":"Unknown","cert_transparency":false}},"attributes":{}})
  .query(true)
  .reply(202, {"id":"https://keyvault_name.vault.azure.net/certificates/mergeCertificateName-canmergeaselfsignedcertificate-/pending","issuer":{"name":"Unknown"},"csr":"MIICoTCCAYkCAQAwETEPMA0GA1UEAxMGTXlDZXJ0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAzWGE0CVADlKY4J2D6vt5RAC+TOfhojYmHdvCZc7drdw8EuOc5joPwARlgr2sm/ENV5QxqTKLcSCoZYW4NeTZNshaYUeW6mRmVguV9T7FqzteajiRPkqnnbL1YHdrmEgAr47CcBjPkPHcGzNxCjLJdbWa9ClCx0De1zT6ZCaoufLetSKXezac3FCijBKh6S3s8KIKYPty6th/nXZUPgp8ZODSShdXXw+7l6pyGtwj6vJddjlhaZ7vg6kZX+EE3yPBOLS790eU6h6Y6TorsHxUKao1ecIZRBC/uGG+FZ90g8KcaShjU90c7Cr08VXKwy1DvU0kPCdSjtvCGpQHjIIcUwIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCBaAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAE9JVl/JCOXeZdzgax3N/t5ZPfsT0rOVD71cpc58PhQsfkjQOuc7P8654k9IjVKwHpOLQAG+rGKDiOR6sJsMIe9b2aFM/hqStUC0XyHr9e+BnnapDfS/yn/uJUVHR0czP9YRWYB1vMZlPB93pDF8bgRmYZWcJj9jxY2tNsNW8SvzRtIAOb00UPSNKxfc4972RaKwyDwcjAbOTc5nnLHHIdMYyCcJtdkv05mrsihgIu0vyh0mCyHS8tmi0Xa8YfLQBWNT3nv9D7grOYPBKmeCCBHGBD/4cTTgpfurSDJLMVUz86mQoj82Qk/IjZZZey5nUDtBKbsSYvlkQnKvJ12d/gw=","cancellation_requested":false,"status":"inProgress","status_details":"Pending certificate created. Please Perform Merge to complete the request.","request_id":"6b1130dacc3a4260899a33c8d1d720b7"}, [ 'Cache-Control',
  'no-cache',
  'Pragma',
  'no-cache',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Location',
  'https://keyvault_name.vault.azure.net/certificates/mergeCertificateName-canmergeaselfsignedcertificate-/pending?api-version=7.0&request_id=6b1130dacc3a4260899a33c8d1d720b7',
  'Retry-After',
  '10',
  'Server',
  'Microsoft-IIS/10.0',
  'x-ms-keyvault-region',
  'westus',
  'x-ms-request-id',
  '2bb9e3dd-d67c-470e-972c-0779a50d95f0',
  'x-ms-keyvault-service-version',
  '1.1.0.876',
  'x-ms-keyvault-network-info',
  'addr=104.211.57.181;act_addr_fam=InterNetwork;',
  'X-AspNet-Version',
  '4.0.30319',
  'X-Powered-By',
  'ASP.NET',
  'Strict-Transport-Security',
  'max-age=31536000;includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'Date',
  'Sat, 31 Aug 2019 19:22:14 GMT',
  'Connection',
  'close',
  'Content-Length',
  '1270' ]);


nock('https://keyvault_name.vault.azure.net:443', {"encodedQueryParams":true})
  .get('/certificates/mergeCertificateName-canmergeaselfsignedcertificate-/pending')
  .query(true)
  .reply(401, {"error":{"code":"Unauthorized","message":"Request is missing a Bearer or PoP token."}}, [ 'Cache-Control',
  'no-cache',
  'Pragma',
  'no-cache',
  'Content-Length',
  '87',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Server',
  'Microsoft-IIS/10.0',
  'WWW-Authenticate',
  'Bearer authorization="https://login.windows.net/azure_tenant_id", resource="https://vault.azure.net"',
  'x-ms-keyvault-region',
  'westus',
  'x-ms-request-id',
  '9e81f7fe-1648-4ad7-ab1f-26451049212d',
  'x-ms-keyvault-service-version',
  '1.1.0.876',
  'x-ms-keyvault-network-info',
  'addr=104.211.57.181;act_addr_fam=InterNetwork;',
  'X-AspNet-Version',
  '4.0.30319',
  'X-Powered-By',
  'ASP.NET',
  'Strict-Transport-Security',
  'max-age=31536000;includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'Date',
  'Sat, 31 Aug 2019 19:22:14 GMT',
  'Connection',
  'close' ]);


nock('https://login.microsoftonline.com:443', {"encodedQueryParams":true})
  .post('/azure_tenant_id/oauth2/v2.0/token', "response_type=token&grant_type=client_credentials&client_id=azure_client_id&client_secret=azure_client_secret&scope=https%3A%2F%2Fvault.azure.net%2F.default")
  .reply(200, {"token_type":"Bearer","expires_in":3599,"ext_expires_in":3599,"access_token":"access_token"}, [ 'Cache-Control',
  'no-cache, no-store',
  'Pragma',
  'no-cache',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Strict-Transport-Security',
  'max-age=31536000; includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'x-ms-request-id',
  '5a609ab7-9e8e-49eb-98f5-ea2840e85400',
  'x-ms-ests-server',
  '2.1.9316.5 - NCUS ProdSlices',
  'P3P',
  'CP="DSP CUR OTPi IND OTRi ONL FIN"',
  'Set-Cookie',
  'fpc=Ag61uUtmR7lJkeknJJe-Y5M_aSJHAgAAAOW__NQOAAAA; expires=Mon, 30-Sep-2019 19:22:14 GMT; path=/; secure; HttpOnly',
  'Set-Cookie',
  'x-ms-gateway-slice=estsfd; path=/; secure; HttpOnly',
  'Set-Cookie',
  'stsservicecookie=estsfd; path=/; secure; HttpOnly',
  'Date',
  'Sat, 31 Aug 2019 19:22:14 GMT',
  'Connection',
  'close',
  'Content-Length',
  '1231' ]);


nock('https://keyvault_name.vault.azure.net:443', {"encodedQueryParams":true})
  .get('/certificates/mergeCertificateName-canmergeaselfsignedcertificate-/pending')
  .query(true)
  .reply(200, {"id":"https://keyvault_name.vault.azure.net/certificates/mergeCertificateName-canmergeaselfsignedcertificate-/pending","issuer":{"name":"Unknown"},"csr":"MIICoTCCAYkCAQAwETEPMA0GA1UEAxMGTXlDZXJ0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAzWGE0CVADlKY4J2D6vt5RAC+TOfhojYmHdvCZc7drdw8EuOc5joPwARlgr2sm/ENV5QxqTKLcSCoZYW4NeTZNshaYUeW6mRmVguV9T7FqzteajiRPkqnnbL1YHdrmEgAr47CcBjPkPHcGzNxCjLJdbWa9ClCx0De1zT6ZCaoufLetSKXezac3FCijBKh6S3s8KIKYPty6th/nXZUPgp8ZODSShdXXw+7l6pyGtwj6vJddjlhaZ7vg6kZX+EE3yPBOLS790eU6h6Y6TorsHxUKao1ecIZRBC/uGG+FZ90g8KcaShjU90c7Cr08VXKwy1DvU0kPCdSjtvCGpQHjIIcUwIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCBaAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAE9JVl/JCOXeZdzgax3N/t5ZPfsT0rOVD71cpc58PhQsfkjQOuc7P8654k9IjVKwHpOLQAG+rGKDiOR6sJsMIe9b2aFM/hqStUC0XyHr9e+BnnapDfS/yn/uJUVHR0czP9YRWYB1vMZlPB93pDF8bgRmYZWcJj9jxY2tNsNW8SvzRtIAOb00UPSNKxfc4972RaKwyDwcjAbOTc5nnLHHIdMYyCcJtdkv05mrsihgIu0vyh0mCyHS8tmi0Xa8YfLQBWNT3nv9D7grOYPBKmeCCBHGBD/4cTTgpfurSDJLMVUz86mQoj82Qk/IjZZZey5nUDtBKbsSYvlkQnKvJ12d/gw=","cancellation_requested":false,"status":"inProgress","status_details":"Pending certificate created. Please Perform Merge to complete the request.","request_id":"6b1130dacc3a4260899a33c8d1d720b7"}, [ 'Cache-Control',
  'no-cache',
  'Pragma',
  'no-cache',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Retry-After',
  '10',
  'Server',
  'Microsoft-IIS/10.0',
  'x-ms-keyvault-region',
  'westus',
  'x-ms-request-id',
  '75f654c1-dfd6-430a-bb6f-34b4c52b6fe0',
  'x-ms-keyvault-service-version',
  '1.1.0.876',
  'x-ms-keyvault-network-info',
  'addr=104.211.57.181;act_addr_fam=InterNetwork;',
  'X-AspNet-Version',
  '4.0.30319',
  'X-Powered-By',
  'ASP.NET',
  'Strict-Transport-Security',
  'max-age=31536000;includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'Date',
  'Sat, 31 Aug 2019 19:22:14 GMT',
  'Connection',
  'close',
  'Content-Length',
  '1270' ]);


nock('https://keyvault_name.vault.azure.net:443', {"encodedQueryParams":true})
  .post('/certificates/mergeCertificateName-canmergeaselfsignedcertificate-/pending/merge')
  .query(true)
  .reply(401, {"error":{"code":"Unauthorized","message":"Request is missing a Bearer or PoP token."}}, [ 'Cache-Control',
  'no-cache',
  'Pragma',
  'no-cache',
  'Content-Length',
  '87',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Server',
  'Microsoft-IIS/10.0',
  'WWW-Authenticate',
  'Bearer authorization="https://login.windows.net/azure_tenant_id", resource="https://vault.azure.net"',
  'x-ms-keyvault-region',
  'westus',
  'x-ms-request-id',
  '16d09320-3e56-4ca5-ba1a-20cbaab4ecb2',
  'x-ms-keyvault-service-version',
  '1.1.0.876',
  'x-ms-keyvault-network-info',
  'addr=104.211.57.181;act_addr_fam=InterNetwork;',
  'X-AspNet-Version',
  '4.0.30319',
  'X-Powered-By',
  'ASP.NET',
  'Strict-Transport-Security',
  'max-age=31536000;includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'Date',
  'Sat, 31 Aug 2019 19:22:14 GMT',
  'Connection',
  'close' ]);


nock('https://login.microsoftonline.com:443', {"encodedQueryParams":true})
  .post('/azure_tenant_id/oauth2/v2.0/token', "response_type=token&grant_type=client_credentials&client_id=azure_client_id&client_secret=azure_client_secret&scope=https%3A%2F%2Fvault.azure.net%2F.default")
  .reply(200, {"token_type":"Bearer","expires_in":3599,"ext_expires_in":3599,"access_token":"access_token"}, [ 'Cache-Control',
  'no-cache, no-store',
  'Pragma',
  'no-cache',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Strict-Transport-Security',
  'max-age=31536000; includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'x-ms-request-id',
  '5a609ab7-9e8e-49eb-98f5-ea285be85400',
  'x-ms-ests-server',
  '2.1.9316.5 - NCUS ProdSlices',
  'P3P',
  'CP="DSP CUR OTPi IND OTRi ONL FIN"',
  'Set-Cookie',
  'fpc=Ag61uUtmR7lJkeknJJe-Y5M_aSJHAwAAAOW__NQOAAAA; expires=Mon, 30-Sep-2019 19:22:15 GMT; path=/; secure; HttpOnly',
  'Set-Cookie',
  'x-ms-gateway-slice=estsfd; path=/; secure; HttpOnly',
  'Set-Cookie',
  'stsservicecookie=estsfd; path=/; secure; HttpOnly',
  'Date',
  'Sat, 31 Aug 2019 19:22:15 GMT',
  'Connection',
  'close',
  'Content-Length',
  '1231' ]);


nock('https://keyvault_name.vault.azure.net:443', {"encodedQueryParams":true})
  .post('/certificates/mergeCertificateName-canmergeaselfsignedcertificate-/pending/merge', {"x5c":["TUlJQzBqQ0NBYm9DQ1FDdldWdWMxOXF5QkRBTkJna3Foa2lHOXcwQkFRc0ZBREJGTVFzd0NRWURWUVFHRXdKQlZURVRNQkVHQTFVRUNBd0tVMjl0WlMxVGRHRjBaVEVoTUI4R0ExVUVDZ3dZU1c1MFpYSnVaWFFnVjJsa1oybDBjeUJRZEhrZ1RIUmtNQjRYRFRFNU1EZ3pNVEU1TWpJeE5Gb1hEVEU1TURrek1ERTVNakl4TkZvd0VURVBNQTBHQTFVRUF4TUdUWGxEWlhKME1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBeldHRTBDVkFEbEtZNEoyRDZ2dDVSQUMrVE9maG9qWW1IZHZDWmM3ZHJkdzhFdU9jNWpvUHdBUmxncjJzbS9FTlY1UXhxVEtMY1NDb1pZVzROZVRaTnNoYVlVZVc2bVJtVmd1VjlUN0ZxenRlYWppUlBrcW5uYkwxWUhkcm1FZ0FyNDdDY0JqUGtQSGNHek54Q2pMSmRiV2E5Q2xDeDBEZTF6VDZaQ2FvdWZMZXRTS1hlemFjM0ZDaWpCS2g2UzNzOEtJS1lQdHk2dGgvblhaVVBncDhaT0RTU2hkWFh3KzdsNnB5R3R3ajZ2SmRkamxoYVo3dmc2a1pYK0VFM3lQQk9MUzc5MGVVNmg2WTZUb3JzSHhVS2FvMWVjSVpSQkMvdUdHK0ZaOTBnOEtjYVNoalU5MGM3Q3IwOFZYS3d5MUR2VTBrUENkU2p0dkNHcFFIaklJY1V3SURBUUFCTUEwR0NTcUdTSWIzRFFFQkN3VUFBNElCQVFDaEhtQXE3UkxNY3RLYXVOaExJNTFYS0hwVEZxZ3cxU2F2UDkzajJuU1NVUGVvRVE5R3ZuUEFVQ1g5K1duMTJoZVV4QVNLVnlEVG1JTzBDd205amduMVNScGFuZVBTMHBIaGd5a20xelAvKzJoUGFOdUJpd1h6VE50TE12aXk5cDJ6b3p6UTFCTEVKRzJmOXdESXZDeGVJRHJSMTFFenp4ZjdvdHdFMTFLUkJCNk5LVmQ0UDBKcjFwaXdoZFN0MU9HZWZyL3Q1ZzdpVVRrdG5iemptb1pheXg0ZGY5UmlYbkFGNUtoTExqck05eHlxSTJuejZJVS84TjJTRm1pSTV4bHdRVXFiRlc3dURvUURTangweVdQWHNEM2h5bkRXQzQ3czBjVCsvOVg3Q0hwc3NpRnNVUldqeEtXU2hyalJDVjN1UGFjMG1SaldqZEt6eXY4MFlEYXctLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0t"]})
  .query(true)
  .reply(201, {"id":"https://keyvault_name.vault.azure.net/certificates/mergeCertificateName-canmergeaselfsignedcertificate-/1fc5b3a0cd854588b2549e5d3d0244ef","kid":"https://keyvault_name.vault.azure.net/keys/mergeCertificateName-canmergeaselfsignedcertificate-/1fc5b3a0cd854588b2549e5d3d0244ef","sid":"https://keyvault_name.vault.azure.net/secrets/mergeCertificateName-canmergeaselfsignedcertificate-/1fc5b3a0cd854588b2549e5d3d0244ef","x5t":"iOlI3XFVbidraUqf6H0_qLhKYt0","cer":"MIIC0jCCAboCCQCvWVuc19qyBDANBgkqhkiG9w0BAQsFADBFMQswCQYDVQQGEwJBVTETMBEGA1UECAwKU29tZS1TdGF0ZTEhMB8GA1UECgwYSW50ZXJuZXQgV2lkZ2l0cyBQdHkgTHRkMB4XDTE5MDgzMTE5MjIxNFoXDTE5MDkzMDE5MjIxNFowETEPMA0GA1UEAxMGTXlDZXJ0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAzWGE0CVADlKY4J2D6vt5RAC+TOfhojYmHdvCZc7drdw8EuOc5joPwARlgr2sm/ENV5QxqTKLcSCoZYW4NeTZNshaYUeW6mRmVguV9T7FqzteajiRPkqnnbL1YHdrmEgAr47CcBjPkPHcGzNxCjLJdbWa9ClCx0De1zT6ZCaoufLetSKXezac3FCijBKh6S3s8KIKYPty6th/nXZUPgp8ZODSShdXXw+7l6pyGtwj6vJddjlhaZ7vg6kZX+EE3yPBOLS790eU6h6Y6TorsHxUKao1ecIZRBC/uGG+FZ90g8KcaShjU90c7Cr08VXKwy1DvU0kPCdSjtvCGpQHjIIcUwIDAQABMA0GCSqGSIb3DQEBCwUAA4IBAQChHmAq7RLMctKauNhLI51XKHpTFqgw1SavP93j2nSSUPeoEQ9GvnPAUCX9+Wn12heUxASKVyDTmIO0Cwm9jgn1SRpanePS0pHhgykm1zP/+2hPaNuBiwXzTNtLMviy9p2zozzQ1BLEJG2f9wDIvCxeIDrR11Ezzxf7otwE11KRBB6NKVd4P0Jr1piwhdSt1OGefr/t5g7iUTktnbzjmoZayx4df9RiXnAF5KhLLjrM9xyqI2nz6IU/8N2SFmiI5xlwQUqbFW7uDoQDSjx0yWPXsD3hynDWC47s0cT+/9X7CHpssiFsURWjxKWShrjRCV3uPac0mRjWjdKzyv80YDaw","attributes":{"enabled":true,"nbf":1567279334,"exp":1569871334,"created":1567279335,"updated":1567279335,"recoveryLevel":"Recoverable+Purgeable"},"policy":{"id":"https://keyvault_name.vault.azure.net/certificates/mergeCertificateName-canmergeaselfsignedcertificate-/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":false},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"cn=MyCert","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["digitalSignature","keyEncipherment"],"validity_months":12,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"lifetime_percentage":80},"action":{"action_type":"EmailContacts"}}],"issuer":{"name":"Unknown","cert_transparency":false},"attributes":{"enabled":true,"created":1567279333,"updated":1567279333}},"pending":{"id":"https://keyvault_name.vault.azure.net/certificates/mergeCertificateName-canmergeaselfsignedcertificate-/pending"}}, [ 'Cache-Control',
  'no-cache',
  'Pragma',
  'no-cache',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Location',
  'https://keyvault_name.vault.azure.net/certificates/mergeCertificateName-canmergeaselfsignedcertificate-?api-version=7.0',
  'Server',
  'Microsoft-IIS/10.0',
  'x-ms-keyvault-region',
  'westus',
  'x-ms-request-id',
  'efdef59d-1696-4b77-a6d3-c861d95f2854',
  'x-ms-keyvault-service-version',
  '1.1.0.876',
  'x-ms-keyvault-network-info',
  'addr=104.211.57.181;act_addr_fam=InterNetwork;',
  'X-AspNet-Version',
  '4.0.30319',
  'X-Powered-By',
  'ASP.NET',
  'Strict-Transport-Security',
  'max-age=31536000;includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'Date',
  'Sat, 31 Aug 2019 19:22:15 GMT',
  'Connection',
  'close',
  'Content-Length',
  '2461' ]);


nock('https://keyvault_name.vault.azure.net:443', {"encodedQueryParams":true})
  .delete('/certificates/mergeCertificateName-canmergeaselfsignedcertificate-')
  .query(true)
  .reply(401, {"error":{"code":"Unauthorized","message":"Request is missing a Bearer or PoP token."}}, [ 'Cache-Control',
  'no-cache',
  'Pragma',
  'no-cache',
  'Content-Length',
  '87',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Server',
  'Microsoft-IIS/10.0',
  'WWW-Authenticate',
  'Bearer authorization="https://login.windows.net/azure_tenant_id", resource="https://vault.azure.net"',
  'x-ms-keyvault-region',
  'westus',
  'x-ms-request-id',
  '1532ec04-f81b-4884-a7f8-ada4d0e80dc0',
  'x-ms-keyvault-service-version',
  '1.1.0.876',
  'x-ms-keyvault-network-info',
  'addr=104.211.57.181;act_addr_fam=InterNetwork;',
  'X-AspNet-Version',
  '4.0.30319',
  'X-Powered-By',
  'ASP.NET',
  'Strict-Transport-Security',
  'max-age=31536000;includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'Date',
  'Sat, 31 Aug 2019 19:22:15 GMT',
  'Connection',
  'close' ]);


nock('https://login.microsoftonline.com:443', {"encodedQueryParams":true})
  .post('/azure_tenant_id/oauth2/v2.0/token', "response_type=token&grant_type=client_credentials&client_id=azure_client_id&client_secret=azure_client_secret&scope=https%3A%2F%2Fvault.azure.net%2F.default")
  .reply(200, {"token_type":"Bearer","expires_in":3600,"ext_expires_in":3600,"access_token":"access_token"}, [ 'Cache-Control',
  'no-cache, no-store',
  'Pragma',
  'no-cache',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Strict-Transport-Security',
  'max-age=31536000; includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'x-ms-request-id',
  'ab7afc5c-212c-4734-91d7-f6bef5e27400',
  'x-ms-ests-server',
  '2.1.9316.5 - WUS ProdSlices',
  'P3P',
  'CP="DSP CUR OTPi IND OTRi ONL FIN"',
  'Set-Cookie',
  'fpc=Ag61uUtmR7lJkeknJJe-Y5M_aSJHBAAAAOW__NQOAAAA; expires=Mon, 30-Sep-2019 19:22:16 GMT; path=/; secure; HttpOnly',
  'Set-Cookie',
  'x-ms-gateway-slice=estsfd; path=/; secure; HttpOnly',
  'Set-Cookie',
  'stsservicecookie=estsfd; path=/; secure; HttpOnly',
  'Date',
  'Sat, 31 Aug 2019 19:22:16 GMT',
  'Connection',
  'close',
  'Content-Length',
  '1231' ]);


nock('https://keyvault_name.vault.azure.net:443', {"encodedQueryParams":true})
  .delete('/certificates/mergeCertificateName-canmergeaselfsignedcertificate-')
  .query(true)
  .reply(200, {"recoveryId":"https://keyvault_name.vault.azure.net/deletedcertificates/mergeCertificateName-canmergeaselfsignedcertificate-","deletedDate":1567279337,"scheduledPurgeDate":1575055337,"id":"https://keyvault_name.vault.azure.net/certificates/mergeCertificateName-canmergeaselfsignedcertificate-/1fc5b3a0cd854588b2549e5d3d0244ef","kid":"https://keyvault_name.vault.azure.net/keys/mergeCertificateName-canmergeaselfsignedcertificate-/1fc5b3a0cd854588b2549e5d3d0244ef","sid":"https://keyvault_name.vault.azure.net/secrets/mergeCertificateName-canmergeaselfsignedcertificate-/1fc5b3a0cd854588b2549e5d3d0244ef","x5t":"iOlI3XFVbidraUqf6H0_qLhKYt0","cer":"MIIC0jCCAboCCQCvWVuc19qyBDANBgkqhkiG9w0BAQsFADBFMQswCQYDVQQGEwJBVTETMBEGA1UECAwKU29tZS1TdGF0ZTEhMB8GA1UECgwYSW50ZXJuZXQgV2lkZ2l0cyBQdHkgTHRkMB4XDTE5MDgzMTE5MjIxNFoXDTE5MDkzMDE5MjIxNFowETEPMA0GA1UEAxMGTXlDZXJ0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAzWGE0CVADlKY4J2D6vt5RAC+TOfhojYmHdvCZc7drdw8EuOc5joPwARlgr2sm/ENV5QxqTKLcSCoZYW4NeTZNshaYUeW6mRmVguV9T7FqzteajiRPkqnnbL1YHdrmEgAr47CcBjPkPHcGzNxCjLJdbWa9ClCx0De1zT6ZCaoufLetSKXezac3FCijBKh6S3s8KIKYPty6th/nXZUPgp8ZODSShdXXw+7l6pyGtwj6vJddjlhaZ7vg6kZX+EE3yPBOLS790eU6h6Y6TorsHxUKao1ecIZRBC/uGG+FZ90g8KcaShjU90c7Cr08VXKwy1DvU0kPCdSjtvCGpQHjIIcUwIDAQABMA0GCSqGSIb3DQEBCwUAA4IBAQChHmAq7RLMctKauNhLI51XKHpTFqgw1SavP93j2nSSUPeoEQ9GvnPAUCX9+Wn12heUxASKVyDTmIO0Cwm9jgn1SRpanePS0pHhgykm1zP/+2hPaNuBiwXzTNtLMviy9p2zozzQ1BLEJG2f9wDIvCxeIDrR11Ezzxf7otwE11KRBB6NKVd4P0Jr1piwhdSt1OGefr/t5g7iUTktnbzjmoZayx4df9RiXnAF5KhLLjrM9xyqI2nz6IU/8N2SFmiI5xlwQUqbFW7uDoQDSjx0yWPXsD3hynDWC47s0cT+/9X7CHpssiFsURWjxKWShrjRCV3uPac0mRjWjdKzyv80YDaw","attributes":{"enabled":true,"nbf":1567279334,"exp":1569871334,"created":1567279335,"updated":1567279335,"recoveryLevel":"Recoverable+Purgeable"},"policy":{"id":"https://keyvault_name.vault.azure.net/certificates/mergeCertificateName-canmergeaselfsignedcertificate-/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":false},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"cn=MyCert","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["digitalSignature","keyEncipherment"],"validity_months":12,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"lifetime_percentage":80},"action":{"action_type":"EmailContacts"}}],"issuer":{"name":"Unknown","cert_transparency":false},"attributes":{"enabled":true,"created":1567279333,"updated":1567279333}},"pending":{"id":"https://keyvault_name.vault.azure.net/certificates/mergeCertificateName-canmergeaselfsignedcertificate-/pending"}}, [ 'Cache-Control',
  'no-cache',
  'Pragma',
  'no-cache',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Server',
  'Microsoft-IIS/10.0',
  'x-ms-keyvault-region',
  'westus',
  'x-ms-request-id',
  '27909d9f-b30f-469b-a7fa-a61e8c947bdf',
  'x-ms-keyvault-service-version',
  '1.1.0.876',
  'x-ms-keyvault-network-info',
  'addr=104.211.57.181;act_addr_fam=InterNetwork;',
  'X-AspNet-Version',
  '4.0.30319',
  'X-Powered-By',
  'ASP.NET',
  'Strict-Transport-Security',
  'max-age=31536000;includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'Date',
  'Sat, 31 Aug 2019 19:22:16 GMT',
  'Connection',
  'close',
  'Content-Length',
  '2658' ]);


nock('https://keyvault_name.vault.azure.net:443', {"encodedQueryParams":true})
  .delete('/deletedcertificates/mergeCertificateName-canmergeaselfsignedcertificate-')
  .query(true)
  .reply(401, {"error":{"code":"Unauthorized","message":"Request is missing a Bearer or PoP token."}}, [ 'Cache-Control',
  'no-cache',
  'Pragma',
  'no-cache',
  'Content-Length',
  '87',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Server',
  'Microsoft-IIS/10.0',
  'WWW-Authenticate',
  'Bearer authorization="https://login.windows.net/azure_tenant_id", resource="https://vault.azure.net"',
  'x-ms-keyvault-region',
  'westus',
  'x-ms-request-id',
  '812893ad-b160-47b5-9ecd-06588d969684',
  'x-ms-keyvault-service-version',
  '1.1.0.876',
  'x-ms-keyvault-network-info',
  'addr=104.211.57.181;act_addr_fam=InterNetwork;',
  'X-AspNet-Version',
  '4.0.30319',
  'X-Powered-By',
  'ASP.NET',
  'Strict-Transport-Security',
  'max-age=31536000;includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'Date',
  'Sat, 31 Aug 2019 19:22:17 GMT',
  'Connection',
  'close' ]);


nock('https://login.microsoftonline.com:443', {"encodedQueryParams":true})
  .post('/azure_tenant_id/oauth2/v2.0/token', "response_type=token&grant_type=client_credentials&client_id=azure_client_id&client_secret=azure_client_secret&scope=https%3A%2F%2Fvault.azure.net%2F.default")
  .reply(200, {"token_type":"Bearer","expires_in":3600,"ext_expires_in":3600,"access_token":"access_token"}, [ 'Cache-Control',
  'no-cache, no-store',
  'Pragma',
  'no-cache',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Strict-Transport-Security',
  'max-age=31536000; includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'x-ms-request-id',
  '4c2b9071-a554-49e2-b1af-15d331cc5500',
  'x-ms-ests-server',
  '2.1.9316.5 - NCUS ProdSlices',
  'P3P',
  'CP="DSP CUR OTPi IND OTRi ONL FIN"',
  'Set-Cookie',
  'fpc=Ag61uUtmR7lJkeknJJe-Y5M_aSJHBQAAAOW__NQOAAAA; expires=Mon, 30-Sep-2019 19:22:18 GMT; path=/; secure; HttpOnly',
  'Set-Cookie',
  'x-ms-gateway-slice=estsfd; path=/; secure; HttpOnly',
  'Set-Cookie',
  'stsservicecookie=estsfd; path=/; secure; HttpOnly',
  'Date',
  'Sat, 31 Aug 2019 19:22:17 GMT',
  'Connection',
  'close',
  'Content-Length',
  '1231' ]);


nock('https://keyvault_name.vault.azure.net:443', {"encodedQueryParams":true})
  .delete('/deletedcertificates/mergeCertificateName-canmergeaselfsignedcertificate-')
  .query(true)
  .reply(409, {"error":{"code":"Conflict","message":"Certificate is currently being deleted.","innererror":{"code":"ObjectIsBeingDeleted"}}}, [ 'Cache-Control',
  'no-cache',
  'Pragma',
  'no-cache',
  'Content-Length',
  '126',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Server',
  'Microsoft-IIS/10.0',
  'x-ms-keyvault-region',
  'westus',
  'x-ms-request-id',
  '2e34f571-b4c2-408c-9ee9-cf53b132ed26',
  'x-ms-keyvault-service-version',
  '1.1.0.876',
  'x-ms-keyvault-network-info',
  'addr=104.211.57.181;act_addr_fam=InterNetwork;',
  'X-AspNet-Version',
  '4.0.30319',
  'X-Powered-By',
  'ASP.NET',
  'Strict-Transport-Security',
  'max-age=31536000;includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'Date',
  'Sat, 31 Aug 2019 19:22:18 GMT',
  'Connection',
  'close' ]);


nock('https://keyvault_name.vault.azure.net:443', {"encodedQueryParams":true})
  .delete('/deletedcertificates/mergeCertificateName-canmergeaselfsignedcertificate-')
  .query(true)
  .reply(401, {"error":{"code":"Unauthorized","message":"Request is missing a Bearer or PoP token."}}, [ 'Cache-Control',
  'no-cache',
  'Pragma',
  'no-cache',
  'Content-Length',
  '87',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Server',
  'Microsoft-IIS/10.0',
  'WWW-Authenticate',
  'Bearer authorization="https://login.windows.net/azure_tenant_id", resource="https://vault.azure.net"',
  'x-ms-keyvault-region',
  'westus',
  'x-ms-request-id',
  '8b15ef7c-f868-4202-ba6e-479325ed47c8',
  'x-ms-keyvault-service-version',
  '1.1.0.876',
  'x-ms-keyvault-network-info',
  'addr=104.211.57.181;act_addr_fam=InterNetwork;',
  'X-AspNet-Version',
  '4.0.30319',
  'X-Powered-By',
  'ASP.NET',
  'Strict-Transport-Security',
  'max-age=31536000;includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'Date',
  'Sat, 31 Aug 2019 19:22:27 GMT',
  'Connection',
  'close' ]);


nock('https://login.microsoftonline.com:443', {"encodedQueryParams":true})
  .post('/azure_tenant_id/oauth2/v2.0/token', "response_type=token&grant_type=client_credentials&client_id=azure_client_id&client_secret=azure_client_secret&scope=https%3A%2F%2Fvault.azure.net%2F.default")
  .reply(200, {"token_type":"Bearer","expires_in":3600,"ext_expires_in":3600,"access_token":"access_token"}, [ 'Cache-Control',
  'no-cache, no-store',
  'Pragma',
  'no-cache',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Strict-Transport-Security',
  'max-age=31536000; includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'x-ms-request-id',
  '841f0a21-eba3-40b7-afef-511a0dd05300',
  'x-ms-ests-server',
  '2.1.9316.5 - SCUS ProdSlices',
  'P3P',
  'CP="DSP CUR OTPi IND OTRi ONL FIN"',
  'Set-Cookie',
  'fpc=Ag61uUtmR7lJkeknJJe-Y5M_aSJHBgAAAOW__NQOAAAA; expires=Mon, 30-Sep-2019 19:22:28 GMT; path=/; secure; HttpOnly',
  'Set-Cookie',
  'x-ms-gateway-slice=estsfd; path=/; secure; HttpOnly',
  'Set-Cookie',
  'stsservicecookie=estsfd; path=/; secure; HttpOnly',
  'Date',
  'Sat, 31 Aug 2019 19:22:28 GMT',
  'Connection',
  'close',
  'Content-Length',
  '1231' ]);


nock('https://keyvault_name.vault.azure.net:443', {"encodedQueryParams":true})
  .delete('/deletedcertificates/mergeCertificateName-canmergeaselfsignedcertificate-')
  .query(true)
  .reply(204, "", [ 'Cache-Control',
  'no-cache',
  'Pragma',
  'no-cache',
  'Expires',
  '-1',
  'Server',
  'Microsoft-IIS/10.0',
  'x-ms-keyvault-region',
  'westus',
  'x-ms-request-id',
  '3204ebb1-7e60-443f-8c7c-7752086b70f6',
  'x-ms-keyvault-service-version',
  '1.1.0.876',
  'x-ms-keyvault-network-info',
  'addr=104.211.57.181;act_addr_fam=InterNetwork;',
  'X-AspNet-Version',
  '4.0.30319',
  'X-Powered-By',
  'ASP.NET',
  'Strict-Transport-Security',
  'max-age=31536000;includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'Date',
  'Sat, 31 Aug 2019 19:22:28 GMT',
  'Connection',
  'close' ]);

