let nock = require('nock');

module.exports.testInfo = {"uniqueName":{},"newDate":{}}

nock('https://keyvault_name.vault.azure.net:443', {"encodedQueryParams":true})
  .post('/certificates/mergeCertificateName-canmergeaselfsignedcertificate-/create')
  .query(true)
  .reply(401, {"error":{"code":"Unauthorized","message":"Request is missing a Bearer or PoP token."}}, [ 'Cache-Control',
  'no-cache',
  'Pragma',
  'no-cache',
  'Content-Length',
  '87',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Server',
  'Microsoft-IIS/10.0',
  'WWW-Authenticate',
  'Bearer authorization="https://login.windows.net/azure_tenant_id", resource="https://vault.azure.net"',
  'x-ms-keyvault-region',
  'westus',
  'x-ms-request-id',
  '01222e74-080c-4b5c-a7e8-4ca334c388f4',
  'x-ms-keyvault-service-version',
  '1.1.0.876',
  'x-ms-keyvault-network-info',
  'addr=13.82.21.106;act_addr_fam=InterNetwork;',
  'X-AspNet-Version',
  '4.0.30319',
  'X-Powered-By',
  'ASP.NET',
  'Strict-Transport-Security',
  'max-age=31536000;includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'Date',
  'Tue, 03 Sep 2019 16:43:43 GMT',
  'Connection',
  'close' ]);


nock('https://login.microsoftonline.com:443', {"encodedQueryParams":true})
  .post('/azure_tenant_id/oauth2/v2.0/token', "response_type=token&grant_type=client_credentials&client_id=azure_client_id&client_secret=azure_client_secret&scope=https%3A%2F%2Fvault.azure.net%2F.default")
  .reply(200, {"token_type":"Bearer","expires_in":3600,"ext_expires_in":3600,"access_token":"access_token"}, [ 'Cache-Control',
  'no-cache, no-store',
  'Pragma',
  'no-cache',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Strict-Transport-Security',
  'max-age=31536000; includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'x-ms-request-id',
  'cfc6770c-2970-4e2c-94b3-76af9c97e900',
  'x-ms-ests-server',
  '2.1.9316.5 - WUS ProdSlices',
  'P3P',
  'CP="DSP CUR OTPi IND OTRi ONL FIN"',
  'Set-Cookie',
  'fpc=AjhlG0hZrgtFpEElkL6enSY_aSJHAQAAAD-PANUOAAAA; expires=Thu, 03-Oct-2019 16:43:44 GMT; path=/; secure; HttpOnly',
  'Set-Cookie',
  'x-ms-gateway-slice=estsfd; path=/; secure; HttpOnly',
  'Set-Cookie',
  'stsservicecookie=estsfd; path=/; secure; HttpOnly',
  'Date',
  'Tue, 03 Sep 2019 16:43:44 GMT',
  'Connection',
  'close',
  'Content-Length',
  '1231' ]);


nock('https://keyvault_name.vault.azure.net:443', {"encodedQueryParams":true})
  .post('/certificates/mergeCertificateName-canmergeaselfsignedcertificate-/create', {"policy":{"x509_props":{"subject":"cn=MyCert"},"issuer":{"name":"Unknown","cert_transparency":false}},"attributes":{}})
  .query(true)
  .reply(202, {"id":"https://keyvault_name.vault.azure.net/certificates/mergeCertificateName-canmergeaselfsignedcertificate-/pending","issuer":{"name":"Unknown"},"csr":"MIICoTCCAYkCAQAwETEPMA0GA1UEAxMGTXlDZXJ0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAjmTWijSTWXSs3xwuIRg/PUH7+jiSZLnaj9ka9mgrZIf+cpPwwjQUqAL4+qdbOgCATkshETSJ65o/tMtoWmRumdYHdQ9CNOJ8OlnMn0dQpAXJJLyNeIhLWeZjbY2s48rHfsmOHD3aM9iDZ9NzJfNyj0FSQnoTiAbIGuP/LR/Act84ysRqLN/uDezXvDDmkGe5sxaYOCJFkd5B302CdYYnrLNJkNf+oRyYY3g7e8FKvOLz78qlkZHxx8BOXkAdLVFa7oHy4kofKltEDrY1hu/A57DBCVCHfE/HhqERVKsMwUli2ctcW1KIo+hY3rmcYB6H3NBoCzhG/bqzSr/6palprQIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCBaAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAAPOzSJNN9Dy2CANFtP0Su7q9FNWxm+TwfjmII3PGe2MTVEbgHft+zpf9CzhfzqkT8xFQWrxLjiATUXDHHraZZYnyQA43enwl46ry3tpmCXTJ6UHeVmnTrzyTO5W4qrTmsCkRJ3Sd7hkrTVrcUGRip76IjIyBskMr1RJ9P1JTQSx1+5tJwYGQUjKKefo1UVfr+pBAhqIt1GoIZh9cXnNdfiyW68FJxl9wlQ9N5QaskePbVtpwaTVojtzoD6imwKfd2KQDgTz6bUL5huo/qCykhPUTA5OoXRF8XIeeBCpJfDsPjc+JD7/VLw9vzBIwyflJJO6Il+aLK23ETa9UWjBT8A=","cancellation_requested":false,"status":"inProgress","status_details":"Pending certificate created. Please Perform Merge to complete the request.","request_id":"3af94bc3fe614b4caa055e431c00de3c"}, [ 'Cache-Control',
  'no-cache',
  'Pragma',
  'no-cache',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Location',
  'https://keyvault_name.vault.azure.net/certificates/mergeCertificateName-canmergeaselfsignedcertificate-/pending?api-version=7.0&request_id=3af94bc3fe614b4caa055e431c00de3c',
  'Retry-After',
  '10',
  'Server',
  'Microsoft-IIS/10.0',
  'x-ms-keyvault-region',
  'westus',
  'x-ms-request-id',
  'f9b35dee-210e-45a4-9cd8-e40398c3410b',
  'x-ms-keyvault-service-version',
  '1.1.0.876',
  'x-ms-keyvault-network-info',
  'addr=13.82.21.106;act_addr_fam=InterNetwork;',
  'X-AspNet-Version',
  '4.0.30319',
  'X-Powered-By',
  'ASP.NET',
  'Strict-Transport-Security',
  'max-age=31536000;includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'Date',
  'Tue, 03 Sep 2019 16:43:44 GMT',
  'Connection',
  'close',
  'Content-Length',
  '1270' ]);


nock('https://keyvault_name.vault.azure.net:443', {"encodedQueryParams":true})
  .get('/certificates/mergeCertificateName-canmergeaselfsignedcertificate-/pending')
  .query(true)
  .reply(401, {"error":{"code":"Unauthorized","message":"Request is missing a Bearer or PoP token."}}, [ 'Cache-Control',
  'no-cache',
  'Pragma',
  'no-cache',
  'Content-Length',
  '87',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Server',
  'Microsoft-IIS/10.0',
  'WWW-Authenticate',
  'Bearer authorization="https://login.windows.net/azure_tenant_id", resource="https://vault.azure.net"',
  'x-ms-keyvault-region',
  'westus',
  'x-ms-request-id',
  'de75e4cc-85f0-40b2-81c2-3b1b01e9367e',
  'x-ms-keyvault-service-version',
  '1.1.0.876',
  'x-ms-keyvault-network-info',
  'addr=13.82.21.106;act_addr_fam=InterNetwork;',
  'X-AspNet-Version',
  '4.0.30319',
  'X-Powered-By',
  'ASP.NET',
  'Strict-Transport-Security',
  'max-age=31536000;includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'Date',
  'Tue, 03 Sep 2019 16:43:45 GMT',
  'Connection',
  'close' ]);


nock('https://login.microsoftonline.com:443', {"encodedQueryParams":true})
  .post('/azure_tenant_id/oauth2/v2.0/token', "response_type=token&grant_type=client_credentials&client_id=azure_client_id&client_secret=azure_client_secret&scope=https%3A%2F%2Fvault.azure.net%2F.default")
  .reply(200, {"token_type":"Bearer","expires_in":3599,"ext_expires_in":3599,"access_token":"access_token"}, [ 'Cache-Control',
  'no-cache, no-store',
  'Pragma',
  'no-cache',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Strict-Transport-Security',
  'max-age=31536000; includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'x-ms-request-id',
  '3978ee10-601e-4435-8884-4dc18429e000',
  'x-ms-ests-server',
  '2.1.9316.5 - WUS ProdSlices',
  'P3P',
  'CP="DSP CUR OTPi IND OTRi ONL FIN"',
  'Set-Cookie',
  'fpc=AjhlG0hZrgtFpEElkL6enSY_aSJHAgAAAD-PANUOAAAA; expires=Thu, 03-Oct-2019 16:43:45 GMT; path=/; secure; HttpOnly',
  'Set-Cookie',
  'x-ms-gateway-slice=estsfd; path=/; secure; HttpOnly',
  'Set-Cookie',
  'stsservicecookie=estsfd; path=/; secure; HttpOnly',
  'Date',
  'Tue, 03 Sep 2019 16:43:45 GMT',
  'Connection',
  'close',
  'Content-Length',
  '1231' ]);


nock('https://keyvault_name.vault.azure.net:443', {"encodedQueryParams":true})
  .get('/certificates/mergeCertificateName-canmergeaselfsignedcertificate-/pending')
  .query(true)
  .reply(200, {"id":"https://keyvault_name.vault.azure.net/certificates/mergeCertificateName-canmergeaselfsignedcertificate-/pending","issuer":{"name":"Unknown"},"csr":"MIICoTCCAYkCAQAwETEPMA0GA1UEAxMGTXlDZXJ0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAjmTWijSTWXSs3xwuIRg/PUH7+jiSZLnaj9ka9mgrZIf+cpPwwjQUqAL4+qdbOgCATkshETSJ65o/tMtoWmRumdYHdQ9CNOJ8OlnMn0dQpAXJJLyNeIhLWeZjbY2s48rHfsmOHD3aM9iDZ9NzJfNyj0FSQnoTiAbIGuP/LR/Act84ysRqLN/uDezXvDDmkGe5sxaYOCJFkd5B302CdYYnrLNJkNf+oRyYY3g7e8FKvOLz78qlkZHxx8BOXkAdLVFa7oHy4kofKltEDrY1hu/A57DBCVCHfE/HhqERVKsMwUli2ctcW1KIo+hY3rmcYB6H3NBoCzhG/bqzSr/6palprQIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCBaAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAAPOzSJNN9Dy2CANFtP0Su7q9FNWxm+TwfjmII3PGe2MTVEbgHft+zpf9CzhfzqkT8xFQWrxLjiATUXDHHraZZYnyQA43enwl46ry3tpmCXTJ6UHeVmnTrzyTO5W4qrTmsCkRJ3Sd7hkrTVrcUGRip76IjIyBskMr1RJ9P1JTQSx1+5tJwYGQUjKKefo1UVfr+pBAhqIt1GoIZh9cXnNdfiyW68FJxl9wlQ9N5QaskePbVtpwaTVojtzoD6imwKfd2KQDgTz6bUL5huo/qCykhPUTA5OoXRF8XIeeBCpJfDsPjc+JD7/VLw9vzBIwyflJJO6Il+aLK23ETa9UWjBT8A=","cancellation_requested":false,"status":"inProgress","status_details":"Pending certificate created. Please Perform Merge to complete the request.","request_id":"3af94bc3fe614b4caa055e431c00de3c"}, [ 'Cache-Control',
  'no-cache',
  'Pragma',
  'no-cache',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Retry-After',
  '10',
  'Server',
  'Microsoft-IIS/10.0',
  'x-ms-keyvault-region',
  'westus',
  'x-ms-request-id',
  '93fc20aa-72a5-4caf-ba29-95dacabbd010',
  'x-ms-keyvault-service-version',
  '1.1.0.876',
  'x-ms-keyvault-network-info',
  'addr=13.82.21.106;act_addr_fam=InterNetwork;',
  'X-AspNet-Version',
  '4.0.30319',
  'X-Powered-By',
  'ASP.NET',
  'Strict-Transport-Security',
  'max-age=31536000;includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'Date',
  'Tue, 03 Sep 2019 16:43:46 GMT',
  'Connection',
  'close',
  'Content-Length',
  '1270' ]);


nock('https://keyvault_name.vault.azure.net:443', {"encodedQueryParams":true})
  .post('/certificates/mergeCertificateName-canmergeaselfsignedcertificate-/pending/merge')
  .query(true)
  .reply(401, {"error":{"code":"Unauthorized","message":"Request is missing a Bearer or PoP token."}}, [ 'Cache-Control',
  'no-cache',
  'Pragma',
  'no-cache',
  'Content-Length',
  '87',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Server',
  'Microsoft-IIS/10.0',
  'WWW-Authenticate',
  'Bearer authorization="https://login.windows.net/azure_tenant_id", resource="https://vault.azure.net"',
  'x-ms-keyvault-region',
  'westus',
  'x-ms-request-id',
  'dce205b7-92ec-49f4-9c48-ed025c0cd76e',
  'x-ms-keyvault-service-version',
  '1.1.0.876',
  'x-ms-keyvault-network-info',
  'addr=13.82.21.106;act_addr_fam=InterNetwork;',
  'X-AspNet-Version',
  '4.0.30319',
  'X-Powered-By',
  'ASP.NET',
  'Strict-Transport-Security',
  'max-age=31536000;includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'Date',
  'Tue, 03 Sep 2019 16:43:46 GMT',
  'Connection',
  'close' ]);


nock('https://login.microsoftonline.com:443', {"encodedQueryParams":true})
  .post('/azure_tenant_id/oauth2/v2.0/token', "response_type=token&grant_type=client_credentials&client_id=azure_client_id&client_secret=azure_client_secret&scope=https%3A%2F%2Fvault.azure.net%2F.default")
  .reply(200, {"token_type":"Bearer","expires_in":3600,"ext_expires_in":3600,"access_token":"access_token"}, [ 'Cache-Control',
  'no-cache, no-store',
  'Pragma',
  'no-cache',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Strict-Transport-Security',
  'max-age=31536000; includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'x-ms-request-id',
  'e010efa2-e6ae-4db7-baa8-2a8c28c51100',
  'x-ms-ests-server',
  '2.1.9288.15 - NCUS ProdSlices',
  'P3P',
  'CP="DSP CUR OTPi IND OTRi ONL FIN"',
  'Set-Cookie',
  'fpc=AjhlG0hZrgtFpEElkL6enSY_aSJHAwAAAD-PANUOAAAA; expires=Thu, 03-Oct-2019 16:43:46 GMT; path=/; secure; HttpOnly',
  'Set-Cookie',
  'x-ms-gateway-slice=estsfd; path=/; secure; HttpOnly',
  'Set-Cookie',
  'stsservicecookie=estsfd; path=/; secure; HttpOnly',
  'Date',
  'Tue, 03 Sep 2019 16:43:46 GMT',
  'Connection',
  'close',
  'Content-Length',
  '1231' ]);


nock('https://keyvault_name.vault.azure.net:443', {"encodedQueryParams":true})
  .post('/certificates/mergeCertificateName-canmergeaselfsignedcertificate-/pending/merge', {"x5c":["TUlJQzBqQ0NBYm9DQ1FDdldWdWMxOXF5QlRBTkJna3Foa2lHOXcwQkFRc0ZBREJGTVFzd0NRWURWUVFHRXdKQlZURVRNQkVHQTFVRUNBd0tVMjl0WlMxVGRHRjBaVEVoTUI4R0ExVUVDZ3dZU1c1MFpYSnVaWFFnVjJsa1oybDBjeUJRZEhrZ1RIUmtNQjRYRFRFNU1Ea3dNekUyTkRNME5sb1hEVEU1TVRBd016RTJORE0wTmxvd0VURVBNQTBHQTFVRUF4TUdUWGxEWlhKME1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBam1UV2lqU1RXWFNzM3h3dUlSZy9QVUg3K2ppU1pMbmFqOWthOW1nclpJZitjcFB3d2pRVXFBTDQrcWRiT2dDQVRrc2hFVFNKNjVvL3RNdG9XbVJ1bWRZSGRROUNOT0o4T2xuTW4wZFFwQVhKSkx5TmVJaExXZVpqYlkyczQ4ckhmc21PSEQzYU05aURaOU56SmZOeWowRlNRbm9UaUFiSUd1UC9MUi9BY3Q4NHlzUnFMTi91RGV6WHZERG1rR2U1c3hhWU9DSkZrZDVCMzAyQ2RZWW5yTE5Ka05mK29SeVlZM2c3ZThGS3ZPTHo3OHFsa1pIeHg4Qk9Ya0FkTFZGYTdvSHk0a29mS2x0RURyWTFodS9BNTdEQkNWQ0hmRS9IaHFFUlZLc013VWxpMmN0Y1cxS0lvK2hZM3JtY1lCNkgzTkJvQ3poRy9icXpTci82cGFscHJRSURBUUFCTUEwR0NTcUdTSWIzRFFFQkN3VUFBNElCQVFDYThxUjVMOWtmeWJQdUwwZ3k3SDdLc2JZNWpod1grUzcvNklWbGRXKzdjOTBoQWdVK3ZOTnROT3lhZ0QvczVpdzFLYkZ2ckl1ck9NbTBoRHVEeFdNbTArWWtkWG0zQWRheDNOVjhiTlNmZk1FaXJTKzF3N05QdkRmbHYxS2sxc3JuZWRmbENEUVVud3dMRlBwbXRiVEcrd1dheGoreEV6RXRvQkE4Ynh0UnkxM1YvMmpwendXS0RkQUVuK08zekRDa1lDTDlvcklaaU1SQ2ZIZEZnR21MbEtEZXNXaUhxc3FBZHlmakZFYjRVcjg4NDNxQytVOUprci81QWZYMmVQTmlPR0RQQmZqWVRRUHdhNEJ0QTBUSDhyUXBYM3hPU2RlcGo2OUxmWksyNXpDcE5JNkVxQ1V4Y21LdXdtemlPUWpKM3JoZmw5VkhqeE5BcUtSQll3d2ktLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0t"]})
  .query(true)
  .reply(201, {"id":"https://keyvault_name.vault.azure.net/certificates/mergeCertificateName-canmergeaselfsignedcertificate-/131d974bbff24bdea79e4f570cee4a60","kid":"https://keyvault_name.vault.azure.net/keys/mergeCertificateName-canmergeaselfsignedcertificate-/131d974bbff24bdea79e4f570cee4a60","sid":"https://keyvault_name.vault.azure.net/secrets/mergeCertificateName-canmergeaselfsignedcertificate-/131d974bbff24bdea79e4f570cee4a60","x5t":"WWCer_h0KI7OXmoNlbyVFZXJ2Lc","cer":"MIIC0jCCAboCCQCvWVuc19qyBTANBgkqhkiG9w0BAQsFADBFMQswCQYDVQQGEwJBVTETMBEGA1UECAwKU29tZS1TdGF0ZTEhMB8GA1UECgwYSW50ZXJuZXQgV2lkZ2l0cyBQdHkgTHRkMB4XDTE5MDkwMzE2NDM0NloXDTE5MTAwMzE2NDM0NlowETEPMA0GA1UEAxMGTXlDZXJ0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAjmTWijSTWXSs3xwuIRg/PUH7+jiSZLnaj9ka9mgrZIf+cpPwwjQUqAL4+qdbOgCATkshETSJ65o/tMtoWmRumdYHdQ9CNOJ8OlnMn0dQpAXJJLyNeIhLWeZjbY2s48rHfsmOHD3aM9iDZ9NzJfNyj0FSQnoTiAbIGuP/LR/Act84ysRqLN/uDezXvDDmkGe5sxaYOCJFkd5B302CdYYnrLNJkNf+oRyYY3g7e8FKvOLz78qlkZHxx8BOXkAdLVFa7oHy4kofKltEDrY1hu/A57DBCVCHfE/HhqERVKsMwUli2ctcW1KIo+hY3rmcYB6H3NBoCzhG/bqzSr/6palprQIDAQABMA0GCSqGSIb3DQEBCwUAA4IBAQCa8qR5L9kfybPuL0gy7H7KsbY5jhwX+S7/6IVldW+7c90hAgU+vNNtNOyagD/s5iw1KbFvrIurOMm0hDuDxWMm0+YkdXm3Adax3NV8bNSffMEirS+1w7NPvDflv1Kk1srnedflCDQUnwwLFPpmtbTG+wWaxj+xEzEtoBA8bxtRy13V/2jpzwWKDdAEn+O3zDCkYCL9orIZiMRCfHdFgGmLlKDesWiHqsqAdyfjFEb4Ur8843qC+U9Jkr/5AfX2ePNiOGDPBfjYTQPwa4BtA0TH8rQpX3xOSdepj69LfZK25zCpNI6EqCUxcmKuwmziOQjJ3rhfl9VHjxNAqKRBYwwi","attributes":{"enabled":true,"nbf":1567529026,"exp":1570121026,"created":1567529027,"updated":1567529027,"recoveryLevel":"Recoverable+Purgeable"},"policy":{"id":"https://keyvault_name.vault.azure.net/certificates/mergeCertificateName-canmergeaselfsignedcertificate-/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":false},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"cn=MyCert","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["digitalSignature","keyEncipherment"],"validity_months":12,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"lifetime_percentage":80},"action":{"action_type":"EmailContacts"}}],"issuer":{"name":"Unknown","cert_transparency":false},"attributes":{"enabled":true,"created":1567529024,"updated":1567529024}},"pending":{"id":"https://keyvault_name.vault.azure.net/certificates/mergeCertificateName-canmergeaselfsignedcertificate-/pending"}}, [ 'Cache-Control',
  'no-cache',
  'Pragma',
  'no-cache',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Location',
  'https://keyvault_name.vault.azure.net/certificates/mergeCertificateName-canmergeaselfsignedcertificate-?api-version=7.0',
  'Server',
  'Microsoft-IIS/10.0',
  'x-ms-keyvault-region',
  'westus',
  'x-ms-request-id',
  'b7ef16f7-2713-4aac-89a9-fd4d57eb23bb',
  'x-ms-keyvault-service-version',
  '1.1.0.876',
  'x-ms-keyvault-network-info',
  'addr=13.82.21.106;act_addr_fam=InterNetwork;',
  'X-AspNet-Version',
  '4.0.30319',
  'X-Powered-By',
  'ASP.NET',
  'Strict-Transport-Security',
  'max-age=31536000;includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'Date',
  'Tue, 03 Sep 2019 16:43:47 GMT',
  'Connection',
  'close',
  'Content-Length',
  '2461' ]);


nock('https://keyvault_name.vault.azure.net:443', {"encodedQueryParams":true})
  .delete('/certificates/mergeCertificateName-canmergeaselfsignedcertificate-')
  .query(true)
  .reply(401, {"error":{"code":"Unauthorized","message":"Request is missing a Bearer or PoP token."}}, [ 'Cache-Control',
  'no-cache',
  'Pragma',
  'no-cache',
  'Content-Length',
  '87',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Server',
  'Microsoft-IIS/10.0',
  'WWW-Authenticate',
  'Bearer authorization="https://login.windows.net/azure_tenant_id", resource="https://vault.azure.net"',
  'x-ms-keyvault-region',
  'westus',
  'x-ms-request-id',
  'e0f87600-b52d-4a49-993f-336ef3ff26f7',
  'x-ms-keyvault-service-version',
  '1.1.0.876',
  'x-ms-keyvault-network-info',
  'addr=13.82.21.106;act_addr_fam=InterNetwork;',
  'X-AspNet-Version',
  '4.0.30319',
  'X-Powered-By',
  'ASP.NET',
  'Strict-Transport-Security',
  'max-age=31536000;includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'Date',
  'Tue, 03 Sep 2019 16:43:47 GMT',
  'Connection',
  'close' ]);


nock('https://login.microsoftonline.com:443', {"encodedQueryParams":true})
  .post('/azure_tenant_id/oauth2/v2.0/token', "response_type=token&grant_type=client_credentials&client_id=azure_client_id&client_secret=azure_client_secret&scope=https%3A%2F%2Fvault.azure.net%2F.default")
  .reply(200, {"token_type":"Bearer","expires_in":3600,"ext_expires_in":3600,"access_token":"access_token"}, [ 'Cache-Control',
  'no-cache, no-store',
  'Pragma',
  'no-cache',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Strict-Transport-Security',
  'max-age=31536000; includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'x-ms-request-id',
  '82c4fbe2-dfb6-4ff2-a642-6db7dd53e700',
  'x-ms-ests-server',
  '2.1.9316.5 - WUS ProdSlices',
  'P3P',
  'CP="DSP CUR OTPi IND OTRi ONL FIN"',
  'Set-Cookie',
  'fpc=AjhlG0hZrgtFpEElkL6enSY_aSJHBAAAAD-PANUOAAAA; expires=Thu, 03-Oct-2019 16:43:48 GMT; path=/; secure; HttpOnly',
  'Set-Cookie',
  'x-ms-gateway-slice=estsfd; path=/; secure; HttpOnly',
  'Set-Cookie',
  'stsservicecookie=estsfd; path=/; secure; HttpOnly',
  'Date',
  'Tue, 03 Sep 2019 16:43:47 GMT',
  'Connection',
  'close',
  'Content-Length',
  '1231' ]);


nock('https://keyvault_name.vault.azure.net:443', {"encodedQueryParams":true})
  .delete('/certificates/mergeCertificateName-canmergeaselfsignedcertificate-')
  .query(true)
  .reply(200, {"recoveryId":"https://keyvault_name.vault.azure.net/deletedcertificates/mergeCertificateName-canmergeaselfsignedcertificate-","deletedDate":1567529028,"scheduledPurgeDate":1575305028,"id":"https://keyvault_name.vault.azure.net/certificates/mergeCertificateName-canmergeaselfsignedcertificate-/131d974bbff24bdea79e4f570cee4a60","kid":"https://keyvault_name.vault.azure.net/keys/mergeCertificateName-canmergeaselfsignedcertificate-/131d974bbff24bdea79e4f570cee4a60","sid":"https://keyvault_name.vault.azure.net/secrets/mergeCertificateName-canmergeaselfsignedcertificate-/131d974bbff24bdea79e4f570cee4a60","x5t":"WWCer_h0KI7OXmoNlbyVFZXJ2Lc","cer":"MIIC0jCCAboCCQCvWVuc19qyBTANBgkqhkiG9w0BAQsFADBFMQswCQYDVQQGEwJBVTETMBEGA1UECAwKU29tZS1TdGF0ZTEhMB8GA1UECgwYSW50ZXJuZXQgV2lkZ2l0cyBQdHkgTHRkMB4XDTE5MDkwMzE2NDM0NloXDTE5MTAwMzE2NDM0NlowETEPMA0GA1UEAxMGTXlDZXJ0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAjmTWijSTWXSs3xwuIRg/PUH7+jiSZLnaj9ka9mgrZIf+cpPwwjQUqAL4+qdbOgCATkshETSJ65o/tMtoWmRumdYHdQ9CNOJ8OlnMn0dQpAXJJLyNeIhLWeZjbY2s48rHfsmOHD3aM9iDZ9NzJfNyj0FSQnoTiAbIGuP/LR/Act84ysRqLN/uDezXvDDmkGe5sxaYOCJFkd5B302CdYYnrLNJkNf+oRyYY3g7e8FKvOLz78qlkZHxx8BOXkAdLVFa7oHy4kofKltEDrY1hu/A57DBCVCHfE/HhqERVKsMwUli2ctcW1KIo+hY3rmcYB6H3NBoCzhG/bqzSr/6palprQIDAQABMA0GCSqGSIb3DQEBCwUAA4IBAQCa8qR5L9kfybPuL0gy7H7KsbY5jhwX+S7/6IVldW+7c90hAgU+vNNtNOyagD/s5iw1KbFvrIurOMm0hDuDxWMm0+YkdXm3Adax3NV8bNSffMEirS+1w7NPvDflv1Kk1srnedflCDQUnwwLFPpmtbTG+wWaxj+xEzEtoBA8bxtRy13V/2jpzwWKDdAEn+O3zDCkYCL9orIZiMRCfHdFgGmLlKDesWiHqsqAdyfjFEb4Ur8843qC+U9Jkr/5AfX2ePNiOGDPBfjYTQPwa4BtA0TH8rQpX3xOSdepj69LfZK25zCpNI6EqCUxcmKuwmziOQjJ3rhfl9VHjxNAqKRBYwwi","attributes":{"enabled":true,"nbf":1567529026,"exp":1570121026,"created":1567529027,"updated":1567529027,"recoveryLevel":"Recoverable+Purgeable"},"policy":{"id":"https://keyvault_name.vault.azure.net/certificates/mergeCertificateName-canmergeaselfsignedcertificate-/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":false},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"cn=MyCert","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["digitalSignature","keyEncipherment"],"validity_months":12,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"lifetime_percentage":80},"action":{"action_type":"EmailContacts"}}],"issuer":{"name":"Unknown","cert_transparency":false},"attributes":{"enabled":true,"created":1567529024,"updated":1567529024}},"pending":{"id":"https://keyvault_name.vault.azure.net/certificates/mergeCertificateName-canmergeaselfsignedcertificate-/pending"}}, [ 'Cache-Control',
  'no-cache',
  'Pragma',
  'no-cache',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Server',
  'Microsoft-IIS/10.0',
  'x-ms-keyvault-region',
  'westus',
  'x-ms-request-id',
  'b3cc66ae-0ac3-4f18-b96b-1e198f757cd3',
  'x-ms-keyvault-service-version',
  '1.1.0.876',
  'x-ms-keyvault-network-info',
  'addr=13.82.21.106;act_addr_fam=InterNetwork;',
  'X-AspNet-Version',
  '4.0.30319',
  'X-Powered-By',
  'ASP.NET',
  'Strict-Transport-Security',
  'max-age=31536000;includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'Date',
  'Tue, 03 Sep 2019 16:43:47 GMT',
  'Connection',
  'close',
  'Content-Length',
  '2658' ]);


nock('https://keyvault_name.vault.azure.net:443', {"encodedQueryParams":true})
  .delete('/deletedcertificates/mergeCertificateName-canmergeaselfsignedcertificate-')
  .query(true)
  .reply(401, {"error":{"code":"Unauthorized","message":"Request is missing a Bearer or PoP token."}}, [ 'Cache-Control',
  'no-cache',
  'Pragma',
  'no-cache',
  'Content-Length',
  '87',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Server',
  'Microsoft-IIS/10.0',
  'WWW-Authenticate',
  'Bearer authorization="https://login.windows.net/azure_tenant_id", resource="https://vault.azure.net"',
  'x-ms-keyvault-region',
  'westus',
  'x-ms-request-id',
  'fed0316f-9400-4e72-ac0b-7d3e3518033e',
  'x-ms-keyvault-service-version',
  '1.1.0.876',
  'x-ms-keyvault-network-info',
  'addr=13.82.21.106;act_addr_fam=InterNetwork;',
  'X-AspNet-Version',
  '4.0.30319',
  'X-Powered-By',
  'ASP.NET',
  'Strict-Transport-Security',
  'max-age=31536000;includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'Date',
  'Tue, 03 Sep 2019 16:43:48 GMT',
  'Connection',
  'close' ]);


nock('https://login.microsoftonline.com:443', {"encodedQueryParams":true})
  .post('/azure_tenant_id/oauth2/v2.0/token', "response_type=token&grant_type=client_credentials&client_id=azure_client_id&client_secret=azure_client_secret&scope=https%3A%2F%2Fvault.azure.net%2F.default")
  .reply(200, {"token_type":"Bearer","expires_in":3600,"ext_expires_in":3600,"access_token":"access_token"}, [ 'Cache-Control',
  'no-cache, no-store',
  'Pragma',
  'no-cache',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Strict-Transport-Security',
  'max-age=31536000; includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'x-ms-request-id',
  '546b053f-a4ec-4988-8414-f2d18a5e1200',
  'x-ms-ests-server',
  '2.1.9288.15 - SCUS ProdSlices',
  'P3P',
  'CP="DSP CUR OTPi IND OTRi ONL FIN"',
  'Set-Cookie',
  'fpc=AjhlG0hZrgtFpEElkL6enSY_aSJHBQAAAD-PANUOAAAA; expires=Thu, 03-Oct-2019 16:43:49 GMT; path=/; secure; HttpOnly',
  'Set-Cookie',
  'x-ms-gateway-slice=estsfd; path=/; secure; HttpOnly',
  'Set-Cookie',
  'stsservicecookie=estsfd; path=/; secure; HttpOnly',
  'Date',
  'Tue, 03 Sep 2019 16:43:48 GMT',
  'Connection',
  'close',
  'Content-Length',
  '1231' ]);


nock('https://keyvault_name.vault.azure.net:443', {"encodedQueryParams":true})
  .delete('/deletedcertificates/mergeCertificateName-canmergeaselfsignedcertificate-')
  .query(true)
  .reply(409, {"error":{"code":"Conflict","message":"Certificate is currently being deleted.","innererror":{"code":"ObjectIsBeingDeleted"}}}, [ 'Cache-Control',
  'no-cache',
  'Pragma',
  'no-cache',
  'Content-Length',
  '126',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Server',
  'Microsoft-IIS/10.0',
  'x-ms-keyvault-region',
  'westus',
  'x-ms-request-id',
  '76b39fb2-2ed6-4e97-b189-eca9baf7ab4c',
  'x-ms-keyvault-service-version',
  '1.1.0.876',
  'x-ms-keyvault-network-info',
  'addr=13.82.21.106;act_addr_fam=InterNetwork;',
  'X-AspNet-Version',
  '4.0.30319',
  'X-Powered-By',
  'ASP.NET',
  'Strict-Transport-Security',
  'max-age=31536000;includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'Date',
  'Tue, 03 Sep 2019 16:43:48 GMT',
  'Connection',
  'close' ]);


nock('https://keyvault_name.vault.azure.net:443', {"encodedQueryParams":true})
  .delete('/deletedcertificates/mergeCertificateName-canmergeaselfsignedcertificate-')
  .query(true)
  .reply(401, {"error":{"code":"Unauthorized","message":"Request is missing a Bearer or PoP token."}}, [ 'Cache-Control',
  'no-cache',
  'Pragma',
  'no-cache',
  'Content-Length',
  '87',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Server',
  'Microsoft-IIS/10.0',
  'WWW-Authenticate',
  'Bearer authorization="https://login.windows.net/azure_tenant_id", resource="https://vault.azure.net"',
  'x-ms-keyvault-region',
  'westus',
  'x-ms-request-id',
  '89da6027-3981-46c6-b1b4-ffbe92a9b4c5',
  'x-ms-keyvault-service-version',
  '1.1.0.876',
  'x-ms-keyvault-network-info',
  'addr=13.82.21.106;act_addr_fam=InterNetwork;',
  'X-AspNet-Version',
  '4.0.30319',
  'X-Powered-By',
  'ASP.NET',
  'Strict-Transport-Security',
  'max-age=31536000;includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'Date',
  'Tue, 03 Sep 2019 16:43:58 GMT',
  'Connection',
  'close' ]);


nock('https://login.microsoftonline.com:443', {"encodedQueryParams":true})
  .post('/azure_tenant_id/oauth2/v2.0/token', "response_type=token&grant_type=client_credentials&client_id=azure_client_id&client_secret=azure_client_secret&scope=https%3A%2F%2Fvault.azure.net%2F.default")
  .reply(200, {"token_type":"Bearer","expires_in":3599,"ext_expires_in":3599,"access_token":"access_token"}, [ 'Cache-Control',
  'no-cache, no-store',
  'Pragma',
  'no-cache',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Strict-Transport-Security',
  'max-age=31536000; includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'x-ms-request-id',
  '142beb08-02cd-4745-a59c-20a27e331200',
  'x-ms-ests-server',
  '2.1.9288.15 - NCUS ProdSlices',
  'P3P',
  'CP="DSP CUR OTPi IND OTRi ONL FIN"',
  'Set-Cookie',
  'fpc=AjhlG0hZrgtFpEElkL6enSY_aSJHBgAAAD-PANUOAAAA; expires=Thu, 03-Oct-2019 16:43:59 GMT; path=/; secure; HttpOnly',
  'Set-Cookie',
  'x-ms-gateway-slice=estsfd; path=/; secure; HttpOnly',
  'Set-Cookie',
  'stsservicecookie=estsfd; path=/; secure; HttpOnly',
  'Date',
  'Tue, 03 Sep 2019 16:43:58 GMT',
  'Connection',
  'close',
  'Content-Length',
  '1231' ]);


nock('https://keyvault_name.vault.azure.net:443', {"encodedQueryParams":true})
  .delete('/deletedcertificates/mergeCertificateName-canmergeaselfsignedcertificate-')
  .query(true)
  .reply(204, "", [ 'Cache-Control',
  'no-cache',
  'Pragma',
  'no-cache',
  'Expires',
  '-1',
  'Server',
  'Microsoft-IIS/10.0',
  'x-ms-keyvault-region',
  'westus',
  'x-ms-request-id',
  '45c9fefb-5538-4297-a38b-3c29bc98d1dc',
  'x-ms-keyvault-service-version',
  '1.1.0.876',
  'x-ms-keyvault-network-info',
  'addr=13.82.21.106;act_addr_fam=InterNetwork;',
  'X-AspNet-Version',
  '4.0.30319',
  'X-Powered-By',
  'ASP.NET',
  'Strict-Transport-Security',
  'max-age=31536000;includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'Date',
  'Tue, 03 Sep 2019 16:43:59 GMT',
  'Connection',
  'close' ]);

