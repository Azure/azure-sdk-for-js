let nock = require('nock');

module.exports.testInfo = {}

nock('https://keyvault_name.vault.azure.net:443', {"encodedQueryParams":true})
  .post('/certificates/mergeCertificateName-canmergethebackupofacertificateintoanexstingcertificate-0/create')
  .query(true)
  .reply(401, {"error":{"code":"Unauthorized","message":"Request is missing a Bearer or PoP token."}}, [ 'Cache-Control',
  'no-cache',
  'Pragma',
  'no-cache',
  'Content-Length',
  '87',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Server',
  'Microsoft-IIS/10.0',
  'WWW-Authenticate',
  'Bearer authorization="https://login.windows.net/azure_tenant_id", resource="https://vault.azure.net"',
  'x-ms-keyvault-region',
  'westus',
  'x-ms-request-id',
  '2eb669c2-4df4-41ac-9a1e-61fcfe7effb3',
  'x-ms-keyvault-service-version',
  '1.1.0.876',
  'x-ms-keyvault-network-info',
  'addr=52.170.28.56;act_addr_fam=InterNetwork;',
  'X-AspNet-Version',
  '4.0.30319',
  'X-Powered-By',
  'ASP.NET',
  'Strict-Transport-Security',
  'max-age=31536000;includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'Date',
  'Thu, 22 Aug 2019 22:44:59 GMT',
  'Connection',
  'close' ]);


nock('https://login.microsoftonline.com:443', {"encodedQueryParams":true})
  .post('/azure_tenant_id/oauth2/v2.0/token', "response_type=token&grant_type=client_credentials&client_id=azure_client_id&client_secret=azure_client_secret&scope=https%3A%2F%2Fvault.azure.net%2F.default")
  .reply(200, {"token_type":"Bearer","expires_in":3600,"ext_expires_in":3600,"access_token":"access_token"}, [ 'Cache-Control',
  'no-cache, no-store',
  'Pragma',
  'no-cache',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Strict-Transport-Security',
  'max-age=31536000; includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'x-ms-request-id',
  '6282d28e-a60e-4388-b27d-4e51bbf15000',
  'x-ms-ests-server',
  '2.1.9288.13 - WUS ProdSlices',
  'P3P',
  'CP="DSP CUR OTPi IND OTRi ONL FIN"',
  'Set-Cookie',
  'fpc=AiJlAz0r_VxMnaHf9fDodAE_aSJHAQAAAOsR8dQOAAAA; expires=Sat, 21-Sep-2019 22:45:00 GMT; path=/; secure; HttpOnly',
  'Set-Cookie',
  'x-ms-gateway-slice=estsfd; path=/; secure; HttpOnly',
  'Set-Cookie',
  'stsservicecookie=estsfd; path=/; secure; HttpOnly',
  'Date',
  'Thu, 22 Aug 2019 22:44:59 GMT',
  'Connection',
  'close',
  'Content-Length',
  '1231' ]);


nock('https://keyvault_name.vault.azure.net:443', {"encodedQueryParams":true})
  .post('/certificates/mergeCertificateName-canmergethebackupofacertificateintoanexstingcertificate-0/create', {"policy":{"x509_props":{"subject":"cn=MyCert"},"issuer":{"name":"Self"}}})
  .query(true)
  .reply(202, {"id":"https://keyvault_name.vault.azure.net/certificates/mergeCertificateName-canmergethebackupofacertificateintoanexstingcertificate-0/pending","issuer":{"name":"Self"},"csr":"MIICoTCCAYkCAQAwETEPMA0GA1UEAxMGTXlDZXJ0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAqRbqZHu+BebRiXdApwmdc3b9xRTW50EMIs+fwP7YX4Vg3WxdT5XPPfFfLp3/9vfcGebJehSve7fj54j1yPO7kokFwnSGmArznEIpQ/CXzc9rJGbY88LvI4ZEVOTozw14ECdS54D+fjz8GcJPe0V6km4EN8Dc3RMqziZ0fQirgbuzmjZ4TMdL96MBgo+DpAkzy/z7Ls/+v6dAmstOv3r0kG2/EsWlJ32TXS+UKi+iH4qKIa6SffdKam9yA6gQdj0lWu/7fIvobCbeafA9SE2oN46kSwy0zM+y1SlVxJyowx6sMCNjToEJQWmNmCoOFNxE1PP7EPQ6NyN8ljIjJAzuSwIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCBaAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAALmpJLwRtUg8MWJrb4oVMKdpon0wmPOqgGwg7f3+e2JitQcI3aNmQ5dKO57ioe3HCrflbm5Z1E8qrjcthfe/d8sLQBJGq1iepEvG0pb+Y6h2kBihfY316CBGt0ovaM3mGmX3jNRwFZEJh5up2t0G37lhFoRLaOxvgtSf0qApEUb6SsV5a/nfPCOsWq/xXQfQPE1X7Hji8D02NX2TWgC3ciLOKhqTGWGoAYk6RhaSoiJcokmt7gj0jm5nzrF9jSovIB5WeO/rTTaQFrMRBbrs6VPAQXTU/076X7sSwJf6fXhsJdXoqOTHvGTn9Ry2WQzH6W0zu314OL/PXFc/bMFgv4=","cancellation_requested":false,"status":"inProgress","status_details":"Pending certificate created. Certificate request is in progress. This may take some time based on the issuer provider. Please check again later.","request_id":"bcf1b54263c24793a9456e02c3225679"}, [ 'Cache-Control',
  'no-cache',
  'Pragma',
  'no-cache',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Location',
  'https://keyvault_name.vault.azure.net/certificates/mergeCertificateName-canmergethebackupofacertificateintoanexstingcertificate-0/pending?api-version=7.0&request_id=bcf1b54263c24793a9456e02c3225679',
  'Retry-After',
  '10',
  'Server',
  'Microsoft-IIS/10.0',
  'x-ms-keyvault-region',
  'westus',
  'x-ms-request-id',
  '59044045-3513-4726-bc05-95365132992b',
  'x-ms-keyvault-service-version',
  '1.1.0.876',
  'x-ms-keyvault-network-info',
  'addr=52.170.28.56;act_addr_fam=InterNetwork;',
  'X-AspNet-Version',
  '4.0.30319',
  'X-Powered-By',
  'ASP.NET',
  'Strict-Transport-Security',
  'max-age=31536000;includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'Date',
  'Thu, 22 Aug 2019 22:45:00 GMT',
  'Connection',
  'close',
  'Content-Length',
  '1365' ]);


nock('https://keyvault_name.vault.azure.net:443', {"encodedQueryParams":true})
  .get('/secrets/mergeCertificateName-canmergethebackupofacertificateintoanexstingcertificate-0/')
  .query(true)
  .reply(401, {"error":{"code":"Unauthorized","message":"Request is missing a Bearer or PoP token."}}, [ 'Cache-Control',
  'no-cache',
  'Pragma',
  'no-cache',
  'Content-Length',
  '87',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Server',
  'Microsoft-IIS/10.0',
  'WWW-Authenticate',
  'Bearer authorization="https://login.windows.net/azure_tenant_id", resource="https://vault.azure.net"',
  'x-ms-keyvault-region',
  'westus',
  'x-ms-request-id',
  'f76dd844-c75c-4dd8-923e-a07af10ad20c',
  'x-ms-keyvault-service-version',
  '1.1.0.876',
  'x-ms-keyvault-network-info',
  'addr=52.170.28.56;act_addr_fam=InterNetwork;',
  'X-AspNet-Version',
  '4.0.30319',
  'X-Powered-By',
  'ASP.NET',
  'Strict-Transport-Security',
  'max-age=31536000;includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'Date',
  'Thu, 22 Aug 2019 22:45:01 GMT',
  'Connection',
  'close' ]);


nock('https://login.microsoftonline.com:443', {"encodedQueryParams":true})
  .post('/azure_tenant_id/oauth2/v2.0/token', "response_type=token&grant_type=client_credentials&client_id=azure_client_id&client_secret=azure_client_secret&scope=https%3A%2F%2Fvault.azure.net%2F.default")
  .reply(200, {"token_type":"Bearer","expires_in":3599,"ext_expires_in":3599,"access_token":"access_token"}, [ 'Cache-Control',
  'no-cache, no-store',
  'Pragma',
  'no-cache',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Strict-Transport-Security',
  'max-age=31536000; includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'x-ms-request-id',
  '6282d28e-a60e-4388-b27d-4e5107f25000',
  'x-ms-ests-server',
  '2.1.9288.13 - WUS ProdSlices',
  'P3P',
  'CP="DSP CUR OTPi IND OTRi ONL FIN"',
  'Set-Cookie',
  'fpc=AiJlAz0r_VxMnaHf9fDodAE_aSJHAgAAAOsR8dQOAAAA; expires=Sat, 21-Sep-2019 22:45:01 GMT; path=/; secure; HttpOnly',
  'Set-Cookie',
  'x-ms-gateway-slice=estsfd; path=/; secure; HttpOnly',
  'Set-Cookie',
  'stsservicecookie=estsfd; path=/; secure; HttpOnly',
  'Date',
  'Thu, 22 Aug 2019 22:45:01 GMT',
  'Connection',
  'close',
  'Content-Length',
  '1231' ]);


nock('https://keyvault_name.vault.azure.net:443', {"encodedQueryParams":true})
  .get('/secrets/mergeCertificateName-canmergethebackupofacertificateintoanexstingcertificate-0/')
  .query(true)
  .reply(403, {"error":{"code":"Forbidden","message":"Operation get is not allowed on a disabled secret.","innererror":{"code":"SecretDisabled"}}}, [ 'Cache-Control',
  'no-cache',
  'Pragma',
  'no-cache',
  'Content-Length',
  '132',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Server',
  'Microsoft-IIS/10.0',
  'x-ms-keyvault-region',
  'westus',
  'x-ms-request-id',
  'ed3761dc-d809-4da7-a2d9-728f1481ad1a',
  'x-ms-keyvault-service-version',
  '1.1.0.876',
  'x-ms-keyvault-network-info',
  'addr=52.170.28.56;act_addr_fam=InterNetwork;',
  'X-AspNet-Version',
  '4.0.30319',
  'X-Powered-By',
  'ASP.NET',
  'Strict-Transport-Security',
  'max-age=31536000;includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'Date',
  'Thu, 22 Aug 2019 22:45:01 GMT',
  'Connection',
  'close' ]);


nock('https://keyvault_name.vault.azure.net:443', {"encodedQueryParams":true})
  .get('/secrets/mergeCertificateName-canmergethebackupofacertificateintoanexstingcertificate-0/')
  .query(true)
  .reply(401, {"error":{"code":"Unauthorized","message":"Request is missing a Bearer or PoP token."}}, [ 'Cache-Control',
  'no-cache',
  'Pragma',
  'no-cache',
  'Content-Length',
  '87',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Server',
  'Microsoft-IIS/10.0',
  'WWW-Authenticate',
  'Bearer authorization="https://login.windows.net/azure_tenant_id", resource="https://vault.azure.net"',
  'x-ms-keyvault-region',
  'westus',
  'x-ms-request-id',
  'ab259886-3ba1-43a1-87ec-08d8b045783c',
  'x-ms-keyvault-service-version',
  '1.1.0.876',
  'x-ms-keyvault-network-info',
  'addr=52.170.28.56;act_addr_fam=InterNetwork;',
  'X-AspNet-Version',
  '4.0.30319',
  'X-Powered-By',
  'ASP.NET',
  'Strict-Transport-Security',
  'max-age=31536000;includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'Date',
  'Thu, 22 Aug 2019 22:45:11 GMT',
  'Connection',
  'close' ]);


nock('https://login.microsoftonline.com:443', {"encodedQueryParams":true})
  .post('/azure_tenant_id/oauth2/v2.0/token', "response_type=token&grant_type=client_credentials&client_id=azure_client_id&client_secret=azure_client_secret&scope=https%3A%2F%2Fvault.azure.net%2F.default")
  .reply(200, {"token_type":"Bearer","expires_in":3599,"ext_expires_in":3599,"access_token":"access_token"}, [ 'Cache-Control',
  'no-cache, no-store',
  'Pragma',
  'no-cache',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Strict-Transport-Security',
  'max-age=31536000; includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'x-ms-request-id',
  '05fabb4d-db63-487e-8dd5-49c8a0705200',
  'x-ms-ests-server',
  '2.1.9288.13 - WUS ProdSlices',
  'P3P',
  'CP="DSP CUR OTPi IND OTRi ONL FIN"',
  'Set-Cookie',
  'fpc=AiJlAz0r_VxMnaHf9fDodAE_aSJHAwAAAOsR8dQOAAAA; expires=Sat, 21-Sep-2019 22:45:12 GMT; path=/; secure; HttpOnly',
  'Set-Cookie',
  'x-ms-gateway-slice=estsfd; path=/; secure; HttpOnly',
  'Set-Cookie',
  'stsservicecookie=estsfd; path=/; secure; HttpOnly',
  'Date',
  'Thu, 22 Aug 2019 22:45:12 GMT',
  'Connection',
  'close',
  'Content-Length',
  '1231' ]);


nock('https://keyvault_name.vault.azure.net:443', {"encodedQueryParams":true})
  .get('/secrets/mergeCertificateName-canmergethebackupofacertificateintoanexstingcertificate-0/')
  .query(true)
  .reply(200, {"value":"MIIKNAIBAzCCCfQGCSqGSIb3DQEHAaCCCeUEggnhMIIJ3TCCBhYGCSqGSIb3DQEHAaCCBgcEggYDMIIF/zCCBfsGCyqGSIb3DQEMCgECoIIE/jCCBPowHAYKKoZIhvcNAQwBAzAOBAhYYPGD1eV5OAICB9AEggTYKYGD3A9RT7zI2W19RaCq4G8JZc8FCd7CfdRAT7ToKmRnP8iT9uhFm4/dhIA4tNkP8n8L1TwPLtAi2B/+o7iUjeh+F8amrGP18QcICzgFSSOe+tmFfpK/yX5EvUPMmvWyj5p2Al8oaAAX78YQuqlhhds3+kr9k2YfpfFEUiuQpzMCt0ZYp3SF0+qFZb5eckbAS2M1Tz96gHSFWM8VLaHFT8AhkXuUWK6EJKUkE70DfXLvCcFVvtKtoJJ1eHYhu+sCGWMdffYcCp8w8CMVhzNlEMRE9ewrX9AtXVoOmblk3lbGy5Vc3FdvIoM9nieTKWFSHOCxXZKZ9WkI1TjNDuHzVs/f5heP/8INLAlFiCoeCJCdiwK+9XvHISNdW1y3DUfH5b1dwq8k/BrEv0tk/5j9oMrDn9uWwwHUQNnL0Um+RR1f64McJA2ftuxwJBUd4+odzHOVedY1mKSTx3pAzYeu+4SEuLTW9ei3Uj5jEDEvRVucJ0IgZSWf8zEp16EwPG2RIfON7Zc+NbRzdkiW8DTtbskNkr6QsY+YKDqSQculcMocw1jmDYO8Vn821ftjAuHII8zkbBDSsyss6AsSYXDD1PVpZiYIlU9n/2ygyIteqOWk2wO9MZRFiWdrk9Zft68st45sbbayoAQTbVubuBrxIoPhfmgl2F39WqTxBPPRaoMKFJGURYDPJC4nbhZqIuTc6ztUIB9fVThamplwAzXPj84QoAw/QCcC2Sccl/PdHRiULsIjR2ctbIMRmF18xswt8bbVlWqcnJNRwBw/xDWW9mHOmfBqSizqg/+x4MkBkj/VeyX0S8HQgKLyH1BagLIbktarRrM7jelshLTnWXYjZp1DbMJG2c2bVyM0bgVq4o8IyYVaxTfPp3dF6YxOCIqQjMZaJfu5M94vW/ls6KrON/rqED0JHxH3yO3pC53jW7U8t6t4SMLRsqL4sadZHlQWBvBWPkNP9L1hKKJuYqT6bBUB6xUf9RCcXX+fJqK01rhqAU0t1d0/QZWUqie1iMEi1bHAkexpai+wtP19OdkV2nsNuuvAPSofltL4PIl7amEMd+Z40OCPeQU8JYYWvwwYSgVtRE6aDOuu8qg5rzZTiP8aSkBVClu87stYW9KEXeMdeBnm8PbYnBv8YTK7I6JuP5kU3AIJb/dWvJgnokYGbAfbbpngLw5c/RRRCO46oOtc3UGgNGLvqoMEm1t52p3g0ZvLi/6l3iEMrnTUhsuHXSn2UGMhr3fY+VCod1FjBJrZRxS44g5oU/UaPswT5+Gd0xoh66LwVsxSRnP2PeB/y+cdNz8LXNed7R6Izb4cexEv77nSHrv8zQ+QbHi5H2Quzgjr6lATw92o+PGsSfnCMb4kuJ6sTVp/ux5IUg9Dj5VZGfdX8sLSTJqtlGp3zIjiZi9GIYQg9Whn48mMwvPMtXJkyRAG2x1XUFoHK9m0xg/p4OdmbPGjXyfBIPDbXEZYDhqPrOCissM/QnjgU336LHyOyFCidT4fY6FBdgn2gLQjVCz9PF+6SecPPPFsXpyLEbcamc95is4ST8+hbrsJLXW+isiFCFVAFHOdnddEXO80+RAhKIu7ADAnRrDwJfLSzZYfO9zNldYhYt49IjZRdR5yv8mW0NuwLMNatAI9AVcx1TgTapHrWTGB6TATBgkqhkiG9w0BCRUxBgQEAQAAADBXBgkqhkiG9w0BCRQxSh5IADIANAA2AGYANQA2ADYAYwAtADUAYQA4AGMALQA0ADAANwBiAC0AOQBlAGYAMAAtAGEAMAA0ADMAMQBkADEANgA5ADIAOQAwMHkGCSsGAQQBgjcRATFsHmoATQBpAGMAcgBvAHMAbwBmAHQAIABFAG4AaABhAG4AYwBlAGQAIABSAFMAQQAgAGEAbgBkACAAQQBFAFMAIABDAHIAeQBwAHQAbwBnAHIAYQBwAGgAaQBjACAAUAByAG8AdgBpAGQAZQByMIIDvwYJKoZIhvcNAQcGoIIDsDCCA6wCAQAwggOlBgkqhkiG9w0BBwEwHAYKKoZIhvcNAQwBBjAOBAgZMHJOWBOeuQICB9CAggN415UrXZxwfDgVTpO8z+dOBXZtvWs8cv8kE7nQa2F7QWt3jTdwb54Xh76CkNqTi20aJrC1a4XVSZ138khSqmP1MDeAtJlZOkmWiC0LWlEczsYyG25iDnRmIEAdimjUs+fNhjTvwJ2tmEoatsSN9Z+akU/xhMp37bHDy6FxVqsBrDEriZSz526okSlfloonTHfFJQgPZo1vRBuX8TLbIATGGs5GyWfiBZakqwOKrz6ID/FHGmGno6IZ2yLDQZDBuwOP+nStnfvbEPmr+lC9Bw1T5DzBQ7wtrVuYOFJdt9dWsJULNGraOsiUoslbKj2h63MIXA0wScJbDT1LPoJKq4Z9BUokqTaFuF9xIwEaD7znJcZcNi0YEdAmMtLCsTI5/ESeE5S34zBl+9pYJLBBzy6S9ljNP9A+J6hYq+cdvos8fe0fHHgcB0AckxkMqhsR1Xq38o3kq0NQO36+geJbJe/5cnomXuF9FE677UJ8jpZ+cW/eR21S9AcBbqoZryNpoIhN04RPJX2XkS21VD0GCBaI5y6VmSU7VB1lmv86ot9z1zURB6yOxGLCyj5o/VsgWbRIwBBUl44r3RcFdRxkfYkOlioRhn6xhK8JZyVIKxghSPoQqNwmX/AndWTPlGcZGhMtnBJ8ijkUKLhfBrSb0FcWCa5BrTRorcHKTM7HxxIo5nzpvLAeZs4Re2GkHtE0kVQa6lZyJ4yoOeVqy7tnHNpgj8+tjxuH1IuDFUem9fJNw4RZWJ2im7NK6ZNiETIz3v7LXEmTmHWd5vjAxW8PDiwAAREmS1QzJIoqwNnyhlClx5R/Fx3+IBv+Vm5ak9DlRPZgU39mMaGVm54hOxVKvKJSf0+7mJRZI6Dp6yseWHmNPJ/gBCnrbdbf82xC2HeCtRw+4skwC62faRPVGKfwEGeER1J+P5ZPXyN8kK0w3Cm/F2Yyl+xHfqE8opw54ysYFqffUbFmQ1cX2Jd/6OhY5BEpwZQHxMUws5+F/m2Jm5KDuI3SSCf6QOFAYwPcN46gco05MSJBKSxPnFDeNhRUW1Ni3RxKlHF6TkFAI080vmukOkErrTDn+oK1gghR5VFEKIzIeqKeT7KJCJveNnI76VQA1crFCLIsSYWQRJ2bFJ9vEfxFLYhCNskw9cEaTOJzkWLUJi/xR9NmMXqn1NuSZP66ABjU/X/ak6UdMDcwHzAHBgUrDgMCGgQUGVBMLzOJJrIJoSOUTtPURTWc1ToEFNmUrgIbA/mh4xAyc6d53zoluohQ","contentType":"application/x-pkcs12","id":"https://keyvault_name.vault.azure.net/secrets/mergeCertificateName-canmergethebackupofacertificateintoanexstingcertificate-0/8501903b41b24fa48c5186ed2b65eb8b","managed":true,"attributes":{"enabled":true,"nbf":1566513306,"exp":1598136306,"created":1566513906,"updated":1566513906,"recoveryLevel":"Recoverable+Purgeable"},"kid":"https://keyvault_name.vault.azure.net/keys/mergeCertificateName-canmergethebackupofacertificateintoanexstingcertificate-0/8501903b41b24fa48c5186ed2b65eb8b"}, [ 'Cache-Control',
  'no-cache',
  'Pragma',
  'no-cache',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Server',
  'Microsoft-IIS/10.0',
  'x-ms-keyvault-region',
  'westus',
  'x-ms-request-id',
  'abd77c09-34ba-47a9-be16-87b9088ca071',
  'x-ms-keyvault-service-version',
  '1.1.0.876',
  'x-ms-keyvault-network-info',
  'addr=52.170.28.56;act_addr_fam=InterNetwork;',
  'X-AspNet-Version',
  '4.0.30319',
  'X-Powered-By',
  'ASP.NET',
  'Strict-Transport-Security',
  'max-age=31536000;includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'Date',
  'Thu, 22 Aug 2019 22:45:12 GMT',
  'Connection',
  'close',
  'Content-Length',
  '4058' ]);


nock('https://keyvault_name.vault.azure.net:443', {"encodedQueryParams":true})
  .post('/certificates/mergeCertificateName-canmergethebackupofacertificateintoanexstingcertificate-1/create')
  .query(true)
  .reply(401, {"error":{"code":"Unauthorized","message":"Request is missing a Bearer or PoP token."}}, [ 'Cache-Control',
  'no-cache',
  'Pragma',
  'no-cache',
  'Content-Length',
  '87',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Server',
  'Microsoft-IIS/10.0',
  'WWW-Authenticate',
  'Bearer authorization="https://login.windows.net/azure_tenant_id", resource="https://vault.azure.net"',
  'x-ms-keyvault-region',
  'westus',
  'x-ms-request-id',
  'e4e2926b-8d72-4167-9c9e-62a89891bbd6',
  'x-ms-keyvault-service-version',
  '1.1.0.876',
  'x-ms-keyvault-network-info',
  'addr=52.170.28.56;act_addr_fam=InterNetwork;',
  'X-AspNet-Version',
  '4.0.30319',
  'X-Powered-By',
  'ASP.NET',
  'Strict-Transport-Security',
  'max-age=31536000;includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'Date',
  'Thu, 22 Aug 2019 22:45:12 GMT',
  'Connection',
  'close' ]);


nock('https://login.microsoftonline.com:443', {"encodedQueryParams":true})
  .post('/azure_tenant_id/oauth2/v2.0/token', "response_type=token&grant_type=client_credentials&client_id=azure_client_id&client_secret=azure_client_secret&scope=https%3A%2F%2Fvault.azure.net%2F.default")
  .reply(200, {"token_type":"Bearer","expires_in":3600,"ext_expires_in":3600,"access_token":"access_token"}, [ 'Cache-Control',
  'no-cache, no-store',
  'Pragma',
  'no-cache',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Strict-Transport-Security',
  'max-age=31536000; includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'x-ms-request-id',
  'ef3b04c6-9519-4e4b-8a1c-320032e44b00',
  'x-ms-ests-server',
  '2.1.9288.13 - NCUS ProdSlices',
  'P3P',
  'CP="DSP CUR OTPi IND OTRi ONL FIN"',
  'Set-Cookie',
  'fpc=AiJlAz0r_VxMnaHf9fDodAE_aSJHBAAAAOsR8dQOAAAA; expires=Sat, 21-Sep-2019 22:45:13 GMT; path=/; secure; HttpOnly',
  'Set-Cookie',
  'x-ms-gateway-slice=estsfd; path=/; secure; HttpOnly',
  'Set-Cookie',
  'stsservicecookie=estsfd; path=/; secure; HttpOnly',
  'Date',
  'Thu, 22 Aug 2019 22:45:13 GMT',
  'Connection',
  'close',
  'Content-Length',
  '1231' ]);


nock('https://keyvault_name.vault.azure.net:443', {"encodedQueryParams":true})
  .post('/certificates/mergeCertificateName-canmergethebackupofacertificateintoanexstingcertificate-1/create', {"policy":{"key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":false},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=*.microsoft.com","sans":{"dns_names":["sdk.azure-int.net"]},"validity_months":24},"issuer":{"name":"Unknown"}}})
  .query(true)
  .reply(202, {"id":"https://keyvault_name.vault.azure.net/certificates/mergeCertificateName-canmergethebackupofacertificateintoanexstingcertificate-1/pending","issuer":{"name":"Unknown"},"csr":"MIICyDCCAbACAQAwGjEYMBYGA1UEAwwPKi5taWNyb3NvZnQuY29tMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0ldRjX+fpmZpL0oBwvyMAVxwKx+6oGwAusVw6wr3pfrrVco/ixI6+v4i2+3CwjVzfTYCvnVPmHwR5TqmcJuBpMl5FEGiiiTlRFiroqFAZl4XwBE6gSL/zsyjNIbNggPebMLlZNQV5B0leCFHt9xBUIlHZnjc/1BHQozzHvMJ3uJIoX4qdoXmJuvQ/tL8gZPcBUd8qUb0KuYykGCaUIGqgmnt2H9jk7eEAfOqHU1NDnz3dS8N666c492TJULvtqM4MrLzuJCHM9ro75dEREdQ2Sbfs+EvuWWvoin0fH5yjirmroQHF8opSn4reDhgpKopSXn4KKjMCSP37Zg+VF6i7QIDAQABoGkwZwYJKoZIhvcNAQkOMVowWDAOBgNVHQ8BAf8EBAMCBaAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMBwGA1UdEQQVMBOCEXNkay5henVyZS1pbnQubmV0MAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAHdwgNbZjGOzr1jNVnfSQhqW0ZFrOrwifB+jlaeOyk2aHWyG2LQ1UfWEbyo/CihpiJs7wmcmYbhrPf3e1bOmEg/9TO762FQEYih0Dwg1Ry21q/HssElJ/K7J2EOc/RWEFOxQ9tqEH2R8rcQ40nbgIXsx84+d/PJ01S1iscmtxlRz9JevvyKRZTx/3ORzp7XoEC5dU2farhSKGfIty7WsGp7/IV2mUgTot5bmpYT8cINDvbYLq3Ij+XiNNuxK0Ue5tAtwHpPeb51ODpbCFoWf9lnCarYGXvrbKebrwJtIV78SnkirgNUPCviCThhVIKQEMnLkkIJX4KohhB2+whSvkM0=","cancellation_requested":false,"status":"inProgress","status_details":"Pending certificate created. Please Perform Merge to complete the request.","request_id":"f83359e3ab874cefafbe5fb717f384ee"}, [ 'Cache-Control',
  'no-cache',
  'Pragma',
  'no-cache',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Location',
  'https://keyvault_name.vault.azure.net/certificates/mergeCertificateName-canmergethebackupofacertificateintoanexstingcertificate-1/pending?api-version=7.0&request_id=f83359e3ab874cefafbe5fb717f384ee',
  'Retry-After',
  '10',
  'Server',
  'Microsoft-IIS/10.0',
  'x-ms-keyvault-region',
  'westus',
  'x-ms-request-id',
  '34078259-853a-4f7a-9846-c72d83d7336d',
  'x-ms-keyvault-service-version',
  '1.1.0.876',
  'x-ms-keyvault-network-info',
  'addr=52.170.28.56;act_addr_fam=InterNetwork;',
  'X-AspNet-Version',
  '4.0.30319',
  'X-Powered-By',
  'ASP.NET',
  'Strict-Transport-Security',
  'max-age=31536000;includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'Date',
  'Thu, 22 Aug 2019 22:45:13 GMT',
  'Connection',
  'close',
  'Content-Length',
  '1350' ]);


nock('https://keyvault_name.vault.azure.net:443', {"encodedQueryParams":true})
  .post('/certificates/mergeCertificateName-canmergethebackupofacertificateintoanexstingcertificate-1/pending/merge')
  .query(true)
  .reply(401, {"error":{"code":"Unauthorized","message":"Request is missing a Bearer or PoP token."}}, [ 'Cache-Control',
  'no-cache',
  'Pragma',
  'no-cache',
  'Content-Length',
  '87',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Server',
  'Microsoft-IIS/10.0',
  'WWW-Authenticate',
  'Bearer authorization="https://login.windows.net/azure_tenant_id", resource="https://vault.azure.net"',
  'x-ms-keyvault-region',
  'westus',
  'x-ms-request-id',
  '624c9bfd-9400-4371-af46-b23cbb7a9b97',
  'x-ms-keyvault-service-version',
  '1.1.0.876',
  'x-ms-keyvault-network-info',
  'addr=52.170.28.56;act_addr_fam=InterNetwork;',
  'X-AspNet-Version',
  '4.0.30319',
  'X-Powered-By',
  'ASP.NET',
  'Strict-Transport-Security',
  'max-age=31536000;includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'Date',
  'Thu, 22 Aug 2019 22:45:13 GMT',
  'Connection',
  'close' ]);


nock('https://login.microsoftonline.com:443', {"encodedQueryParams":true})
  .post('/azure_tenant_id/oauth2/v2.0/token', "response_type=token&grant_type=client_credentials&client_id=azure_client_id&client_secret=azure_client_secret&scope=https%3A%2F%2Fvault.azure.net%2F.default")
  .reply(200, {"token_type":"Bearer","expires_in":3600,"ext_expires_in":3600,"access_token":"access_token"}, [ 'Cache-Control',
  'no-cache, no-store',
  'Pragma',
  'no-cache',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Strict-Transport-Security',
  'max-age=31536000; includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'x-ms-request-id',
  '34b02f5d-b11c-48f6-928b-a3fbe0a82700',
  'x-ms-ests-server',
  '2.1.9288.13 - SCUS ProdSlices',
  'P3P',
  'CP="DSP CUR OTPi IND OTRi ONL FIN"',
  'Set-Cookie',
  'fpc=AiJlAz0r_VxMnaHf9fDodAE_aSJHBQAAAOsR8dQOAAAA; expires=Sat, 21-Sep-2019 22:45:14 GMT; path=/; secure; HttpOnly',
  'Set-Cookie',
  'x-ms-gateway-slice=estsfd; path=/; secure; HttpOnly',
  'Set-Cookie',
  'stsservicecookie=estsfd; path=/; secure; HttpOnly',
  'Date',
  'Thu, 22 Aug 2019 22:45:14 GMT',
  'Connection',
  'close',
  'Content-Length',
  '1231' ]);


nock('https://keyvault_name.vault.azure.net:443', {"encodedQueryParams":true})
  .post('/certificates/mergeCertificateName-canmergethebackupofacertificateintoanexstingcertificate-1/pending/merge', {"x5c":["TUlJS05BSUJBekNDQ2ZRR0NTcUdTSWIzRFFFSEFhQ0NDZVVFZ2duaE1JSUozVENDQmhZR0NTcUdTSWIzRFFFSEFhQ0NCZ2NFZ2dZRE1JSUYvekNDQmZzR0N5cUdTSWIzRFFFTUNnRUNvSUlFL2pDQ0JQb3dIQVlLS29aSWh2Y05BUXdCQXpBT0JBaFlZUEdEMWVWNU9BSUNCOUFFZ2dUWUtZR0QzQTlSVDd6STJXMTlSYUNxNEc4SlpjOEZDZDdDZmRSQVQ3VG9LbVJuUDhpVDl1aEZtNC9kaElBNHROa1A4bjhMMVR3UEx0QWkyQi8rbzdpVWplaCtGOGFtckdQMThRY0lDemdGU1NPZSt0bUZmcEsveVg1RXZVUE1tdld5ajVwMkFsOG9hQUFYNzhZUXVxbGhoZHMzK2tyOWsyWWZwZkZFVWl1UXB6TUN0MFpZcDNTRjArcUZaYjVlY2tiQVMyTTFUejk2Z0hTRldNOFZMYUhGVDhBaGtYdVVXSzZFSktVa0U3MERmWEx2Q2NGVnZ0S3RvSkoxZUhZaHUrc0NHV01kZmZZY0NwOHc4Q01WaHpObEVNUkU5ZXdyWDlBdFhWb09tYmxrM2xiR3k1VmMzRmR2SW9NOW5pZVRLV0ZTSE9DeFhaS1o5V2tJMVRqTkR1SHpWcy9mNWhlUC84SU5MQWxGaUNvZUNKQ2Rpd0srOVh2SElTTmRXMXkzRFVmSDViMWR3cThrL0JyRXYwdGsvNWo5b01yRG45dVd3d0hVUU5uTDBVbStSUjFmNjRNY0pBMmZ0dXh3SkJVZDQrb2R6SE9WZWRZMW1LU1R4M3BBellldSs0U0V1TFRXOWVpM1VqNWpFREV2UlZ1Y0owSWdaU1dmOHpFcDE2RXdQRzJSSWZPTjdaYytOYlJ6ZGtpVzhEVHRic2tOa3I2UXNZK1lLRHFTUWN1bGNNb2N3MWptRFlPOFZuODIxZnRqQXVISUk4emtiQkRTc3lzczZBc1NZWEREMVBWcFppWUlsVTluLzJ5Z3lJdGVxT1drMndPOU1aUkZpV2RyazlaZnQ2OHN0NDVzYmJheW9BUVRiVnVidUJyeElvUGhmbWdsMkYzOVdxVHhCUFBSYW9NS0ZKR1VSWURQSkM0bmJoWnFJdVRjNnp0VUlCOWZWVGhhbXBsd0F6WFBqODRRb0F3L1FDY0MyU2NjbC9QZEhSaVVMc0lqUjJjdGJJTVJtRjE4eHN3dDhiYlZsV3FjbkpOUndCdy94RFdXOW1IT21mQnFTaXpxZy8reDRNa0Jrai9WZXlYMFM4SFFnS0x5SDFCYWdMSWJrdGFyUnJNN2plbHNoTFRuV1hZalpwMURiTUpHMmMyYlZ5TTBiZ1ZxNG84SXlZVmF4VGZQcDNkRjZZeE9DSXFRak1aYUpmdTVNOTR2Vy9sczZLck9OL3JxRUQwSkh4SDN5TzNwQzUzalc3VTh0NnQ0U01MUnNxTDRzYWRaSGxRV0J2QldQa05QOUwxaEtLSnVZcVQ2YkJVQjZ4VWY5UkNjWFgrZkpxSzAxcmhxQVUwdDFkMC9RWldVcWllMWlNRWkxYkhBa2V4cGFpK3d0UDE5T2RrVjJuc051dXZBUFNvZmx0TDRQSWw3YW1FTWQrWjQwT0NQZVFVOEpZWVd2d3dZU2dWdFJFNmFET3V1OHFnNXJ6WlRpUDhhU2tCVkNsdTg3c3RZVzlLRVhlTWRlQm5tOFBiWW5CdjhZVEs3STZKdVA1a1UzQUlKYi9kV3ZKZ25va1lHYkFmYmJwbmdMdzVjL1JSUkNPNDZvT3RjM1VHZ05HTHZxb01FbTF0NTJwM2cwWnZMaS82bDNpRU1yblRVaHN1SFhTbjJVR01ocjNmWStWQ29kMUZqQkpyWlJ4UzQ0ZzVvVS9VYVBzd1Q1K0dkMHhvaDY2THdWc3hTUm5QMlBlQi95K2NkTno4TFhOZWQ3UjZJemI0Y2V4RXY3N25TSHJ2OHpRK1FiSGk1SDJRdXpnanI2bEFUdzkybytQR3NTZm5DTWI0a3VKNnNUVnAvdXg1SVVnOURqNVZaR2ZkWDhzTFNUSnF0bEdwM3pJamlaaTlHSVlRZzlXaG40OG1Nd3ZQTXRYSmt5UkFHMngxWFVGb0hLOW0weGcvcDRPZG1iUEdqWHlmQklQRGJYRVpZRGhxUHJPQ2lzc00vUW5qZ1UzMzZMSHlPeUZDaWRUNGZZNkZCZGduMmdMUWpWQ3o5UEYrNlNlY1BQUEZzWHB5TEViY2FtYzk1aXM0U1Q4K2hicnNKTFhXK2lzaUZDRlZBRkhPZG5kZEVYTzgwK1JBaEtJdTdBREFuUnJEd0pmTFN6WllmTzl6TmxkWWhZdDQ5SWpaUmRSNXl2OG1XME51d0xNTmF0QUk5QVZjeDFUZ1RhcEhyV1RHQjZUQVRCZ2txaGtpRzl3MEJDUlV4QmdRRUFRQUFBREJYQmdrcWhraUc5dzBCQ1JReFNoNUlBRElBTkFBMkFHWUFOUUEyQURZQVl3QXRBRFVBWVFBNEFHTUFMUUEwQURBQU53QmlBQzBBT1FCbEFHWUFNQUF0QUdFQU1BQTBBRE1BTVFCa0FERUFOZ0E1QURJQU9RQXdNSGtHQ1NzR0FRUUJnamNSQVRGc0htb0FUUUJwQUdNQWNnQnZBSE1BYndCbUFIUUFJQUJGQUc0QWFBQmhBRzRBWXdCbEFHUUFJQUJTQUZNQVFRQWdBR0VBYmdCa0FDQUFRUUJGQUZNQUlBQkRBSElBZVFCd0FIUUFid0JuQUhJQVlRQndBR2dBYVFCakFDQUFVQUJ5QUc4QWRnQnBBR1FBWlFCeU1JSUR2d1lKS29aSWh2Y05BUWNHb0lJRHNEQ0NBNndDQVFBd2dnT2xCZ2txaGtpRzl3MEJCd0V3SEFZS0tvWklodmNOQVF3QkJqQU9CQWdaTUhKT1dCT2V1UUlDQjlDQWdnTjQxNVVyWFp4d2ZEZ1ZUcE84eitkT0JYWnR2V3M4Y3Y4a0U3blFhMkY3UVd0M2pUZHdiNTRYaDc2Q2tOcVRpMjBhSnJDMWE0WFZTWjEzOGtoU3FtUDFNRGVBdEpsWk9rbVdpQzBMV2xFY3pzWXlHMjVpRG5SbUlFQWRpbWpVcytmTmhqVHZ3SjJ0bUVvYXRzU045Witha1UveGhNcDM3YkhEeTZGeFZxc0JyREVyaVpTejUyNm9rU2xmbG9vblRIZkZKUWdQWm8xdlJCdVg4VExiSUFUR0dzNUd5V2ZpQlpha3F3T0tyejZJRC9GSEdtR25vNklaMnlMRFFaREJ1d09QK25TdG5mdmJFUG1yK2xDOUJ3MVQ1RHpCUTd3dHJWdVlPRkpkdDlkV3NKVUxOR3JhT3NpVW9zbGJLajJoNjNNSVhBMHdTY0piRFQxTFBvSktxNFo5QlVva3FUYUZ1Rjl4SXdFYUQ3em5KY1pjTmkwWUVkQW1NdExDc1RJNS9FU2VFNVMzNHpCbCs5cFlKTEJCenk2Uzlsak5QOUErSjZoWXErY2R2b3M4ZmUwZkhIZ2NCMEFja3hrTXFoc1IxWHEzOG8za3EwTlFPMzYrZ2VKYkplLzVjbm9tWHVGOUZFNjc3VUo4anBaK2NXL2VSMjFTOUFjQmJxb1pyeU5wb0loTjA0UlBKWDJYa1MyMVZEMEdDQmFJNXk2Vm1TVTdWQjFsbXY4Nm90OXoxelVSQjZ5T3hHTEN5ajVvL1ZzZ1diUkl3QkJVbDQ0cjNSY0ZkUnhrZllrT2xpb1JobjZ4aEs4Slp5VklLeGdoU1BvUXFOd21YL0FuZFdUUGxHY1pHaE10bkJKOGlqa1VLTGhmQnJTYjBGY1dDYTVCclRSb3JjSEtUTTdIeHhJbzVuenB2TEFlWnM0UmUyR2tIdEUwa1ZRYTZsWnlKNHlvT2VWcXk3dG5ITnBnajgrdGp4dUgxSXVERlVlbTlmSk53NFJaV0oyaW03Tks2Wk5pRVRJejN2N0xYRW1UbUhXZDV2akF4VzhQRGl3QUFSRW1TMVF6SklvcXdObnlobENseDVSL0Z4MytJQnYrVm01YWs5RGxSUFpnVTM5bU1hR1ZtNTRoT3hWS3ZLSlNmMCs3bUpSWkk2RHA2eXNlV0htTlBKL2dCQ25yYmRiZjgyeEMySGVDdFJ3KzRza3dDNjJmYVJQVkdLZndFR2VFUjFKK1A1WlBYeU44a0swdzNDbS9GMll5bCt4SGZxRThvcHc1NHlzWUZxZmZVYkZtUTFjWDJKZC82T2hZNUJFcHdaUUh4TVV3czUrRi9tMkptNUtEdUkzU1NDZjZRT0ZBWXdQY040NmdjbzA1TVNKQktTeFBuRkRlTmhSVVcxTmkzUnhLbEhGNlRrRkFJMDgwdm11a09rRXJyVERuK29LMWdnaFI1VkZFS0l6SWVxS2VUN0tKQ0p2ZU5uSTc2VlFBMWNyRkNMSXNTWVdRUkoyYkZKOXZFZnhGTFloQ05za3c5Y0VhVE9KemtXTFVKaS94UjlObU1YcW4xTnVTWlA2NkFCalUvWC9hazZVZE1EY3dIekFIQmdVckRnTUNHZ1FVR1ZCTUx6T0pKcklKb1NPVVR0UFVSVFdjMVRvRUZObVVyZ0liQS9taDR4QXljNmQ1M3pvbHVvaFE="]})
  .query(true)
  .reply(400, {"error":{"code":"BadParameter","message":"Certificate can not be read. Please check if certificate is valid."}}, [ 'Cache-Control',
  'no-cache',
  'Pragma',
  'no-cache',
  'Content-Length',
  '112',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Server',
  'Microsoft-IIS/10.0',
  'x-ms-keyvault-region',
  'westus',
  'x-ms-request-id',
  '0dab139b-3248-4270-86fe-d709af372f38',
  'x-ms-keyvault-service-version',
  '1.1.0.876',
  'x-ms-keyvault-network-info',
  'addr=52.170.28.56;act_addr_fam=InterNetwork;',
  'X-AspNet-Version',
  '4.0.30319',
  'X-Powered-By',
  'ASP.NET',
  'Strict-Transport-Security',
  'max-age=31536000;includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'Date',
  'Thu, 22 Aug 2019 22:45:14 GMT',
  'Connection',
  'close' ]);

