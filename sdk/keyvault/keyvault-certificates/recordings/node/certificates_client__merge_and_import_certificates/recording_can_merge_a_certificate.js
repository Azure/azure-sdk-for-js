let nock = require('nock');

module.exports.testInfo = {"uniqueName":{},"newDate":{}}

nock('https://keyvault_name.vault.azure.net:443', {"encodedQueryParams":true})
  .post('/certificates/mergeCertificateName-canmergeacertificate-0/create')
  .query(true)
  .reply(401, {"error":{"code":"Unauthorized","message":"Request is missing a Bearer or PoP token."}}, [ 'Cache-Control',
  'no-cache',
  'Pragma',
  'no-cache',
  'Content-Length',
  '87',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Server',
  'Microsoft-IIS/10.0',
  'WWW-Authenticate',
  'Bearer authorization="https://login.windows.net/azure_tenant_id", resource="https://vault.azure.net"',
  'x-ms-keyvault-region',
  'westus',
  'x-ms-request-id',
  'b7a41938-2274-4054-90a3-59266845691f',
  'x-ms-keyvault-service-version',
  '1.1.0.876',
  'x-ms-keyvault-network-info',
  'addr=40.121.200.113;act_addr_fam=InterNetwork;',
  'X-AspNet-Version',
  '4.0.30319',
  'X-Powered-By',
  'ASP.NET',
  'Strict-Transport-Security',
  'max-age=31536000;includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'Date',
  'Wed, 28 Aug 2019 03:25:35 GMT',
  'Connection',
  'close' ]);


nock('https://login.microsoftonline.com:443', {"encodedQueryParams":true})
  .post('/azure_tenant_id/oauth2/v2.0/token', "response_type=token&grant_type=client_credentials&client_id=azure_client_id&client_secret=azure_client_secret&scope=https%3A%2F%2Fvault.azure.net%2F.default")
  .reply(200, {"token_type":"Bearer","expires_in":3600,"ext_expires_in":3600,"access_token":"access_token"}, [ 'Cache-Control',
  'no-cache, no-store',
  'Pragma',
  'no-cache',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Strict-Transport-Security',
  'max-age=31536000; includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'x-ms-request-id',
  '0ea37240-db1f-497e-a2b5-f17184a22f00',
  'x-ms-ests-server',
  '2.1.9288.15 - WUS ProdSlices',
  'P3P',
  'CP="DSP CUR OTPi IND OTRi ONL FIN"',
  'Set-Cookie',
  'fpc=AiqvAYbRHS9AqdAk2qe3vMQ_aSJHAQAAAC_r99QOAAAA; expires=Fri, 27-Sep-2019 03:25:36 GMT; path=/; secure; HttpOnly',
  'Set-Cookie',
  'x-ms-gateway-slice=estsfd; path=/; secure; HttpOnly',
  'Set-Cookie',
  'stsservicecookie=estsfd; path=/; secure; HttpOnly',
  'Date',
  'Wed, 28 Aug 2019 03:25:36 GMT',
  'Connection',
  'close',
  'Content-Length',
  '1231' ]);


nock('https://keyvault_name.vault.azure.net:443', {"encodedQueryParams":true})
  .post('/certificates/mergeCertificateName-canmergeacertificate-0/create', {"policy":{"x509_props":{"subject":"cn=MyCert"},"issuer":{"name":"Self"}}})
  .query(true)
  .reply(202, {"id":"https://keyvault_name.vault.azure.net/certificates/mergeCertificateName-canmergeacertificate-0/pending","issuer":{"name":"Self"},"csr":"MIICoTCCAYkCAQAwETEPMA0GA1UEAxMGTXlDZXJ0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAthDvZfaHSm18m6eeYI/gbIue6hHvzbJJTr45nujenljSYc+j/zbF+w0KnpAG5UG6PhYiQauWqkzRRU7IcCtNPodvu0N0QCfHrua45l2jX1UF1wcz7ZSHKtbnnYY+7EDTxdij8IaogULv2WzHqhgbrNsVOGouYzDEc80QE4MEc1ao8F2Sq5T/o198TaEcvmd4Z7FLH40zG1VfYzzwJsOdRsI6g6tNLjcCc0skW+AaUy9cn9bI7qeP8YQJBNghlEdIozNGY0o9EwF2s6Py5CwOJS2iFjmUrLN5+C1HjOkTq/5vbcbmcSJhMoeEJyD4/v2ob5S6Mzm0s6DuDB9Am1JY2QIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCBaAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAAHHU9d4p6vqaUD9QOIPE8+/rmWjwW+LNGHlwOAMpnURR0KlftcXArx+63P5fmMuBgEp6P//6sIcFrkG42vZpFd8s112xBEqCaLNysD3fX8go9YPJLLeo09tfH7BMqJuRTbfhb7I77gAzfD0gwM1uWhiSYNk/HjG+jB7EL/v+AjBWfcXBYbKC6tRLpdaI0bQrkYfDCKafZ9Crbij+RRNNht53SI3r+gsP8sCanklPehgbRKHWPSMTxRlI6jE69JAKZdzr/RcT6+uj3bMueO3/cz2elLKZspz4/jUK8rGnUYqLD5vZdkTSoU4TvLMwgRyIE7x/efA9gRHwsyGoGiouZc=","cancellation_requested":false,"status":"inProgress","status_details":"Pending certificate created. Certificate request is in progress. This may take some time based on the issuer provider. Please check again later.","request_id":"a1ddd45c5f1b4618bd808e89b2764ffe"}, [ 'Cache-Control',
  'no-cache',
  'Pragma',
  'no-cache',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Location',
  'https://keyvault_name.vault.azure.net/certificates/mergeCertificateName-canmergeacertificate-0/pending?api-version=7.0&request_id=a1ddd45c5f1b4618bd808e89b2764ffe',
  'Retry-After',
  '10',
  'Server',
  'Microsoft-IIS/10.0',
  'x-ms-keyvault-region',
  'westus',
  'x-ms-request-id',
  'a009e350-dfbf-40d9-97f9-87522b7fd847',
  'x-ms-keyvault-service-version',
  '1.1.0.876',
  'x-ms-keyvault-network-info',
  'addr=40.121.200.113;act_addr_fam=InterNetwork;',
  'X-AspNet-Version',
  '4.0.30319',
  'X-Powered-By',
  'ASP.NET',
  'Strict-Transport-Security',
  'max-age=31536000;includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'Date',
  'Wed, 28 Aug 2019 03:25:37 GMT',
  'Connection',
  'close',
  'Content-Length',
  '1331' ]);


nock('https://keyvault_name.vault.azure.net:443', {"encodedQueryParams":true})
  .get('/certificates/mergeCertificateName-canmergeacertificate-0/pending')
  .query(true)
  .reply(401, {"error":{"code":"Unauthorized","message":"Request is missing a Bearer or PoP token."}}, [ 'Cache-Control',
  'no-cache',
  'Pragma',
  'no-cache',
  'Content-Length',
  '87',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Server',
  'Microsoft-IIS/10.0',
  'WWW-Authenticate',
  'Bearer authorization="https://login.windows.net/azure_tenant_id", resource="https://vault.azure.net"',
  'x-ms-keyvault-region',
  'westus',
  'x-ms-request-id',
  '7c8dfea1-4c9e-4274-8b9b-deca7c22e906',
  'x-ms-keyvault-service-version',
  '1.1.0.876',
  'x-ms-keyvault-network-info',
  'addr=40.121.200.113;act_addr_fam=InterNetwork;',
  'X-AspNet-Version',
  '4.0.30319',
  'X-Powered-By',
  'ASP.NET',
  'Strict-Transport-Security',
  'max-age=31536000;includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'Date',
  'Wed, 28 Aug 2019 03:25:37 GMT',
  'Connection',
  'close' ]);


nock('https://login.microsoftonline.com:443', {"encodedQueryParams":true})
  .post('/azure_tenant_id/oauth2/v2.0/token', "response_type=token&grant_type=client_credentials&client_id=azure_client_id&client_secret=azure_client_secret&scope=https%3A%2F%2Fvault.azure.net%2F.default")
  .reply(200, {"token_type":"Bearer","expires_in":3600,"ext_expires_in":3600,"access_token":"access_token"}, [ 'Cache-Control',
  'no-cache, no-store',
  'Pragma',
  'no-cache',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Strict-Transport-Security',
  'max-age=31536000; includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'x-ms-request-id',
  '19a2d43f-a6be-4ecf-b0bf-511ba2ec1400',
  'x-ms-ests-server',
  '2.1.9288.15 - EUS ProdSlices',
  'P3P',
  'CP="DSP CUR OTPi IND OTRi ONL FIN"',
  'Set-Cookie',
  'fpc=AiqvAYbRHS9AqdAk2qe3vMQ_aSJHAgAAAC_r99QOAAAA; expires=Fri, 27-Sep-2019 03:25:38 GMT; path=/; secure; HttpOnly',
  'Set-Cookie',
  'x-ms-gateway-slice=estsfd; path=/; secure; HttpOnly',
  'Set-Cookie',
  'stsservicecookie=estsfd; path=/; secure; HttpOnly',
  'Date',
  'Wed, 28 Aug 2019 03:25:38 GMT',
  'Connection',
  'close',
  'Content-Length',
  '1231' ]);


nock('https://keyvault_name.vault.azure.net:443', {"encodedQueryParams":true})
  .get('/certificates/mergeCertificateName-canmergeacertificate-0/pending')
  .query(true)
  .reply(200, {"id":"https://keyvault_name.vault.azure.net/certificates/mergeCertificateName-canmergeacertificate-0/pending","issuer":{"name":"Self"},"csr":"MIICoTCCAYkCAQAwETEPMA0GA1UEAxMGTXlDZXJ0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAthDvZfaHSm18m6eeYI/gbIue6hHvzbJJTr45nujenljSYc+j/zbF+w0KnpAG5UG6PhYiQauWqkzRRU7IcCtNPodvu0N0QCfHrua45l2jX1UF1wcz7ZSHKtbnnYY+7EDTxdij8IaogULv2WzHqhgbrNsVOGouYzDEc80QE4MEc1ao8F2Sq5T/o198TaEcvmd4Z7FLH40zG1VfYzzwJsOdRsI6g6tNLjcCc0skW+AaUy9cn9bI7qeP8YQJBNghlEdIozNGY0o9EwF2s6Py5CwOJS2iFjmUrLN5+C1HjOkTq/5vbcbmcSJhMoeEJyD4/v2ob5S6Mzm0s6DuDB9Am1JY2QIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCBaAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAAHHU9d4p6vqaUD9QOIPE8+/rmWjwW+LNGHlwOAMpnURR0KlftcXArx+63P5fmMuBgEp6P//6sIcFrkG42vZpFd8s112xBEqCaLNysD3fX8go9YPJLLeo09tfH7BMqJuRTbfhb7I77gAzfD0gwM1uWhiSYNk/HjG+jB7EL/v+AjBWfcXBYbKC6tRLpdaI0bQrkYfDCKafZ9Crbij+RRNNht53SI3r+gsP8sCanklPehgbRKHWPSMTxRlI6jE69JAKZdzr/RcT6+uj3bMueO3/cz2elLKZspz4/jUK8rGnUYqLD5vZdkTSoU4TvLMwgRyIE7x/efA9gRHwsyGoGiouZc=","cancellation_requested":false,"status":"inProgress","status_details":"Pending certificate created. Certificate request is in progress. This may take some time based on the issuer provider. Please check again later.","request_id":"a1ddd45c5f1b4618bd808e89b2764ffe"}, [ 'Cache-Control',
  'no-cache',
  'Pragma',
  'no-cache',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Retry-After',
  '10',
  'Server',
  'Microsoft-IIS/10.0',
  'x-ms-keyvault-region',
  'westus',
  'x-ms-request-id',
  '112ae506-5bfd-4c54-8dd1-40ecd14e16b4',
  'x-ms-keyvault-service-version',
  '1.1.0.876',
  'x-ms-keyvault-network-info',
  'addr=40.121.200.113;act_addr_fam=InterNetwork;',
  'X-AspNet-Version',
  '4.0.30319',
  'X-Powered-By',
  'ASP.NET',
  'Strict-Transport-Security',
  'max-age=31536000;includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'Date',
  'Wed, 28 Aug 2019 03:25:38 GMT',
  'Connection',
  'close',
  'Content-Length',
  '1331' ]);


nock('https://keyvault_name.vault.azure.net:443', {"encodedQueryParams":true})
  .post('/certificates/mergeCertificateName-canmergeacertificate-1/create')
  .query(true)
  .reply(401, {"error":{"code":"Unauthorized","message":"Request is missing a Bearer or PoP token."}}, [ 'Cache-Control',
  'no-cache',
  'Pragma',
  'no-cache',
  'Content-Length',
  '87',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Server',
  'Microsoft-IIS/10.0',
  'WWW-Authenticate',
  'Bearer authorization="https://login.windows.net/azure_tenant_id", resource="https://vault.azure.net"',
  'x-ms-keyvault-region',
  'westus',
  'x-ms-request-id',
  'e0d92b21-4f06-4f41-a83e-9e98feba62e4',
  'x-ms-keyvault-service-version',
  '1.1.0.876',
  'x-ms-keyvault-network-info',
  'addr=40.121.200.113;act_addr_fam=InterNetwork;',
  'X-AspNet-Version',
  '4.0.30319',
  'X-Powered-By',
  'ASP.NET',
  'Strict-Transport-Security',
  'max-age=31536000;includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'Date',
  'Wed, 28 Aug 2019 03:25:38 GMT',
  'Connection',
  'close' ]);


nock('https://login.microsoftonline.com:443', {"encodedQueryParams":true})
  .post('/azure_tenant_id/oauth2/v2.0/token', "response_type=token&grant_type=client_credentials&client_id=azure_client_id&client_secret=azure_client_secret&scope=https%3A%2F%2Fvault.azure.net%2F.default")
  .reply(200, {"token_type":"Bearer","expires_in":3600,"ext_expires_in":3600,"access_token":"access_token"}, [ 'Cache-Control',
  'no-cache, no-store',
  'Pragma',
  'no-cache',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Strict-Transport-Security',
  'max-age=31536000; includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'x-ms-request-id',
  'b5cdbdd1-1135-486c-9933-01d5029d2e00',
  'x-ms-ests-server',
  '2.1.9288.15 - WUS ProdSlices',
  'P3P',
  'CP="DSP CUR OTPi IND OTRi ONL FIN"',
  'Set-Cookie',
  'fpc=AiqvAYbRHS9AqdAk2qe3vMQ_aSJHAwAAAC_r99QOAAAA; expires=Fri, 27-Sep-2019 03:25:39 GMT; path=/; secure; HttpOnly',
  'Set-Cookie',
  'x-ms-gateway-slice=estsfd; path=/; secure; HttpOnly',
  'Set-Cookie',
  'stsservicecookie=estsfd; path=/; secure; HttpOnly',
  'Date',
  'Wed, 28 Aug 2019 03:25:39 GMT',
  'Connection',
  'close',
  'Content-Length',
  '1231' ]);


nock('https://keyvault_name.vault.azure.net:443', {"encodedQueryParams":true})
  .post('/certificates/mergeCertificateName-canmergeacertificate-1/create', {"policy":{"key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":false},"secret_props":{"contentType":"application/x-pem-file"},"x509_props":{"subject":"CN=*.microsoft.com","sans":{"dns_names":["sdk.azure-int.net"]},"validity_months":24},"lifetime_actions":[{"trigger":{"lifetime_percentage":2},"action":{"action_type":"EmailContacts"}}],"issuer":{"name":"Unknown"}}})
  .query(true)
  .reply(202, {"id":"https://keyvault_name.vault.azure.net/certificates/mergeCertificateName-canmergeacertificate-1/pending","issuer":{"name":"Unknown"},"csr":"MIICyDCCAbACAQAwGjEYMBYGA1UEAwwPKi5taWNyb3NvZnQuY29tMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAi85jPOEGSlWr6ZgfKTy+PcFopdMK4u3i+mY46c29eF5voLjpsuwqAEhtTxKyUGyeETsbSt4svRuYUDl3Co3ig283f22krv4IKv1V1LmmZo192b5K4HFb2lmXh4/zD/ZkL8tvRAHY+022ldyfcuJwMRSiAeHR9k5UUiv1y/oQbj9/lE1akb4oieawNKtsxmR2vOjP0w0OecSdtmmcmQfJVuwpp/ejbYWJBTp9FPspNTjQsh/J+SUh9jA03eBUm9Aw+fMlPASXFf2dwljJOEU1OgtJN4ptINdZdsz7fhchF2xZvMWRIYFaLgjgGb+CK6kRjys745aSODc/bzquwUjHVwIDAQABoGkwZwYJKoZIhvcNAQkOMVowWDAOBgNVHQ8BAf8EBAMCBaAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMBwGA1UdEQQVMBOCEXNkay5henVyZS1pbnQubmV0MAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAA0PQHWVdhNjO+zyzMPWIb2FhdggGNCc+vjKyjCpmkfRGaFW90OtjHTf+TJg83u6RKhXtsMVWiCz4SHUwOYcStrR9mgdQDWpHhps/LmoQBVCNQClgdN3SrmwOs81TiLJBaSD7q7LPvIj9HbVEOYd9AnoNMOBFO9+P1fDGPwGxCrtu97nLxRzHvQTd9Zon0aPLqdaghIZaVIONAk3a9FTXqqsgrR7H2omFAVMqZJRNzpUVDS3SQ9WebWHn9Dvv06R0OVcNpZgVnb5YTPb0PO3nAWHv9m5gAbvRTvs07xsaSKWzK727lMf7f9xpK0cQTCIPrYedSbU8VtWhAHJzYGLr6Y=","cancellation_requested":false,"status":"inProgress","status_details":"Pending certificate created. Please Perform Merge to complete the request.","request_id":"b2a59f2da66e400b88b708cae3017fc0"}, [ 'Cache-Control',
  'no-cache',
  'Pragma',
  'no-cache',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Location',
  'https://keyvault_name.vault.azure.net/certificates/mergeCertificateName-canmergeacertificate-1/pending?api-version=7.0&request_id=b2a59f2da66e400b88b708cae3017fc0',
  'Retry-After',
  '10',
  'Server',
  'Microsoft-IIS/10.0',
  'x-ms-keyvault-region',
  'westus',
  'x-ms-request-id',
  '0102391a-a577-4149-8fd2-4cf86a9394ca',
  'x-ms-keyvault-service-version',
  '1.1.0.876',
  'x-ms-keyvault-network-info',
  'addr=40.121.200.113;act_addr_fam=InterNetwork;',
  'X-AspNet-Version',
  '4.0.30319',
  'X-Powered-By',
  'ASP.NET',
  'Strict-Transport-Security',
  'max-age=31536000;includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'Date',
  'Wed, 28 Aug 2019 03:25:39 GMT',
  'Connection',
  'close',
  'Content-Length',
  '1316' ]);


nock('https://keyvault_name.vault.azure.net:443', {"encodedQueryParams":true})
  .get('/certificates/mergeCertificateName-canmergeacertificate-1/pending')
  .query(true)
  .reply(401, {"error":{"code":"Unauthorized","message":"Request is missing a Bearer or PoP token."}}, [ 'Cache-Control',
  'no-cache',
  'Pragma',
  'no-cache',
  'Content-Length',
  '87',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Server',
  'Microsoft-IIS/10.0',
  'WWW-Authenticate',
  'Bearer authorization="https://login.windows.net/azure_tenant_id", resource="https://vault.azure.net"',
  'x-ms-keyvault-region',
  'westus',
  'x-ms-request-id',
  'bd964f60-655f-4028-946f-aaf2d62c613a',
  'x-ms-keyvault-service-version',
  '1.1.0.876',
  'x-ms-keyvault-network-info',
  'addr=40.121.200.113;act_addr_fam=InterNetwork;',
  'X-AspNet-Version',
  '4.0.30319',
  'X-Powered-By',
  'ASP.NET',
  'Strict-Transport-Security',
  'max-age=31536000;includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'Date',
  'Wed, 28 Aug 2019 03:25:40 GMT',
  'Connection',
  'close' ]);


nock('https://login.microsoftonline.com:443', {"encodedQueryParams":true})
  .post('/azure_tenant_id/oauth2/v2.0/token', "response_type=token&grant_type=client_credentials&client_id=azure_client_id&client_secret=azure_client_secret&scope=https%3A%2F%2Fvault.azure.net%2F.default")
  .reply(200, {"token_type":"Bearer","expires_in":3600,"ext_expires_in":3600,"access_token":"access_token"}, [ 'Cache-Control',
  'no-cache, no-store',
  'Pragma',
  'no-cache',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Strict-Transport-Security',
  'max-age=31536000; includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'x-ms-request-id',
  'fd5d84d5-5295-4662-8ef5-9ca44bf02b00',
  'x-ms-ests-server',
  '2.1.9288.15 - WUS ProdSlices',
  'P3P',
  'CP="DSP CUR OTPi IND OTRi ONL FIN"',
  'Set-Cookie',
  'fpc=AiqvAYbRHS9AqdAk2qe3vMQ_aSJHBAAAAC_r99QOAAAA; expires=Fri, 27-Sep-2019 03:25:40 GMT; path=/; secure; HttpOnly',
  'Set-Cookie',
  'x-ms-gateway-slice=estsfd; path=/; secure; HttpOnly',
  'Set-Cookie',
  'stsservicecookie=estsfd; path=/; secure; HttpOnly',
  'Date',
  'Wed, 28 Aug 2019 03:25:39 GMT',
  'Connection',
  'close',
  'Content-Length',
  '1231' ]);


nock('https://keyvault_name.vault.azure.net:443', {"encodedQueryParams":true})
  .get('/certificates/mergeCertificateName-canmergeacertificate-1/pending')
  .query(true)
  .reply(200, {"id":"https://keyvault_name.vault.azure.net/certificates/mergeCertificateName-canmergeacertificate-1/pending","issuer":{"name":"Unknown"},"csr":"MIICyDCCAbACAQAwGjEYMBYGA1UEAwwPKi5taWNyb3NvZnQuY29tMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAi85jPOEGSlWr6ZgfKTy+PcFopdMK4u3i+mY46c29eF5voLjpsuwqAEhtTxKyUGyeETsbSt4svRuYUDl3Co3ig283f22krv4IKv1V1LmmZo192b5K4HFb2lmXh4/zD/ZkL8tvRAHY+022ldyfcuJwMRSiAeHR9k5UUiv1y/oQbj9/lE1akb4oieawNKtsxmR2vOjP0w0OecSdtmmcmQfJVuwpp/ejbYWJBTp9FPspNTjQsh/J+SUh9jA03eBUm9Aw+fMlPASXFf2dwljJOEU1OgtJN4ptINdZdsz7fhchF2xZvMWRIYFaLgjgGb+CK6kRjys745aSODc/bzquwUjHVwIDAQABoGkwZwYJKoZIhvcNAQkOMVowWDAOBgNVHQ8BAf8EBAMCBaAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMBwGA1UdEQQVMBOCEXNkay5henVyZS1pbnQubmV0MAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAA0PQHWVdhNjO+zyzMPWIb2FhdggGNCc+vjKyjCpmkfRGaFW90OtjHTf+TJg83u6RKhXtsMVWiCz4SHUwOYcStrR9mgdQDWpHhps/LmoQBVCNQClgdN3SrmwOs81TiLJBaSD7q7LPvIj9HbVEOYd9AnoNMOBFO9+P1fDGPwGxCrtu97nLxRzHvQTd9Zon0aPLqdaghIZaVIONAk3a9FTXqqsgrR7H2omFAVMqZJRNzpUVDS3SQ9WebWHn9Dvv06R0OVcNpZgVnb5YTPb0PO3nAWHv9m5gAbvRTvs07xsaSKWzK727lMf7f9xpK0cQTCIPrYedSbU8VtWhAHJzYGLr6Y=","cancellation_requested":false,"status":"inProgress","status_details":"Pending certificate created. Please Perform Merge to complete the request.","request_id":"b2a59f2da66e400b88b708cae3017fc0"}, [ 'Cache-Control',
  'no-cache',
  'Pragma',
  'no-cache',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Retry-After',
  '10',
  'Server',
  'Microsoft-IIS/10.0',
  'x-ms-keyvault-region',
  'westus',
  'x-ms-request-id',
  '57b74d44-1ef9-4f9a-9bef-4e20c351d33b',
  'x-ms-keyvault-service-version',
  '1.1.0.876',
  'x-ms-keyvault-network-info',
  'addr=40.121.200.113;act_addr_fam=InterNetwork;',
  'X-AspNet-Version',
  '4.0.30319',
  'X-Powered-By',
  'ASP.NET',
  'Strict-Transport-Security',
  'max-age=31536000;includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'Date',
  'Wed, 28 Aug 2019 03:25:40 GMT',
  'Connection',
  'close',
  'Content-Length',
  '1316' ]);


nock('https://keyvault_name.vault.azure.net:443', {"encodedQueryParams":true})
  .post('/certificates/mergeCertificateName-canmergeacertificate-1/pending/merge')
  .query(true)
  .reply(401, {"error":{"code":"Unauthorized","message":"Request is missing a Bearer or PoP token."}}, [ 'Cache-Control',
  'no-cache',
  'Pragma',
  'no-cache',
  'Content-Length',
  '87',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Server',
  'Microsoft-IIS/10.0',
  'WWW-Authenticate',
  'Bearer authorization="https://login.windows.net/azure_tenant_id", resource="https://vault.azure.net"',
  'x-ms-keyvault-region',
  'westus',
  'x-ms-request-id',
  '582f2af5-16c0-4d6c-80a8-1e31179573d7',
  'x-ms-keyvault-service-version',
  '1.1.0.876',
  'x-ms-keyvault-network-info',
  'addr=40.121.200.113;act_addr_fam=InterNetwork;',
  'X-AspNet-Version',
  '4.0.30319',
  'X-Powered-By',
  'ASP.NET',
  'Strict-Transport-Security',
  'max-age=31536000;includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'Date',
  'Wed, 28 Aug 2019 03:25:40 GMT',
  'Connection',
  'close' ]);


nock('https://login.microsoftonline.com:443', {"encodedQueryParams":true})
  .post('/azure_tenant_id/oauth2/v2.0/token', "response_type=token&grant_type=client_credentials&client_id=azure_client_id&client_secret=azure_client_secret&scope=https%3A%2F%2Fvault.azure.net%2F.default")
  .reply(200, {"token_type":"Bearer","expires_in":3600,"ext_expires_in":3600,"access_token":"access_token"}, [ 'Cache-Control',
  'no-cache, no-store',
  'Pragma',
  'no-cache',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Strict-Transport-Security',
  'max-age=31536000; includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'x-ms-request-id',
  '24790085-e873-4db5-9a58-0af07ceb0300',
  'x-ms-ests-server',
  '2.1.9288.15 - NCUS ProdSlices',
  'P3P',
  'CP="DSP CUR OTPi IND OTRi ONL FIN"',
  'Set-Cookie',
  'fpc=AiqvAYbRHS9AqdAk2qe3vMQ_aSJHBQAAAC_r99QOAAAA; expires=Fri, 27-Sep-2019 03:25:41 GMT; path=/; secure; HttpOnly',
  'Set-Cookie',
  'x-ms-gateway-slice=estsfd; path=/; secure; HttpOnly',
  'Set-Cookie',
  'stsservicecookie=estsfd; path=/; secure; HttpOnly',
  'Date',
  'Wed, 28 Aug 2019 03:25:40 GMT',
  'Connection',
  'close',
  'Content-Length',
  '1231' ]);


nock('https://keyvault_name.vault.azure.net:443', {"encodedQueryParams":true})
  .post('/certificates/mergeCertificateName-canmergeacertificate-1/pending/merge', {"x5c":["UUFpYWVEVmpjQU1obE10YUV0SjlGTGduandhemxhTTQ5cnJ2STZFdTJlVXVvUzBNZWNwcHNBdHByTlduWTBPQWxieXpVQUJRYXZMdmRXSFltalhFRlI4Nk53QXJFcnVNK294eUZadjFLbDFFcWx5OCtjaEhnckc2SGpNaWdXRVZWazJlVEIxZDhab25neFUzSjFraDA3U3B4SnRQYTZoc3Racjl5ZzAyMldqbUZVYVJlckd0cHE3VlRselQ2TFpKTzVNdnZGU1NNVUQ0dTc0Rzd3VHIyanZXZGtuRHlpNEpOaE10WGNVT0s4OGdwajRLMEpDNURmWVZUOTMvdENqOUJwMnNWN0ladDhRTFdOS2tuNmtIRis2VjNuVm5CMnZLdmk2MW1EWkN6RWZPejJ5S0hwaGxhUXJxemluaEVnYjlEcVk2TFhRZVhTTzVUNE9TNWZvUHpRPT0="]})
  .query(true)
  .reply(400, {"error":{"code":"BadParameter","message":"Certificate can not be read. Please check if certificate is valid."}}, [ 'Cache-Control',
  'no-cache',
  'Pragma',
  'no-cache',
  'Content-Length',
  '112',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Server',
  'Microsoft-IIS/10.0',
  'x-ms-keyvault-region',
  'westus',
  'x-ms-request-id',
  'ad0a06b8-eea9-463e-ad9c-76cc919ea69e',
  'x-ms-keyvault-service-version',
  '1.1.0.876',
  'x-ms-keyvault-network-info',
  'addr=40.121.200.113;act_addr_fam=InterNetwork;',
  'X-AspNet-Version',
  '4.0.30319',
  'X-Powered-By',
  'ASP.NET',
  'Strict-Transport-Security',
  'max-age=31536000;includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'Date',
  'Wed, 28 Aug 2019 03:25:41 GMT',
  'Connection',
  'close' ]);

