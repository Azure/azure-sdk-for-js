let nock = require('nock');

module.exports.testInfo = {"uniqueName":{},"newDate":{}}

nock('https://keyvault_name.vault.azure.net:443', {"encodedQueryParams":true})
  .post('/certificates/mergeCertificateName-canmergeacertificate-0/create')
  .query(true)
  .reply(401, {"error":{"code":"Unauthorized","message":"Request is missing a Bearer or PoP token."}}, [ 'Cache-Control',
  'no-cache',
  'Pragma',
  'no-cache',
  'Content-Length',
  '87',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Server',
  'Microsoft-IIS/10.0',
  'WWW-Authenticate',
  'Bearer authorization="https://login.windows.net/azure_tenant_id", resource="https://vault.azure.net"',
  'x-ms-keyvault-region',
  'westus',
  'x-ms-request-id',
  '5374fc67-72b2-47fd-890a-0fa690cb2fc2',
  'x-ms-keyvault-service-version',
  '1.1.0.876',
  'x-ms-keyvault-network-info',
  'addr=13.82.28.114;act_addr_fam=InterNetwork;',
  'X-AspNet-Version',
  '4.0.30319',
  'X-Powered-By',
  'ASP.NET',
  'Strict-Transport-Security',
  'max-age=31536000;includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'Date',
  'Wed, 28 Aug 2019 17:53:45 GMT',
  'Connection',
  'close' ]);


nock('https://login.microsoftonline.com:443', {"encodedQueryParams":true})
  .post('/azure_tenant_id/oauth2/v2.0/token', "response_type=token&grant_type=client_credentials&client_id=azure_client_id&client_secret=azure_client_secret&scope=https%3A%2F%2Fvault.azure.net%2F.default")
  .reply(200, {"token_type":"Bearer","expires_in":3599,"ext_expires_in":3599,"access_token":"access_token"}, [ 'Cache-Control',
  'no-cache, no-store',
  'Pragma',
  'no-cache',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Strict-Transport-Security',
  'max-age=31536000; includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'x-ms-request-id',
  '54dd428f-ead9-412b-8ae1-5a72b17a2f00',
  'x-ms-ests-server',
  '2.1.9288.15 - EUS ProdSlices',
  'P3P',
  'CP="DSP CUR OTPi IND OTRi ONL FIN"',
  'Set-Cookie',
  'fpc=AtN1b3UG_dpImJ0UmC538vY_aSJHAQAAAKq2-NQOAAAA; expires=Fri, 27-Sep-2019 17:53:46 GMT; path=/; secure; HttpOnly',
  'Set-Cookie',
  'x-ms-gateway-slice=estsfd; path=/; secure; HttpOnly',
  'Set-Cookie',
  'stsservicecookie=estsfd; path=/; secure; HttpOnly',
  'Date',
  'Wed, 28 Aug 2019 17:53:46 GMT',
  'Connection',
  'close',
  'Content-Length',
  '1231' ]);


nock('https://keyvault_name.vault.azure.net:443', {"encodedQueryParams":true})
  .post('/certificates/mergeCertificateName-canmergeacertificate-0/create', {"policy":{"x509_props":{"subject":"cn=MyCert"},"issuer":{"name":"Self"}}})
  .query(true)
  .reply(202, {"id":"https://keyvault_name.vault.azure.net/certificates/mergeCertificateName-canmergeacertificate-0/pending","issuer":{"name":"Self"},"csr":"MIICoTCCAYkCAQAwETEPMA0GA1UEAxMGTXlDZXJ0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA57KPPQHYGimP8ZzKb0lodBzNYf8LnCAvcTemnfY8hPcf1YomkZQBlg6Hw2Lcou5+7cPAe/+SVlgjT2XS3jFoNrszmH1BtklfjORxM1THGWiSQU9cHw4m42reDXilpxE/joxiQuehsz9wCFc3bNVsyAqphQWRJQVkAGAcr9q5TINTLSjytJuAeTax9CyxUauppwb7fuZxi6xRYaWfHOljvY5S1+hsGKFZNJh7SlmRzq9nhjNcoHxY9OX5NcCYE/sW6ESjpCmK01wroOCMU7YMvbGMd7j73N8fzkW0sAr3EMXgxppgr/c9cVaGrEOu0sahth7YF20WoZ830R0Z/g5IawIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCBaAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAIARh60Pv8YIKUsSDGwro9wWSHyIMXtoNhDob4uBspiPmBMK+PXSb5i6PsgWtgSabydlNSAKFRvLu6qDyVEW6vXUFpSBTfeFUEyrKu8dgUO5zMxZcmcJZ19q7AYkN0Ztlj3Ci4DO0Cohse5IqUQPo3SO8GbY9rRaUTHxmaaJKGkzoiNfAlBMBF/5uyEwW790Q7PRgHFol2f5zPbl3Z9sXcM948mhuNT6WrL/H19dufK6muj3/VM7RkUPoSZcFGQsVYYkXDcs3W26Eiyek0ccm6cUz04+TFo2PpbxTy7cnktdEFhgieqzETNDF2Cu1PzTiB8pNk5Q6Y+2GMc+7tY54fA=","cancellation_requested":false,"status":"inProgress","status_details":"Pending certificate created. Certificate request is in progress. This may take some time based on the issuer provider. Please check again later.","request_id":"1ed40287f86d4855a7a6a7101ce7c0e8"}, [ 'Cache-Control',
  'no-cache',
  'Pragma',
  'no-cache',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Location',
  'https://keyvault_name.vault.azure.net/certificates/mergeCertificateName-canmergeacertificate-0/pending?api-version=7.0&request_id=1ed40287f86d4855a7a6a7101ce7c0e8',
  'Retry-After',
  '10',
  'Server',
  'Microsoft-IIS/10.0',
  'x-ms-keyvault-region',
  'westus',
  'x-ms-request-id',
  '44529ddf-a97c-44a5-b75e-50088de47412',
  'x-ms-keyvault-service-version',
  '1.1.0.876',
  'x-ms-keyvault-network-info',
  'addr=13.82.28.114;act_addr_fam=InterNetwork;',
  'X-AspNet-Version',
  '4.0.30319',
  'X-Powered-By',
  'ASP.NET',
  'Strict-Transport-Security',
  'max-age=31536000;includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'Date',
  'Wed, 28 Aug 2019 17:53:47 GMT',
  'Connection',
  'close',
  'Content-Length',
  '1328' ]);


nock('https://keyvault_name.vault.azure.net:443', {"encodedQueryParams":true})
  .get('/certificates/mergeCertificateName-canmergeacertificate-0/pending')
  .query(true)
  .reply(401, {"error":{"code":"Unauthorized","message":"Request is missing a Bearer or PoP token."}}, [ 'Cache-Control',
  'no-cache',
  'Pragma',
  'no-cache',
  'Content-Length',
  '87',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Server',
  'Microsoft-IIS/10.0',
  'WWW-Authenticate',
  'Bearer authorization="https://login.windows.net/azure_tenant_id", resource="https://vault.azure.net"',
  'x-ms-keyvault-region',
  'westus',
  'x-ms-request-id',
  '1f7725c1-e74e-423e-8e72-302f5367dcff',
  'x-ms-keyvault-service-version',
  '1.1.0.876',
  'x-ms-keyvault-network-info',
  'addr=13.82.28.114;act_addr_fam=InterNetwork;',
  'X-AspNet-Version',
  '4.0.30319',
  'X-Powered-By',
  'ASP.NET',
  'Strict-Transport-Security',
  'max-age=31536000;includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'Date',
  'Wed, 28 Aug 2019 17:53:47 GMT',
  'Connection',
  'close' ]);


nock('https://login.microsoftonline.com:443', {"encodedQueryParams":true})
  .post('/azure_tenant_id/oauth2/v2.0/token', "response_type=token&grant_type=client_credentials&client_id=azure_client_id&client_secret=azure_client_secret&scope=https%3A%2F%2Fvault.azure.net%2F.default")
  .reply(200, {"token_type":"Bearer","expires_in":3600,"ext_expires_in":3600,"access_token":"access_token"}, [ 'Cache-Control',
  'no-cache, no-store',
  'Pragma',
  'no-cache',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Strict-Transport-Security',
  'max-age=31536000; includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'x-ms-request-id',
  '3e8a1dc4-6699-44d4-835b-e75cbc252f00',
  'x-ms-ests-server',
  '2.1.9288.15 - EUS ProdSlices',
  'P3P',
  'CP="DSP CUR OTPi IND OTRi ONL FIN"',
  'Set-Cookie',
  'fpc=AtN1b3UG_dpImJ0UmC538vY_aSJHAgAAAKq2-NQOAAAA; expires=Fri, 27-Sep-2019 17:53:48 GMT; path=/; secure; HttpOnly',
  'Set-Cookie',
  'x-ms-gateway-slice=estsfd; path=/; secure; HttpOnly',
  'Set-Cookie',
  'stsservicecookie=estsfd; path=/; secure; HttpOnly',
  'Date',
  'Wed, 28 Aug 2019 17:53:47 GMT',
  'Connection',
  'close',
  'Content-Length',
  '1231' ]);


nock('https://keyvault_name.vault.azure.net:443', {"encodedQueryParams":true})
  .get('/certificates/mergeCertificateName-canmergeacertificate-0/pending')
  .query(true)
  .reply(200, {"id":"https://keyvault_name.vault.azure.net/certificates/mergeCertificateName-canmergeacertificate-0/pending","issuer":{"name":"Self"},"csr":"MIICoTCCAYkCAQAwETEPMA0GA1UEAxMGTXlDZXJ0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA57KPPQHYGimP8ZzKb0lodBzNYf8LnCAvcTemnfY8hPcf1YomkZQBlg6Hw2Lcou5+7cPAe/+SVlgjT2XS3jFoNrszmH1BtklfjORxM1THGWiSQU9cHw4m42reDXilpxE/joxiQuehsz9wCFc3bNVsyAqphQWRJQVkAGAcr9q5TINTLSjytJuAeTax9CyxUauppwb7fuZxi6xRYaWfHOljvY5S1+hsGKFZNJh7SlmRzq9nhjNcoHxY9OX5NcCYE/sW6ESjpCmK01wroOCMU7YMvbGMd7j73N8fzkW0sAr3EMXgxppgr/c9cVaGrEOu0sahth7YF20WoZ830R0Z/g5IawIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCBaAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAIARh60Pv8YIKUsSDGwro9wWSHyIMXtoNhDob4uBspiPmBMK+PXSb5i6PsgWtgSabydlNSAKFRvLu6qDyVEW6vXUFpSBTfeFUEyrKu8dgUO5zMxZcmcJZ19q7AYkN0Ztlj3Ci4DO0Cohse5IqUQPo3SO8GbY9rRaUTHxmaaJKGkzoiNfAlBMBF/5uyEwW790Q7PRgHFol2f5zPbl3Z9sXcM948mhuNT6WrL/H19dufK6muj3/VM7RkUPoSZcFGQsVYYkXDcs3W26Eiyek0ccm6cUz04+TFo2PpbxTy7cnktdEFhgieqzETNDF2Cu1PzTiB8pNk5Q6Y+2GMc+7tY54fA=","cancellation_requested":false,"status":"inProgress","status_details":"Pending certificate created. Certificate request is in progress. This may take some time based on the issuer provider. Please check again later.","request_id":"1ed40287f86d4855a7a6a7101ce7c0e8"}, [ 'Cache-Control',
  'no-cache',
  'Pragma',
  'no-cache',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Retry-After',
  '10',
  'Server',
  'Microsoft-IIS/10.0',
  'x-ms-keyvault-region',
  'westus',
  'x-ms-request-id',
  '6e41f04b-b71e-4f5a-9439-f6790d125ff4',
  'x-ms-keyvault-service-version',
  '1.1.0.876',
  'x-ms-keyvault-network-info',
  'addr=13.82.28.114;act_addr_fam=InterNetwork;',
  'X-AspNet-Version',
  '4.0.30319',
  'X-Powered-By',
  'ASP.NET',
  'Strict-Transport-Security',
  'max-age=31536000;includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'Date',
  'Wed, 28 Aug 2019 17:53:48 GMT',
  'Connection',
  'close',
  'Content-Length',
  '1328' ]);


nock('https://keyvault_name.vault.azure.net:443', {"encodedQueryParams":true})
  .post('/certificates/mergeCertificateName-canmergeacertificate-1/create')
  .query(true)
  .reply(401, {"error":{"code":"Unauthorized","message":"Request is missing a Bearer or PoP token."}}, [ 'Cache-Control',
  'no-cache',
  'Pragma',
  'no-cache',
  'Content-Length',
  '87',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Server',
  'Microsoft-IIS/10.0',
  'WWW-Authenticate',
  'Bearer authorization="https://login.windows.net/azure_tenant_id", resource="https://vault.azure.net"',
  'x-ms-keyvault-region',
  'westus',
  'x-ms-request-id',
  '4db90f46-50eb-444e-85a8-fc916d2cb597',
  'x-ms-keyvault-service-version',
  '1.1.0.876',
  'x-ms-keyvault-network-info',
  'addr=13.82.28.114;act_addr_fam=InterNetwork;',
  'X-AspNet-Version',
  '4.0.30319',
  'X-Powered-By',
  'ASP.NET',
  'Strict-Transport-Security',
  'max-age=31536000;includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'Date',
  'Wed, 28 Aug 2019 17:53:49 GMT',
  'Connection',
  'close' ]);


nock('https://login.microsoftonline.com:443', {"encodedQueryParams":true})
  .post('/azure_tenant_id/oauth2/v2.0/token', "response_type=token&grant_type=client_credentials&client_id=azure_client_id&client_secret=azure_client_secret&scope=https%3A%2F%2Fvault.azure.net%2F.default")
  .reply(200, {"token_type":"Bearer","expires_in":3599,"ext_expires_in":3599,"access_token":"access_token"}, [ 'Cache-Control',
  'no-cache, no-store',
  'Pragma',
  'no-cache',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Strict-Transport-Security',
  'max-age=31536000; includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'x-ms-request-id',
  '831bf6fa-d8e7-4b82-a008-9ac32f732e00',
  'x-ms-ests-server',
  '2.1.9288.15 - EUS ProdSlices',
  'P3P',
  'CP="DSP CUR OTPi IND OTRi ONL FIN"',
  'Set-Cookie',
  'fpc=AtN1b3UG_dpImJ0UmC538vY_aSJHAwAAAKq2-NQOAAAA; expires=Fri, 27-Sep-2019 17:53:49 GMT; path=/; secure; HttpOnly',
  'Set-Cookie',
  'x-ms-gateway-slice=estsfd; path=/; secure; HttpOnly',
  'Set-Cookie',
  'stsservicecookie=estsfd; path=/; secure; HttpOnly',
  'Date',
  'Wed, 28 Aug 2019 17:53:49 GMT',
  'Connection',
  'close',
  'Content-Length',
  '1231' ]);


nock('https://keyvault_name.vault.azure.net:443', {"encodedQueryParams":true})
  .post('/certificates/mergeCertificateName-canmergeacertificate-1/create', {"policy":{"key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":false},"secret_props":{"contentType":"application/x-pem-file"},"x509_props":{"subject":"CN=*.microsoft.com","sans":{"dns_names":["sdk.azure-int.net"]},"validity_months":24},"lifetime_actions":[{"trigger":{"lifetime_percentage":2},"action":{"action_type":"EmailContacts"}}],"issuer":{"name":"Unknown"}}})
  .query(true)
  .reply(202, {"id":"https://keyvault_name.vault.azure.net/certificates/mergeCertificateName-canmergeacertificate-1/pending","issuer":{"name":"Unknown"},"csr":"MIICyDCCAbACAQAwGjEYMBYGA1UEAwwPKi5taWNyb3NvZnQuY29tMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAq2Ft36g+larI1culbP41R/LXIRA+jJyDyVxHV7ZAnuviISGmFTvt/7z4eAlQ7udlLY9t7vMz2Wwe3H1Uzpjpc0Gjs88oFs7XWHdx+HcgGEfFicteP11P9CrUgcnfCpahkNBnSR/RXIVfQCvBmcOzN4nCoV3qbjI+D4FMS4qo0W/qdCN9mBo7L5oAHEwEk2DkyHmwLnZXEU3Xsn7eL7naXJ8c6YZMR7wJi78B2PBHxBIRVvPX5X09gDVNroA//kbhWp+Mt4JAVCCNo26z6R9bDpKabna0g+KT7WKl5SUib4muKQ7yTAisoGDMBQaer+Z8Z5v/TkDLT1wD0Q/AldCA9QIDAQABoGkwZwYJKoZIhvcNAQkOMVowWDAOBgNVHQ8BAf8EBAMCBaAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMBwGA1UdEQQVMBOCEXNkay5henVyZS1pbnQubmV0MAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAEbxlTq9uuX+/wjli4io3uRylOBEamSosNlLw+AKhnEjXMWpmTp5EcM1AAn0/hHpC6vqmJmC0mhKKogdAAZSoKUgrvnnoP3b0Gqzkuf/2Ek5/BhV5ULwwDfLNdttoOovION4WAxoH9bphqT2RGq8P836lzsEaX0pkjrQzjL5qiK4MmH+w5vgCPdrX3j8HQAehzsJpuLb12KJEbyvnvFFH+twcqqNzvwXES8Z3KP5R3eVP/RZ2jzZC7G13/yr1taeDoDNNor8Koe/emRZq3lpxDQoftV7QzZnZXLo/uhbMQKVzLJmcR4lAL000UeoUIX0YRREt0uH4GSxlAll06+1pPw=","cancellation_requested":false,"status":"inProgress","status_details":"Pending certificate created. Please Perform Merge to complete the request.","request_id":"f33f81db1b234edea05b3611f16fc0db"}, [ 'Cache-Control',
  'no-cache',
  'Pragma',
  'no-cache',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Location',
  'https://keyvault_name.vault.azure.net/certificates/mergeCertificateName-canmergeacertificate-1/pending?api-version=7.0&request_id=f33f81db1b234edea05b3611f16fc0db',
  'Retry-After',
  '10',
  'Server',
  'Microsoft-IIS/10.0',
  'x-ms-keyvault-region',
  'westus',
  'x-ms-request-id',
  '63e7f3eb-7cef-44a0-a7c0-bb59d4ed89ee',
  'x-ms-keyvault-service-version',
  '1.1.0.876',
  'x-ms-keyvault-network-info',
  'addr=13.82.28.114;act_addr_fam=InterNetwork;',
  'X-AspNet-Version',
  '4.0.30319',
  'X-Powered-By',
  'ASP.NET',
  'Strict-Transport-Security',
  'max-age=31536000;includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'Date',
  'Wed, 28 Aug 2019 17:53:49 GMT',
  'Connection',
  'close',
  'Content-Length',
  '1313' ]);


nock('https://keyvault_name.vault.azure.net:443', {"encodedQueryParams":true})
  .get('/certificates/mergeCertificateName-canmergeacertificate-1/pending')
  .query(true)
  .reply(401, {"error":{"code":"Unauthorized","message":"Request is missing a Bearer or PoP token."}}, [ 'Cache-Control',
  'no-cache',
  'Pragma',
  'no-cache',
  'Content-Length',
  '87',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Server',
  'Microsoft-IIS/10.0',
  'WWW-Authenticate',
  'Bearer authorization="https://login.windows.net/azure_tenant_id", resource="https://vault.azure.net"',
  'x-ms-keyvault-region',
  'westus',
  'x-ms-request-id',
  '5e4fb9f2-e4a5-4dba-81ad-8d74b7754efa',
  'x-ms-keyvault-service-version',
  '1.1.0.876',
  'x-ms-keyvault-network-info',
  'addr=13.82.28.114;act_addr_fam=InterNetwork;',
  'X-AspNet-Version',
  '4.0.30319',
  'X-Powered-By',
  'ASP.NET',
  'Strict-Transport-Security',
  'max-age=31536000;includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'Date',
  'Wed, 28 Aug 2019 17:53:49 GMT',
  'Connection',
  'close' ]);


nock('https://login.microsoftonline.com:443', {"encodedQueryParams":true})
  .post('/azure_tenant_id/oauth2/v2.0/token', "response_type=token&grant_type=client_credentials&client_id=azure_client_id&client_secret=azure_client_secret&scope=https%3A%2F%2Fvault.azure.net%2F.default")
  .reply(200, {"token_type":"Bearer","expires_in":3599,"ext_expires_in":3599,"access_token":"access_token"}, [ 'Cache-Control',
  'no-cache, no-store',
  'Pragma',
  'no-cache',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Strict-Transport-Security',
  'max-age=31536000; includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'x-ms-request-id',
  '295ced83-45f9-4373-98de-29abd32a4900',
  'x-ms-ests-server',
  '2.1.9288.15 - WUS ProdSlices',
  'P3P',
  'CP="DSP CUR OTPi IND OTRi ONL FIN"',
  'Set-Cookie',
  'fpc=AtN1b3UG_dpImJ0UmC538vY_aSJHBAAAAKq2-NQOAAAA; expires=Fri, 27-Sep-2019 17:53:51 GMT; path=/; secure; HttpOnly',
  'Set-Cookie',
  'x-ms-gateway-slice=estsfd; path=/; secure; HttpOnly',
  'Set-Cookie',
  'stsservicecookie=estsfd; path=/; secure; HttpOnly',
  'Date',
  'Wed, 28 Aug 2019 17:53:50 GMT',
  'Connection',
  'close',
  'Content-Length',
  '1231' ]);


nock('https://keyvault_name.vault.azure.net:443', {"encodedQueryParams":true})
  .get('/certificates/mergeCertificateName-canmergeacertificate-1/pending')
  .query(true)
  .reply(200, {"id":"https://keyvault_name.vault.azure.net/certificates/mergeCertificateName-canmergeacertificate-1/pending","issuer":{"name":"Unknown"},"csr":"MIICyDCCAbACAQAwGjEYMBYGA1UEAwwPKi5taWNyb3NvZnQuY29tMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAq2Ft36g+larI1culbP41R/LXIRA+jJyDyVxHV7ZAnuviISGmFTvt/7z4eAlQ7udlLY9t7vMz2Wwe3H1Uzpjpc0Gjs88oFs7XWHdx+HcgGEfFicteP11P9CrUgcnfCpahkNBnSR/RXIVfQCvBmcOzN4nCoV3qbjI+D4FMS4qo0W/qdCN9mBo7L5oAHEwEk2DkyHmwLnZXEU3Xsn7eL7naXJ8c6YZMR7wJi78B2PBHxBIRVvPX5X09gDVNroA//kbhWp+Mt4JAVCCNo26z6R9bDpKabna0g+KT7WKl5SUib4muKQ7yTAisoGDMBQaer+Z8Z5v/TkDLT1wD0Q/AldCA9QIDAQABoGkwZwYJKoZIhvcNAQkOMVowWDAOBgNVHQ8BAf8EBAMCBaAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMBwGA1UdEQQVMBOCEXNkay5henVyZS1pbnQubmV0MAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAEbxlTq9uuX+/wjli4io3uRylOBEamSosNlLw+AKhnEjXMWpmTp5EcM1AAn0/hHpC6vqmJmC0mhKKogdAAZSoKUgrvnnoP3b0Gqzkuf/2Ek5/BhV5ULwwDfLNdttoOovION4WAxoH9bphqT2RGq8P836lzsEaX0pkjrQzjL5qiK4MmH+w5vgCPdrX3j8HQAehzsJpuLb12KJEbyvnvFFH+twcqqNzvwXES8Z3KP5R3eVP/RZ2jzZC7G13/yr1taeDoDNNor8Koe/emRZq3lpxDQoftV7QzZnZXLo/uhbMQKVzLJmcR4lAL000UeoUIX0YRREt0uH4GSxlAll06+1pPw=","cancellation_requested":false,"status":"inProgress","status_details":"Pending certificate created. Please Perform Merge to complete the request.","request_id":"f33f81db1b234edea05b3611f16fc0db"}, [ 'Cache-Control',
  'no-cache',
  'Pragma',
  'no-cache',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Retry-After',
  '10',
  'Server',
  'Microsoft-IIS/10.0',
  'x-ms-keyvault-region',
  'westus',
  'x-ms-request-id',
  'd18445e5-108c-49c2-962e-2247baedb492',
  'x-ms-keyvault-service-version',
  '1.1.0.876',
  'x-ms-keyvault-network-info',
  'addr=13.82.28.114;act_addr_fam=InterNetwork;',
  'X-AspNet-Version',
  '4.0.30319',
  'X-Powered-By',
  'ASP.NET',
  'Strict-Transport-Security',
  'max-age=31536000;includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'Date',
  'Wed, 28 Aug 2019 17:53:51 GMT',
  'Connection',
  'close',
  'Content-Length',
  '1313' ]);


nock('https://keyvault_name.vault.azure.net:443', {"encodedQueryParams":true})
  .post('/certificates/mergeCertificateName-canmergeacertificate-1/pending/merge')
  .query(true)
  .reply(401, {"error":{"code":"Unauthorized","message":"Request is missing a Bearer or PoP token."}}, [ 'Cache-Control',
  'no-cache',
  'Pragma',
  'no-cache',
  'Content-Length',
  '87',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Server',
  'Microsoft-IIS/10.0',
  'WWW-Authenticate',
  'Bearer authorization="https://login.windows.net/azure_tenant_id", resource="https://vault.azure.net"',
  'x-ms-keyvault-region',
  'westus',
  'x-ms-request-id',
  '461d2a76-6750-4466-adef-07c1ad6920f2',
  'x-ms-keyvault-service-version',
  '1.1.0.876',
  'x-ms-keyvault-network-info',
  'addr=13.82.28.114;act_addr_fam=InterNetwork;',
  'X-AspNet-Version',
  '4.0.30319',
  'X-Powered-By',
  'ASP.NET',
  'Strict-Transport-Security',
  'max-age=31536000;includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'Date',
  'Wed, 28 Aug 2019 17:53:50 GMT',
  'Connection',
  'close' ]);


nock('https://login.microsoftonline.com:443', {"encodedQueryParams":true})
  .post('/azure_tenant_id/oauth2/v2.0/token', "response_type=token&grant_type=client_credentials&client_id=azure_client_id&client_secret=azure_client_secret&scope=https%3A%2F%2Fvault.azure.net%2F.default")
  .reply(200, {"token_type":"Bearer","expires_in":3599,"ext_expires_in":3599,"access_token":"access_token"}, [ 'Cache-Control',
  'no-cache, no-store',
  'Pragma',
  'no-cache',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Strict-Transport-Security',
  'max-age=31536000; includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'x-ms-request-id',
  '8be3a72c-f911-45b2-84b0-368cd1551c00',
  'x-ms-ests-server',
  '2.1.9288.15 - SCUS ProdSlices',
  'P3P',
  'CP="DSP CUR OTPi IND OTRi ONL FIN"',
  'Set-Cookie',
  'fpc=AtN1b3UG_dpImJ0UmC538vY_aSJHBQAAAKq2-NQOAAAA; expires=Fri, 27-Sep-2019 17:53:51 GMT; path=/; secure; HttpOnly',
  'Set-Cookie',
  'x-ms-gateway-slice=estsfd; path=/; secure; HttpOnly',
  'Set-Cookie',
  'stsservicecookie=estsfd; path=/; secure; HttpOnly',
  'Date',
  'Wed, 28 Aug 2019 17:53:51 GMT',
  'Connection',
  'close',
  'Content-Length',
  '1231' ]);


nock('https://keyvault_name.vault.azure.net:443', {"encodedQueryParams":true})
  .post('/certificates/mergeCertificateName-canmergeacertificate-1/pending/merge', {"x5c":["QzJGNTY0RDk3QzNFMjE2"]})
  .query(true)
  .reply(400, {"error":{"code":"BadParameter","message":"Certificate can not be read. Please check if certificate is valid."}}, [ 'Cache-Control',
  'no-cache',
  'Pragma',
  'no-cache',
  'Content-Length',
  '112',
  'Content-Type',
  'application/json; charset=utf-8',
  'Expires',
  '-1',
  'Server',
  'Microsoft-IIS/10.0',
  'x-ms-keyvault-region',
  'westus',
  'x-ms-request-id',
  'df33a52f-44e2-4904-934d-66f46c51ea46',
  'x-ms-keyvault-service-version',
  '1.1.0.876',
  'x-ms-keyvault-network-info',
  'addr=13.82.28.114;act_addr_fam=InterNetwork;',
  'X-AspNet-Version',
  '4.0.30319',
  'X-Powered-By',
  'ASP.NET',
  'Strict-Transport-Security',
  'max-age=31536000;includeSubDomains',
  'X-Content-Type-Options',
  'nosniff',
  'Date',
  'Wed, 28 Aug 2019 17:53:51 GMT',
  'Connection',
  'close' ]);

