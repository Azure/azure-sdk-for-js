<!--
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the MIT Licence.

  Here we demonstrate how to inject new SAS for an ongoing uploading. 
  SAS might get expired before a large upload finishes, for this scenario, we want to request a new SAS token during the upload instead of starting a new upload.
  
  In this sample, we give a SAS injection sample for browsers like Chrome which supports await/async.
  Sample code imports Azure Storage Blob SDK with JavaScript bundle.
  Before executing the sample: 
  - Make sure storage account has been set up CORS setting properly
  - Implement method getNewSasForBlob 
  - Update url in upload() method
  - Install your favorite bundler such as Webpack

  
  Refer to other Javascript samples(https://github.com/Azure/azure-sdk-for-js/tree/master/sdk/storage/storage-blob/samples/javascript) 
  and replace code in the below script tag to try out other features.
-->

<html>
  <body>
    <form><input type="file" id="file" /></form>
    <button id="upload" onclick="upload()">Upload</button>

    <!--
      Import the output of your bundler here.

      For example, to use Webpack, run the following:

      > npm install -D webpack webpack-cli

      With webpack installed, you can build a production bundle with the following:
      > npx webpack largeFileUploads.js

      This will create dist/main.js which is imported below.
    -->
    <script src="./dist/main.js"></script>
  </body>
</html>
