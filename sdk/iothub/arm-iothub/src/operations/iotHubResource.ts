/*
 * Copyright (c) Microsoft Corporation.
 * Licensed under the MIT License.
 *
 * Code generated by Microsoft (R) AutoRest Code Generator.
 * Changes may cause incorrect behavior and will be lost if the code is regenerated.
 */

import { PagedAsyncIterableIterator, PageSettings } from "@azure/core-paging";
import { setContinuationToken } from "../pagingHelper";
import { IotHubResource } from "../operationsInterfaces";
import * as coreClient from "@azure/core-client";
import * as Mappers from "../models/mappers";
import * as Parameters from "../models/parameters";
import { IotHubClient } from "../iotHubClient";
import {
  SimplePollerLike,
  OperationState,
  createHttpPoller
} from "@azure/core-lro";
import { createLroSpec } from "../lroImpl";
import {
  IotHubDescription,
  IotHubResourceListBySubscriptionNextOptionalParams,
  IotHubResourceListBySubscriptionOptionalParams,
  IotHubResourceListBySubscriptionResponse,
  IotHubResourceListByResourceGroupNextOptionalParams,
  IotHubResourceListByResourceGroupOptionalParams,
  IotHubResourceListByResourceGroupResponse,
  IotHubSkuDescription,
  IotHubResourceGetValidSkusNextOptionalParams,
  IotHubResourceGetValidSkusOptionalParams,
  IotHubResourceGetValidSkusResponse,
  EventHubConsumerGroupInfo,
  IotHubResourceListEventHubConsumerGroupsNextOptionalParams,
  IotHubResourceListEventHubConsumerGroupsOptionalParams,
  IotHubResourceListEventHubConsumerGroupsResponse,
  JobResponse,
  IotHubResourceListJobsNextOptionalParams,
  IotHubResourceListJobsOptionalParams,
  IotHubResourceListJobsResponse,
  IotHubQuotaMetricInfo,
  IotHubResourceGetQuotaMetricsNextOptionalParams,
  IotHubResourceGetQuotaMetricsOptionalParams,
  IotHubResourceGetQuotaMetricsResponse,
  EndpointHealthData,
  IotHubResourceGetEndpointHealthNextOptionalParams,
  IotHubResourceGetEndpointHealthOptionalParams,
  IotHubResourceGetEndpointHealthResponse,
  SharedAccessSignatureAuthorizationRule,
  IotHubResourceListKeysNextOptionalParams,
  IotHubResourceListKeysOptionalParams,
  IotHubResourceListKeysResponse,
  IotHubResourceGetOptionalParams,
  IotHubResourceGetResponse,
  IotHubResourceCreateOrUpdateOptionalParams,
  IotHubResourceCreateOrUpdateResponse,
  TagsResource,
  IotHubResourceUpdateOptionalParams,
  IotHubResourceUpdateResponse,
  IotHubResourceDeleteOptionalParams,
  IotHubResourceDeleteResponse,
  IotHubResourceGetStatsOptionalParams,
  IotHubResourceGetStatsResponse,
  IotHubResourceGetEventHubConsumerGroupOptionalParams,
  IotHubResourceGetEventHubConsumerGroupResponse,
  EventHubConsumerGroupBodyDescription,
  IotHubResourceCreateEventHubConsumerGroupOptionalParams,
  IotHubResourceCreateEventHubConsumerGroupResponse,
  IotHubResourceDeleteEventHubConsumerGroupOptionalParams,
  IotHubResourceGetJobOptionalParams,
  IotHubResourceGetJobResponse,
  OperationInputs,
  IotHubResourceCheckNameAvailabilityOptionalParams,
  IotHubResourceCheckNameAvailabilityResponse,
  TestAllRoutesInput,
  IotHubResourceTestAllRoutesOptionalParams,
  IotHubResourceTestAllRoutesResponse,
  TestRouteInput,
  IotHubResourceTestRouteOptionalParams,
  IotHubResourceTestRouteResponse,
  IotHubResourceGetKeysForKeyNameOptionalParams,
  IotHubResourceGetKeysForKeyNameResponse,
  ExportDevicesRequest,
  IotHubResourceExportDevicesOptionalParams,
  IotHubResourceExportDevicesResponse,
  ImportDevicesRequest,
  IotHubResourceImportDevicesOptionalParams,
  IotHubResourceImportDevicesResponse,
  IotHubResourceListBySubscriptionNextResponse,
  IotHubResourceListByResourceGroupNextResponse,
  IotHubResourceGetValidSkusNextResponse,
  IotHubResourceListEventHubConsumerGroupsNextResponse,
  IotHubResourceListJobsNextResponse,
  IotHubResourceGetQuotaMetricsNextResponse,
  IotHubResourceGetEndpointHealthNextResponse,
  IotHubResourceListKeysNextResponse
} from "../models";

/// <reference lib="esnext.asynciterable" />
/** Class containing IotHubResource operations. */
export class IotHubResourceImpl implements IotHubResource {
  private readonly client: IotHubClient;

  /**
   * Initialize a new instance of the class IotHubResource class.
   * @param client Reference to the service client
   */
  constructor(client: IotHubClient) {
    this.client = client;
  }

  /**
   * Get all the IoT hubs in a subscription.
   * @param options The options parameters.
   */
  public listBySubscription(
    options?: IotHubResourceListBySubscriptionOptionalParams
  ): PagedAsyncIterableIterator<IotHubDescription> {
    const iter = this.listBySubscriptionPagingAll(options);
    return {
      next() {
        return iter.next();
      },
      [Symbol.asyncIterator]() {
        return this;
      },
      byPage: (settings?: PageSettings) => {
        if (settings?.maxPageSize) {
          throw new Error("maxPageSize is not supported by this operation.");
        }
        return this.listBySubscriptionPagingPage(options, settings);
      }
    };
  }

  private async *listBySubscriptionPagingPage(
    options?: IotHubResourceListBySubscriptionOptionalParams,
    settings?: PageSettings
  ): AsyncIterableIterator<IotHubDescription[]> {
    let result: IotHubResourceListBySubscriptionResponse;
    let continuationToken = settings?.continuationToken;
    if (!continuationToken) {
      result = await this._listBySubscription(options);
      let page = result.value || [];
      continuationToken = result.nextLink;
      setContinuationToken(page, continuationToken);
      yield page;
    }
    while (continuationToken) {
      result = await this._listBySubscriptionNext(continuationToken, options);
      continuationToken = result.nextLink;
      let page = result.value || [];
      setContinuationToken(page, continuationToken);
      yield page;
    }
  }

  private async *listBySubscriptionPagingAll(
    options?: IotHubResourceListBySubscriptionOptionalParams
  ): AsyncIterableIterator<IotHubDescription> {
    for await (const page of this.listBySubscriptionPagingPage(options)) {
      yield* page;
    }
  }

  /**
   * Get all the IoT hubs in a resource group.
   * @param resourceGroupName The name of the resource group that contains the IoT hub.
   * @param options The options parameters.
   */
  public listByResourceGroup(
    resourceGroupName: string,
    options?: IotHubResourceListByResourceGroupOptionalParams
  ): PagedAsyncIterableIterator<IotHubDescription> {
    const iter = this.listByResourceGroupPagingAll(resourceGroupName, options);
    return {
      next() {
        return iter.next();
      },
      [Symbol.asyncIterator]() {
        return this;
      },
      byPage: (settings?: PageSettings) => {
        if (settings?.maxPageSize) {
          throw new Error("maxPageSize is not supported by this operation.");
        }
        return this.listByResourceGroupPagingPage(
          resourceGroupName,
          options,
          settings
        );
      }
    };
  }

  private async *listByResourceGroupPagingPage(
    resourceGroupName: string,
    options?: IotHubResourceListByResourceGroupOptionalParams,
    settings?: PageSettings
  ): AsyncIterableIterator<IotHubDescription[]> {
    let result: IotHubResourceListByResourceGroupResponse;
    let continuationToken = settings?.continuationToken;
    if (!continuationToken) {
      result = await this._listByResourceGroup(resourceGroupName, options);
      let page = result.value || [];
      continuationToken = result.nextLink;
      setContinuationToken(page, continuationToken);
      yield page;
    }
    while (continuationToken) {
      result = await this._listByResourceGroupNext(
        resourceGroupName,
        continuationToken,
        options
      );
      continuationToken = result.nextLink;
      let page = result.value || [];
      setContinuationToken(page, continuationToken);
      yield page;
    }
  }

  private async *listByResourceGroupPagingAll(
    resourceGroupName: string,
    options?: IotHubResourceListByResourceGroupOptionalParams
  ): AsyncIterableIterator<IotHubDescription> {
    for await (const page of this.listByResourceGroupPagingPage(
      resourceGroupName,
      options
    )) {
      yield* page;
    }
  }

  /**
   * Get the list of valid SKUs for an IoT hub.
   * @param resourceGroupName The name of the resource group that contains the IoT hub.
   * @param resourceName The name of the IoT hub.
   * @param options The options parameters.
   */
  public listValidSkus(
    resourceGroupName: string,
    resourceName: string,
    options?: IotHubResourceGetValidSkusOptionalParams
  ): PagedAsyncIterableIterator<IotHubSkuDescription> {
    const iter = this.getValidSkusPagingAll(
      resourceGroupName,
      resourceName,
      options
    );
    return {
      next() {
        return iter.next();
      },
      [Symbol.asyncIterator]() {
        return this;
      },
      byPage: (settings?: PageSettings) => {
        if (settings?.maxPageSize) {
          throw new Error("maxPageSize is not supported by this operation.");
        }
        return this.getValidSkusPagingPage(
          resourceGroupName,
          resourceName,
          options,
          settings
        );
      }
    };
  }

  private async *getValidSkusPagingPage(
    resourceGroupName: string,
    resourceName: string,
    options?: IotHubResourceGetValidSkusOptionalParams,
    settings?: PageSettings
  ): AsyncIterableIterator<IotHubSkuDescription[]> {
    let result: IotHubResourceGetValidSkusResponse;
    let continuationToken = settings?.continuationToken;
    if (!continuationToken) {
      result = await this._getValidSkus(
        resourceGroupName,
        resourceName,
        options
      );
      let page = result.value || [];
      continuationToken = result.nextLink;
      setContinuationToken(page, continuationToken);
      yield page;
    }
    while (continuationToken) {
      result = await this._getValidSkusNext(
        resourceGroupName,
        resourceName,
        continuationToken,
        options
      );
      continuationToken = result.nextLink;
      let page = result.value || [];
      setContinuationToken(page, continuationToken);
      yield page;
    }
  }

  private async *getValidSkusPagingAll(
    resourceGroupName: string,
    resourceName: string,
    options?: IotHubResourceGetValidSkusOptionalParams
  ): AsyncIterableIterator<IotHubSkuDescription> {
    for await (const page of this.getValidSkusPagingPage(
      resourceGroupName,
      resourceName,
      options
    )) {
      yield* page;
    }
  }

  /**
   * Get a list of the consumer groups in the Event Hub-compatible device-to-cloud endpoint in an IoT
   * hub.
   * @param resourceGroupName The name of the resource group that contains the IoT hub.
   * @param resourceName The name of the IoT hub.
   * @param eventHubEndpointName The name of the Event Hub-compatible endpoint.
   * @param options The options parameters.
   */
  public listEventHubConsumerGroups(
    resourceGroupName: string,
    resourceName: string,
    eventHubEndpointName: string,
    options?: IotHubResourceListEventHubConsumerGroupsOptionalParams
  ): PagedAsyncIterableIterator<EventHubConsumerGroupInfo> {
    const iter = this.listEventHubConsumerGroupsPagingAll(
      resourceGroupName,
      resourceName,
      eventHubEndpointName,
      options
    );
    return {
      next() {
        return iter.next();
      },
      [Symbol.asyncIterator]() {
        return this;
      },
      byPage: (settings?: PageSettings) => {
        if (settings?.maxPageSize) {
          throw new Error("maxPageSize is not supported by this operation.");
        }
        return this.listEventHubConsumerGroupsPagingPage(
          resourceGroupName,
          resourceName,
          eventHubEndpointName,
          options,
          settings
        );
      }
    };
  }

  private async *listEventHubConsumerGroupsPagingPage(
    resourceGroupName: string,
    resourceName: string,
    eventHubEndpointName: string,
    options?: IotHubResourceListEventHubConsumerGroupsOptionalParams,
    settings?: PageSettings
  ): AsyncIterableIterator<EventHubConsumerGroupInfo[]> {
    let result: IotHubResourceListEventHubConsumerGroupsResponse;
    let continuationToken = settings?.continuationToken;
    if (!continuationToken) {
      result = await this._listEventHubConsumerGroups(
        resourceGroupName,
        resourceName,
        eventHubEndpointName,
        options
      );
      let page = result.value || [];
      continuationToken = result.nextLink;
      setContinuationToken(page, continuationToken);
      yield page;
    }
    while (continuationToken) {
      result = await this._listEventHubConsumerGroupsNext(
        resourceGroupName,
        resourceName,
        eventHubEndpointName,
        continuationToken,
        options
      );
      continuationToken = result.nextLink;
      let page = result.value || [];
      setContinuationToken(page, continuationToken);
      yield page;
    }
  }

  private async *listEventHubConsumerGroupsPagingAll(
    resourceGroupName: string,
    resourceName: string,
    eventHubEndpointName: string,
    options?: IotHubResourceListEventHubConsumerGroupsOptionalParams
  ): AsyncIterableIterator<EventHubConsumerGroupInfo> {
    for await (const page of this.listEventHubConsumerGroupsPagingPage(
      resourceGroupName,
      resourceName,
      eventHubEndpointName,
      options
    )) {
      yield* page;
    }
  }

  /**
   * Get a list of all the jobs in an IoT hub. For more information, see:
   * https://docs.microsoft.com/azure/iot-hub/iot-hub-devguide-identity-registry.
   * @param resourceGroupName The name of the resource group that contains the IoT hub.
   * @param resourceName The name of the IoT hub.
   * @param options The options parameters.
   */
  public listJobs(
    resourceGroupName: string,
    resourceName: string,
    options?: IotHubResourceListJobsOptionalParams
  ): PagedAsyncIterableIterator<JobResponse> {
    const iter = this.listJobsPagingAll(
      resourceGroupName,
      resourceName,
      options
    );
    return {
      next() {
        return iter.next();
      },
      [Symbol.asyncIterator]() {
        return this;
      },
      byPage: (settings?: PageSettings) => {
        if (settings?.maxPageSize) {
          throw new Error("maxPageSize is not supported by this operation.");
        }
        return this.listJobsPagingPage(
          resourceGroupName,
          resourceName,
          options,
          settings
        );
      }
    };
  }

  private async *listJobsPagingPage(
    resourceGroupName: string,
    resourceName: string,
    options?: IotHubResourceListJobsOptionalParams,
    settings?: PageSettings
  ): AsyncIterableIterator<JobResponse[]> {
    let result: IotHubResourceListJobsResponse;
    let continuationToken = settings?.continuationToken;
    if (!continuationToken) {
      result = await this._listJobs(resourceGroupName, resourceName, options);
      let page = result.value || [];
      continuationToken = result.nextLink;
      setContinuationToken(page, continuationToken);
      yield page;
    }
    while (continuationToken) {
      result = await this._listJobsNext(
        resourceGroupName,
        resourceName,
        continuationToken,
        options
      );
      continuationToken = result.nextLink;
      let page = result.value || [];
      setContinuationToken(page, continuationToken);
      yield page;
    }
  }

  private async *listJobsPagingAll(
    resourceGroupName: string,
    resourceName: string,
    options?: IotHubResourceListJobsOptionalParams
  ): AsyncIterableIterator<JobResponse> {
    for await (const page of this.listJobsPagingPage(
      resourceGroupName,
      resourceName,
      options
    )) {
      yield* page;
    }
  }

  /**
   * Get the quota metrics for an IoT hub.
   * @param resourceGroupName The name of the resource group that contains the IoT hub.
   * @param resourceName The name of the IoT hub.
   * @param options The options parameters.
   */
  public listQuotaMetrics(
    resourceGroupName: string,
    resourceName: string,
    options?: IotHubResourceGetQuotaMetricsOptionalParams
  ): PagedAsyncIterableIterator<IotHubQuotaMetricInfo> {
    const iter = this.getQuotaMetricsPagingAll(
      resourceGroupName,
      resourceName,
      options
    );
    return {
      next() {
        return iter.next();
      },
      [Symbol.asyncIterator]() {
        return this;
      },
      byPage: (settings?: PageSettings) => {
        if (settings?.maxPageSize) {
          throw new Error("maxPageSize is not supported by this operation.");
        }
        return this.getQuotaMetricsPagingPage(
          resourceGroupName,
          resourceName,
          options,
          settings
        );
      }
    };
  }

  private async *getQuotaMetricsPagingPage(
    resourceGroupName: string,
    resourceName: string,
    options?: IotHubResourceGetQuotaMetricsOptionalParams,
    settings?: PageSettings
  ): AsyncIterableIterator<IotHubQuotaMetricInfo[]> {
    let result: IotHubResourceGetQuotaMetricsResponse;
    let continuationToken = settings?.continuationToken;
    if (!continuationToken) {
      result = await this._getQuotaMetrics(
        resourceGroupName,
        resourceName,
        options
      );
      let page = result.value || [];
      continuationToken = result.nextLink;
      setContinuationToken(page, continuationToken);
      yield page;
    }
    while (continuationToken) {
      result = await this._getQuotaMetricsNext(
        resourceGroupName,
        resourceName,
        continuationToken,
        options
      );
      continuationToken = result.nextLink;
      let page = result.value || [];
      setContinuationToken(page, continuationToken);
      yield page;
    }
  }

  private async *getQuotaMetricsPagingAll(
    resourceGroupName: string,
    resourceName: string,
    options?: IotHubResourceGetQuotaMetricsOptionalParams
  ): AsyncIterableIterator<IotHubQuotaMetricInfo> {
    for await (const page of this.getQuotaMetricsPagingPage(
      resourceGroupName,
      resourceName,
      options
    )) {
      yield* page;
    }
  }

  /**
   * Get the health for routing endpoints.
   * @param resourceGroupName
   * @param iotHubName
   * @param options The options parameters.
   */
  public listEndpointHealth(
    resourceGroupName: string,
    iotHubName: string,
    options?: IotHubResourceGetEndpointHealthOptionalParams
  ): PagedAsyncIterableIterator<EndpointHealthData> {
    const iter = this.getEndpointHealthPagingAll(
      resourceGroupName,
      iotHubName,
      options
    );
    return {
      next() {
        return iter.next();
      },
      [Symbol.asyncIterator]() {
        return this;
      },
      byPage: (settings?: PageSettings) => {
        if (settings?.maxPageSize) {
          throw new Error("maxPageSize is not supported by this operation.");
        }
        return this.getEndpointHealthPagingPage(
          resourceGroupName,
          iotHubName,
          options,
          settings
        );
      }
    };
  }

  private async *getEndpointHealthPagingPage(
    resourceGroupName: string,
    iotHubName: string,
    options?: IotHubResourceGetEndpointHealthOptionalParams,
    settings?: PageSettings
  ): AsyncIterableIterator<EndpointHealthData[]> {
    let result: IotHubResourceGetEndpointHealthResponse;
    let continuationToken = settings?.continuationToken;
    if (!continuationToken) {
      result = await this._getEndpointHealth(
        resourceGroupName,
        iotHubName,
        options
      );
      let page = result.value || [];
      continuationToken = result.nextLink;
      setContinuationToken(page, continuationToken);
      yield page;
    }
    while (continuationToken) {
      result = await this._getEndpointHealthNext(
        resourceGroupName,
        iotHubName,
        continuationToken,
        options
      );
      continuationToken = result.nextLink;
      let page = result.value || [];
      setContinuationToken(page, continuationToken);
      yield page;
    }
  }

  private async *getEndpointHealthPagingAll(
    resourceGroupName: string,
    iotHubName: string,
    options?: IotHubResourceGetEndpointHealthOptionalParams
  ): AsyncIterableIterator<EndpointHealthData> {
    for await (const page of this.getEndpointHealthPagingPage(
      resourceGroupName,
      iotHubName,
      options
    )) {
      yield* page;
    }
  }

  /**
   * Get the security metadata for an IoT hub. For more information, see:
   * https://docs.microsoft.com/azure/iot-hub/iot-hub-devguide-security.
   * @param resourceGroupName The name of the resource group that contains the IoT hub.
   * @param resourceName The name of the IoT hub.
   * @param options The options parameters.
   */
  public listKeys(
    resourceGroupName: string,
    resourceName: string,
    options?: IotHubResourceListKeysOptionalParams
  ): PagedAsyncIterableIterator<SharedAccessSignatureAuthorizationRule> {
    const iter = this.listKeysPagingAll(
      resourceGroupName,
      resourceName,
      options
    );
    return {
      next() {
        return iter.next();
      },
      [Symbol.asyncIterator]() {
        return this;
      },
      byPage: (settings?: PageSettings) => {
        if (settings?.maxPageSize) {
          throw new Error("maxPageSize is not supported by this operation.");
        }
        return this.listKeysPagingPage(
          resourceGroupName,
          resourceName,
          options,
          settings
        );
      }
    };
  }

  private async *listKeysPagingPage(
    resourceGroupName: string,
    resourceName: string,
    options?: IotHubResourceListKeysOptionalParams,
    settings?: PageSettings
  ): AsyncIterableIterator<SharedAccessSignatureAuthorizationRule[]> {
    let result: IotHubResourceListKeysResponse;
    let continuationToken = settings?.continuationToken;
    if (!continuationToken) {
      result = await this._listKeys(resourceGroupName, resourceName, options);
      let page = result.value || [];
      continuationToken = result.nextLink;
      setContinuationToken(page, continuationToken);
      yield page;
    }
    while (continuationToken) {
      result = await this._listKeysNext(
        resourceGroupName,
        resourceName,
        continuationToken,
        options
      );
      continuationToken = result.nextLink;
      let page = result.value || [];
      setContinuationToken(page, continuationToken);
      yield page;
    }
  }

  private async *listKeysPagingAll(
    resourceGroupName: string,
    resourceName: string,
    options?: IotHubResourceListKeysOptionalParams
  ): AsyncIterableIterator<SharedAccessSignatureAuthorizationRule> {
    for await (const page of this.listKeysPagingPage(
      resourceGroupName,
      resourceName,
      options
    )) {
      yield* page;
    }
  }

  /**
   * Get the non-security related metadata of an IoT hub.
   * @param resourceGroupName The name of the resource group that contains the IoT hub.
   * @param resourceName The name of the IoT hub.
   * @param options The options parameters.
   */
  get(
    resourceGroupName: string,
    resourceName: string,
    options?: IotHubResourceGetOptionalParams
  ): Promise<IotHubResourceGetResponse> {
    return this.client.sendOperationRequest(
      { resourceGroupName, resourceName, options },
      getOperationSpec
    );
  }

  /**
   * Create or update the metadata of an Iot hub. The usual pattern to modify a property is to retrieve
   * the IoT hub metadata and security metadata, and then combine them with the modified values in a new
   * body to update the IoT hub. If certain properties are missing in the JSON, updating IoT Hub may
   * cause these values to fallback to default, which may lead to unexpected behavior.
   * @param resourceGroupName The name of the resource group that contains the IoT hub.
   * @param resourceName The name of the IoT hub.
   * @param iotHubDescription The IoT hub metadata and security metadata.
   * @param options The options parameters.
   */
  async beginCreateOrUpdate(
    resourceGroupName: string,
    resourceName: string,
    iotHubDescription: IotHubDescription,
    options?: IotHubResourceCreateOrUpdateOptionalParams
  ): Promise<
    SimplePollerLike<
      OperationState<IotHubResourceCreateOrUpdateResponse>,
      IotHubResourceCreateOrUpdateResponse
    >
  > {
    const directSendOperation = async (
      args: coreClient.OperationArguments,
      spec: coreClient.OperationSpec
    ): Promise<IotHubResourceCreateOrUpdateResponse> => {
      return this.client.sendOperationRequest(args, spec);
    };
    const sendOperationFn = async (
      args: coreClient.OperationArguments,
      spec: coreClient.OperationSpec
    ) => {
      let currentRawResponse:
        | coreClient.FullOperationResponse
        | undefined = undefined;
      const providedCallback = args.options?.onResponse;
      const callback: coreClient.RawResponseCallback = (
        rawResponse: coreClient.FullOperationResponse,
        flatResponse: unknown
      ) => {
        currentRawResponse = rawResponse;
        providedCallback?.(rawResponse, flatResponse);
      };
      const updatedArgs = {
        ...args,
        options: {
          ...args.options,
          onResponse: callback
        }
      };
      const flatResponse = await directSendOperation(updatedArgs, spec);
      return {
        flatResponse,
        rawResponse: {
          statusCode: currentRawResponse!.status,
          body: currentRawResponse!.parsedBody,
          headers: currentRawResponse!.headers.toJSON()
        }
      };
    };

    const lro = createLroSpec({
      sendOperationFn,
      args: { resourceGroupName, resourceName, iotHubDescription, options },
      spec: createOrUpdateOperationSpec
    });
    const poller = await createHttpPoller<
      IotHubResourceCreateOrUpdateResponse,
      OperationState<IotHubResourceCreateOrUpdateResponse>
    >(lro, {
      restoreFrom: options?.resumeFrom,
      intervalInMs: options?.updateIntervalInMs
    });
    await poller.poll();
    return poller;
  }

  /**
   * Create or update the metadata of an Iot hub. The usual pattern to modify a property is to retrieve
   * the IoT hub metadata and security metadata, and then combine them with the modified values in a new
   * body to update the IoT hub. If certain properties are missing in the JSON, updating IoT Hub may
   * cause these values to fallback to default, which may lead to unexpected behavior.
   * @param resourceGroupName The name of the resource group that contains the IoT hub.
   * @param resourceName The name of the IoT hub.
   * @param iotHubDescription The IoT hub metadata and security metadata.
   * @param options The options parameters.
   */
  async beginCreateOrUpdateAndWait(
    resourceGroupName: string,
    resourceName: string,
    iotHubDescription: IotHubDescription,
    options?: IotHubResourceCreateOrUpdateOptionalParams
  ): Promise<IotHubResourceCreateOrUpdateResponse> {
    const poller = await this.beginCreateOrUpdate(
      resourceGroupName,
      resourceName,
      iotHubDescription,
      options
    );
    return poller.pollUntilDone();
  }

  /**
   * Update an existing IoT Hub tags. to update other fields use the CreateOrUpdate method
   * @param resourceGroupName Resource group identifier.
   * @param resourceName Name of iot hub to update.
   * @param iotHubTags Updated tag information to set into the iot hub instance.
   * @param options The options parameters.
   */
  async beginUpdate(
    resourceGroupName: string,
    resourceName: string,
    iotHubTags: TagsResource,
    options?: IotHubResourceUpdateOptionalParams
  ): Promise<
    SimplePollerLike<
      OperationState<IotHubResourceUpdateResponse>,
      IotHubResourceUpdateResponse
    >
  > {
    const directSendOperation = async (
      args: coreClient.OperationArguments,
      spec: coreClient.OperationSpec
    ): Promise<IotHubResourceUpdateResponse> => {
      return this.client.sendOperationRequest(args, spec);
    };
    const sendOperationFn = async (
      args: coreClient.OperationArguments,
      spec: coreClient.OperationSpec
    ) => {
      let currentRawResponse:
        | coreClient.FullOperationResponse
        | undefined = undefined;
      const providedCallback = args.options?.onResponse;
      const callback: coreClient.RawResponseCallback = (
        rawResponse: coreClient.FullOperationResponse,
        flatResponse: unknown
      ) => {
        currentRawResponse = rawResponse;
        providedCallback?.(rawResponse, flatResponse);
      };
      const updatedArgs = {
        ...args,
        options: {
          ...args.options,
          onResponse: callback
        }
      };
      const flatResponse = await directSendOperation(updatedArgs, spec);
      return {
        flatResponse,
        rawResponse: {
          statusCode: currentRawResponse!.status,
          body: currentRawResponse!.parsedBody,
          headers: currentRawResponse!.headers.toJSON()
        }
      };
    };

    const lro = createLroSpec({
      sendOperationFn,
      args: { resourceGroupName, resourceName, iotHubTags, options },
      spec: updateOperationSpec
    });
    const poller = await createHttpPoller<
      IotHubResourceUpdateResponse,
      OperationState<IotHubResourceUpdateResponse>
    >(lro, {
      restoreFrom: options?.resumeFrom,
      intervalInMs: options?.updateIntervalInMs
    });
    await poller.poll();
    return poller;
  }

  /**
   * Update an existing IoT Hub tags. to update other fields use the CreateOrUpdate method
   * @param resourceGroupName Resource group identifier.
   * @param resourceName Name of iot hub to update.
   * @param iotHubTags Updated tag information to set into the iot hub instance.
   * @param options The options parameters.
   */
  async beginUpdateAndWait(
    resourceGroupName: string,
    resourceName: string,
    iotHubTags: TagsResource,
    options?: IotHubResourceUpdateOptionalParams
  ): Promise<IotHubResourceUpdateResponse> {
    const poller = await this.beginUpdate(
      resourceGroupName,
      resourceName,
      iotHubTags,
      options
    );
    return poller.pollUntilDone();
  }

  /**
   * Delete an IoT hub.
   * @param resourceGroupName The name of the resource group that contains the IoT hub.
   * @param resourceName The name of the IoT hub.
   * @param options The options parameters.
   */
  async beginDelete(
    resourceGroupName: string,
    resourceName: string,
    options?: IotHubResourceDeleteOptionalParams
  ): Promise<
    SimplePollerLike<
      OperationState<IotHubResourceDeleteResponse>,
      IotHubResourceDeleteResponse
    >
  > {
    const directSendOperation = async (
      args: coreClient.OperationArguments,
      spec: coreClient.OperationSpec
    ): Promise<IotHubResourceDeleteResponse> => {
      return this.client.sendOperationRequest(args, spec);
    };
    const sendOperationFn = async (
      args: coreClient.OperationArguments,
      spec: coreClient.OperationSpec
    ) => {
      let currentRawResponse:
        | coreClient.FullOperationResponse
        | undefined = undefined;
      const providedCallback = args.options?.onResponse;
      const callback: coreClient.RawResponseCallback = (
        rawResponse: coreClient.FullOperationResponse,
        flatResponse: unknown
      ) => {
        currentRawResponse = rawResponse;
        providedCallback?.(rawResponse, flatResponse);
      };
      const updatedArgs = {
        ...args,
        options: {
          ...args.options,
          onResponse: callback
        }
      };
      const flatResponse = await directSendOperation(updatedArgs, spec);
      return {
        flatResponse,
        rawResponse: {
          statusCode: currentRawResponse!.status,
          body: currentRawResponse!.parsedBody,
          headers: currentRawResponse!.headers.toJSON()
        }
      };
    };

    const lro = createLroSpec({
      sendOperationFn,
      args: { resourceGroupName, resourceName, options },
      spec: deleteOperationSpec
    });
    const poller = await createHttpPoller<
      IotHubResourceDeleteResponse,
      OperationState<IotHubResourceDeleteResponse>
    >(lro, {
      restoreFrom: options?.resumeFrom,
      intervalInMs: options?.updateIntervalInMs
    });
    await poller.poll();
    return poller;
  }

  /**
   * Delete an IoT hub.
   * @param resourceGroupName The name of the resource group that contains the IoT hub.
   * @param resourceName The name of the IoT hub.
   * @param options The options parameters.
   */
  async beginDeleteAndWait(
    resourceGroupName: string,
    resourceName: string,
    options?: IotHubResourceDeleteOptionalParams
  ): Promise<IotHubResourceDeleteResponse> {
    const poller = await this.beginDelete(
      resourceGroupName,
      resourceName,
      options
    );
    return poller.pollUntilDone();
  }

  /**
   * Get all the IoT hubs in a subscription.
   * @param options The options parameters.
   */
  private _listBySubscription(
    options?: IotHubResourceListBySubscriptionOptionalParams
  ): Promise<IotHubResourceListBySubscriptionResponse> {
    return this.client.sendOperationRequest(
      { options },
      listBySubscriptionOperationSpec
    );
  }

  /**
   * Get all the IoT hubs in a resource group.
   * @param resourceGroupName The name of the resource group that contains the IoT hub.
   * @param options The options parameters.
   */
  private _listByResourceGroup(
    resourceGroupName: string,
    options?: IotHubResourceListByResourceGroupOptionalParams
  ): Promise<IotHubResourceListByResourceGroupResponse> {
    return this.client.sendOperationRequest(
      { resourceGroupName, options },
      listByResourceGroupOperationSpec
    );
  }

  /**
   * Get the statistics from an IoT hub.
   * @param resourceGroupName The name of the resource group that contains the IoT hub.
   * @param resourceName The name of the IoT hub.
   * @param options The options parameters.
   */
  getStats(
    resourceGroupName: string,
    resourceName: string,
    options?: IotHubResourceGetStatsOptionalParams
  ): Promise<IotHubResourceGetStatsResponse> {
    return this.client.sendOperationRequest(
      { resourceGroupName, resourceName, options },
      getStatsOperationSpec
    );
  }

  /**
   * Get the list of valid SKUs for an IoT hub.
   * @param resourceGroupName The name of the resource group that contains the IoT hub.
   * @param resourceName The name of the IoT hub.
   * @param options The options parameters.
   */
  private _getValidSkus(
    resourceGroupName: string,
    resourceName: string,
    options?: IotHubResourceGetValidSkusOptionalParams
  ): Promise<IotHubResourceGetValidSkusResponse> {
    return this.client.sendOperationRequest(
      { resourceGroupName, resourceName, options },
      getValidSkusOperationSpec
    );
  }

  /**
   * Get a list of the consumer groups in the Event Hub-compatible device-to-cloud endpoint in an IoT
   * hub.
   * @param resourceGroupName The name of the resource group that contains the IoT hub.
   * @param resourceName The name of the IoT hub.
   * @param eventHubEndpointName The name of the Event Hub-compatible endpoint.
   * @param options The options parameters.
   */
  private _listEventHubConsumerGroups(
    resourceGroupName: string,
    resourceName: string,
    eventHubEndpointName: string,
    options?: IotHubResourceListEventHubConsumerGroupsOptionalParams
  ): Promise<IotHubResourceListEventHubConsumerGroupsResponse> {
    return this.client.sendOperationRequest(
      { resourceGroupName, resourceName, eventHubEndpointName, options },
      listEventHubConsumerGroupsOperationSpec
    );
  }

  /**
   * Get a consumer group from the Event Hub-compatible device-to-cloud endpoint for an IoT hub.
   * @param resourceGroupName The name of the resource group that contains the IoT hub.
   * @param resourceName The name of the IoT hub.
   * @param eventHubEndpointName The name of the Event Hub-compatible endpoint in the IoT hub.
   * @param name The name of the consumer group to retrieve.
   * @param options The options parameters.
   */
  getEventHubConsumerGroup(
    resourceGroupName: string,
    resourceName: string,
    eventHubEndpointName: string,
    name: string,
    options?: IotHubResourceGetEventHubConsumerGroupOptionalParams
  ): Promise<IotHubResourceGetEventHubConsumerGroupResponse> {
    return this.client.sendOperationRequest(
      { resourceGroupName, resourceName, eventHubEndpointName, name, options },
      getEventHubConsumerGroupOperationSpec
    );
  }

  /**
   * Add a consumer group to an Event Hub-compatible endpoint in an IoT hub.
   * @param resourceGroupName The name of the resource group that contains the IoT hub.
   * @param resourceName The name of the IoT hub.
   * @param eventHubEndpointName The name of the Event Hub-compatible endpoint in the IoT hub.
   * @param name The name of the consumer group to add.
   * @param consumerGroupBody The consumer group to add.
   * @param options The options parameters.
   */
  createEventHubConsumerGroup(
    resourceGroupName: string,
    resourceName: string,
    eventHubEndpointName: string,
    name: string,
    consumerGroupBody: EventHubConsumerGroupBodyDescription,
    options?: IotHubResourceCreateEventHubConsumerGroupOptionalParams
  ): Promise<IotHubResourceCreateEventHubConsumerGroupResponse> {
    return this.client.sendOperationRequest(
      {
        resourceGroupName,
        resourceName,
        eventHubEndpointName,
        name,
        consumerGroupBody,
        options
      },
      createEventHubConsumerGroupOperationSpec
    );
  }

  /**
   * Delete a consumer group from an Event Hub-compatible endpoint in an IoT hub.
   * @param resourceGroupName The name of the resource group that contains the IoT hub.
   * @param resourceName The name of the IoT hub.
   * @param eventHubEndpointName The name of the Event Hub-compatible endpoint in the IoT hub.
   * @param name The name of the consumer group to delete.
   * @param options The options parameters.
   */
  deleteEventHubConsumerGroup(
    resourceGroupName: string,
    resourceName: string,
    eventHubEndpointName: string,
    name: string,
    options?: IotHubResourceDeleteEventHubConsumerGroupOptionalParams
  ): Promise<void> {
    return this.client.sendOperationRequest(
      { resourceGroupName, resourceName, eventHubEndpointName, name, options },
      deleteEventHubConsumerGroupOperationSpec
    );
  }

  /**
   * Get a list of all the jobs in an IoT hub. For more information, see:
   * https://docs.microsoft.com/azure/iot-hub/iot-hub-devguide-identity-registry.
   * @param resourceGroupName The name of the resource group that contains the IoT hub.
   * @param resourceName The name of the IoT hub.
   * @param options The options parameters.
   */
  private _listJobs(
    resourceGroupName: string,
    resourceName: string,
    options?: IotHubResourceListJobsOptionalParams
  ): Promise<IotHubResourceListJobsResponse> {
    return this.client.sendOperationRequest(
      { resourceGroupName, resourceName, options },
      listJobsOperationSpec
    );
  }

  /**
   * Get the details of a job from an IoT hub. For more information, see:
   * https://docs.microsoft.com/azure/iot-hub/iot-hub-devguide-identity-registry.
   * @param resourceGroupName The name of the resource group that contains the IoT hub.
   * @param resourceName The name of the IoT hub.
   * @param jobId The job identifier.
   * @param options The options parameters.
   */
  getJob(
    resourceGroupName: string,
    resourceName: string,
    jobId: string,
    options?: IotHubResourceGetJobOptionalParams
  ): Promise<IotHubResourceGetJobResponse> {
    return this.client.sendOperationRequest(
      { resourceGroupName, resourceName, jobId, options },
      getJobOperationSpec
    );
  }

  /**
   * Get the quota metrics for an IoT hub.
   * @param resourceGroupName The name of the resource group that contains the IoT hub.
   * @param resourceName The name of the IoT hub.
   * @param options The options parameters.
   */
  private _getQuotaMetrics(
    resourceGroupName: string,
    resourceName: string,
    options?: IotHubResourceGetQuotaMetricsOptionalParams
  ): Promise<IotHubResourceGetQuotaMetricsResponse> {
    return this.client.sendOperationRequest(
      { resourceGroupName, resourceName, options },
      getQuotaMetricsOperationSpec
    );
  }

  /**
   * Get the health for routing endpoints.
   * @param resourceGroupName
   * @param iotHubName
   * @param options The options parameters.
   */
  private _getEndpointHealth(
    resourceGroupName: string,
    iotHubName: string,
    options?: IotHubResourceGetEndpointHealthOptionalParams
  ): Promise<IotHubResourceGetEndpointHealthResponse> {
    return this.client.sendOperationRequest(
      { resourceGroupName, iotHubName, options },
      getEndpointHealthOperationSpec
    );
  }

  /**
   * Check if an IoT hub name is available.
   * @param operationInputs Set the name parameter in the OperationInputs structure to the name of the
   *                        IoT hub to check.
   * @param options The options parameters.
   */
  checkNameAvailability(
    operationInputs: OperationInputs,
    options?: IotHubResourceCheckNameAvailabilityOptionalParams
  ): Promise<IotHubResourceCheckNameAvailabilityResponse> {
    return this.client.sendOperationRequest(
      { operationInputs, options },
      checkNameAvailabilityOperationSpec
    );
  }

  /**
   * Test all routes configured in this Iot Hub
   * @param iotHubName IotHub to be tested
   * @param resourceGroupName resource group which Iot Hub belongs to
   * @param input Input for testing all routes
   * @param options The options parameters.
   */
  testAllRoutes(
    iotHubName: string,
    resourceGroupName: string,
    input: TestAllRoutesInput,
    options?: IotHubResourceTestAllRoutesOptionalParams
  ): Promise<IotHubResourceTestAllRoutesResponse> {
    return this.client.sendOperationRequest(
      { iotHubName, resourceGroupName, input, options },
      testAllRoutesOperationSpec
    );
  }

  /**
   * Test the new route for this Iot Hub
   * @param iotHubName IotHub to be tested
   * @param resourceGroupName resource group which Iot Hub belongs to
   * @param input Route that needs to be tested
   * @param options The options parameters.
   */
  testRoute(
    iotHubName: string,
    resourceGroupName: string,
    input: TestRouteInput,
    options?: IotHubResourceTestRouteOptionalParams
  ): Promise<IotHubResourceTestRouteResponse> {
    return this.client.sendOperationRequest(
      { iotHubName, resourceGroupName, input, options },
      testRouteOperationSpec
    );
  }

  /**
   * Get the security metadata for an IoT hub. For more information, see:
   * https://docs.microsoft.com/azure/iot-hub/iot-hub-devguide-security.
   * @param resourceGroupName The name of the resource group that contains the IoT hub.
   * @param resourceName The name of the IoT hub.
   * @param options The options parameters.
   */
  private _listKeys(
    resourceGroupName: string,
    resourceName: string,
    options?: IotHubResourceListKeysOptionalParams
  ): Promise<IotHubResourceListKeysResponse> {
    return this.client.sendOperationRequest(
      { resourceGroupName, resourceName, options },
      listKeysOperationSpec
    );
  }

  /**
   * Get a shared access policy by name from an IoT hub. For more information, see:
   * https://docs.microsoft.com/azure/iot-hub/iot-hub-devguide-security.
   * @param resourceGroupName The name of the resource group that contains the IoT hub.
   * @param resourceName The name of the IoT hub.
   * @param keyName The name of the shared access policy.
   * @param options The options parameters.
   */
  getKeysForKeyName(
    resourceGroupName: string,
    resourceName: string,
    keyName: string,
    options?: IotHubResourceGetKeysForKeyNameOptionalParams
  ): Promise<IotHubResourceGetKeysForKeyNameResponse> {
    return this.client.sendOperationRequest(
      { resourceGroupName, resourceName, keyName, options },
      getKeysForKeyNameOperationSpec
    );
  }

  /**
   * Exports all the device identities in the IoT hub identity registry to an Azure Storage blob
   * container. For more information, see:
   * https://docs.microsoft.com/azure/iot-hub/iot-hub-devguide-identity-registry#import-and-export-device-identities.
   * @param resourceGroupName The name of the resource group that contains the IoT hub.
   * @param resourceName The name of the IoT hub.
   * @param exportDevicesParameters The parameters that specify the export devices operation.
   * @param options The options parameters.
   */
  exportDevices(
    resourceGroupName: string,
    resourceName: string,
    exportDevicesParameters: ExportDevicesRequest,
    options?: IotHubResourceExportDevicesOptionalParams
  ): Promise<IotHubResourceExportDevicesResponse> {
    return this.client.sendOperationRequest(
      { resourceGroupName, resourceName, exportDevicesParameters, options },
      exportDevicesOperationSpec
    );
  }

  /**
   * Import, update, or delete device identities in the IoT hub identity registry from a blob. For more
   * information, see:
   * https://docs.microsoft.com/azure/iot-hub/iot-hub-devguide-identity-registry#import-and-export-device-identities.
   * @param resourceGroupName The name of the resource group that contains the IoT hub.
   * @param resourceName The name of the IoT hub.
   * @param importDevicesParameters The parameters that specify the import devices operation.
   * @param options The options parameters.
   */
  importDevices(
    resourceGroupName: string,
    resourceName: string,
    importDevicesParameters: ImportDevicesRequest,
    options?: IotHubResourceImportDevicesOptionalParams
  ): Promise<IotHubResourceImportDevicesResponse> {
    return this.client.sendOperationRequest(
      { resourceGroupName, resourceName, importDevicesParameters, options },
      importDevicesOperationSpec
    );
  }

  /**
   * ListBySubscriptionNext
   * @param nextLink The nextLink from the previous successful call to the ListBySubscription method.
   * @param options The options parameters.
   */
  private _listBySubscriptionNext(
    nextLink: string,
    options?: IotHubResourceListBySubscriptionNextOptionalParams
  ): Promise<IotHubResourceListBySubscriptionNextResponse> {
    return this.client.sendOperationRequest(
      { nextLink, options },
      listBySubscriptionNextOperationSpec
    );
  }

  /**
   * ListByResourceGroupNext
   * @param resourceGroupName The name of the resource group that contains the IoT hub.
   * @param nextLink The nextLink from the previous successful call to the ListByResourceGroup method.
   * @param options The options parameters.
   */
  private _listByResourceGroupNext(
    resourceGroupName: string,
    nextLink: string,
    options?: IotHubResourceListByResourceGroupNextOptionalParams
  ): Promise<IotHubResourceListByResourceGroupNextResponse> {
    return this.client.sendOperationRequest(
      { resourceGroupName, nextLink, options },
      listByResourceGroupNextOperationSpec
    );
  }

  /**
   * GetValidSkusNext
   * @param resourceGroupName The name of the resource group that contains the IoT hub.
   * @param resourceName The name of the IoT hub.
   * @param nextLink The nextLink from the previous successful call to the GetValidSkus method.
   * @param options The options parameters.
   */
  private _getValidSkusNext(
    resourceGroupName: string,
    resourceName: string,
    nextLink: string,
    options?: IotHubResourceGetValidSkusNextOptionalParams
  ): Promise<IotHubResourceGetValidSkusNextResponse> {
    return this.client.sendOperationRequest(
      { resourceGroupName, resourceName, nextLink, options },
      getValidSkusNextOperationSpec
    );
  }

  /**
   * ListEventHubConsumerGroupsNext
   * @param resourceGroupName The name of the resource group that contains the IoT hub.
   * @param resourceName The name of the IoT hub.
   * @param eventHubEndpointName The name of the Event Hub-compatible endpoint.
   * @param nextLink The nextLink from the previous successful call to the ListEventHubConsumerGroups
   *                 method.
   * @param options The options parameters.
   */
  private _listEventHubConsumerGroupsNext(
    resourceGroupName: string,
    resourceName: string,
    eventHubEndpointName: string,
    nextLink: string,
    options?: IotHubResourceListEventHubConsumerGroupsNextOptionalParams
  ): Promise<IotHubResourceListEventHubConsumerGroupsNextResponse> {
    return this.client.sendOperationRequest(
      {
        resourceGroupName,
        resourceName,
        eventHubEndpointName,
        nextLink,
        options
      },
      listEventHubConsumerGroupsNextOperationSpec
    );
  }

  /**
   * ListJobsNext
   * @param resourceGroupName The name of the resource group that contains the IoT hub.
   * @param resourceName The name of the IoT hub.
   * @param nextLink The nextLink from the previous successful call to the ListJobs method.
   * @param options The options parameters.
   */
  private _listJobsNext(
    resourceGroupName: string,
    resourceName: string,
    nextLink: string,
    options?: IotHubResourceListJobsNextOptionalParams
  ): Promise<IotHubResourceListJobsNextResponse> {
    return this.client.sendOperationRequest(
      { resourceGroupName, resourceName, nextLink, options },
      listJobsNextOperationSpec
    );
  }

  /**
   * GetQuotaMetricsNext
   * @param resourceGroupName The name of the resource group that contains the IoT hub.
   * @param resourceName The name of the IoT hub.
   * @param nextLink The nextLink from the previous successful call to the GetQuotaMetrics method.
   * @param options The options parameters.
   */
  private _getQuotaMetricsNext(
    resourceGroupName: string,
    resourceName: string,
    nextLink: string,
    options?: IotHubResourceGetQuotaMetricsNextOptionalParams
  ): Promise<IotHubResourceGetQuotaMetricsNextResponse> {
    return this.client.sendOperationRequest(
      { resourceGroupName, resourceName, nextLink, options },
      getQuotaMetricsNextOperationSpec
    );
  }

  /**
   * GetEndpointHealthNext
   * @param resourceGroupName
   * @param iotHubName
   * @param nextLink The nextLink from the previous successful call to the GetEndpointHealth method.
   * @param options The options parameters.
   */
  private _getEndpointHealthNext(
    resourceGroupName: string,
    iotHubName: string,
    nextLink: string,
    options?: IotHubResourceGetEndpointHealthNextOptionalParams
  ): Promise<IotHubResourceGetEndpointHealthNextResponse> {
    return this.client.sendOperationRequest(
      { resourceGroupName, iotHubName, nextLink, options },
      getEndpointHealthNextOperationSpec
    );
  }

  /**
   * ListKeysNext
   * @param resourceGroupName The name of the resource group that contains the IoT hub.
   * @param resourceName The name of the IoT hub.
   * @param nextLink The nextLink from the previous successful call to the ListKeys method.
   * @param options The options parameters.
   */
  private _listKeysNext(
    resourceGroupName: string,
    resourceName: string,
    nextLink: string,
    options?: IotHubResourceListKeysNextOptionalParams
  ): Promise<IotHubResourceListKeysNextResponse> {
    return this.client.sendOperationRequest(
      { resourceGroupName, resourceName, nextLink, options },
      listKeysNextOperationSpec
    );
  }
}
// Operation Specifications
const serializer = coreClient.createSerializer(Mappers, /* isXml */ false);

const getOperationSpec: coreClient.OperationSpec = {
  path:
    "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Devices/IotHubs/{resourceName}",
  httpMethod: "GET",
  responses: {
    200: {
      bodyMapper: Mappers.IotHubDescription
    },
    default: {
      bodyMapper: Mappers.ErrorDetails
    }
  },
  queryParameters: [Parameters.apiVersion],
  urlParameters: [
    Parameters.$host,
    Parameters.subscriptionId,
    Parameters.resourceGroupName,
    Parameters.resourceName
  ],
  headerParameters: [Parameters.accept],
  serializer
};
const createOrUpdateOperationSpec: coreClient.OperationSpec = {
  path:
    "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Devices/IotHubs/{resourceName}",
  httpMethod: "PUT",
  responses: {
    200: {
      bodyMapper: Mappers.IotHubDescription
    },
    201: {
      bodyMapper: Mappers.IotHubDescription
    },
    202: {
      bodyMapper: Mappers.IotHubDescription
    },
    204: {
      bodyMapper: Mappers.IotHubDescription
    },
    default: {
      bodyMapper: Mappers.ErrorDetails
    }
  },
  requestBody: Parameters.iotHubDescription,
  queryParameters: [Parameters.apiVersion],
  urlParameters: [
    Parameters.$host,
    Parameters.subscriptionId,
    Parameters.resourceGroupName,
    Parameters.resourceName
  ],
  headerParameters: [
    Parameters.accept,
    Parameters.contentType,
    Parameters.ifMatch
  ],
  mediaType: "json",
  serializer
};
const updateOperationSpec: coreClient.OperationSpec = {
  path:
    "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Devices/IotHubs/{resourceName}",
  httpMethod: "PATCH",
  responses: {
    200: {
      bodyMapper: Mappers.IotHubDescription
    },
    201: {
      bodyMapper: Mappers.IotHubDescription
    },
    202: {
      bodyMapper: Mappers.IotHubDescription
    },
    204: {
      bodyMapper: Mappers.IotHubDescription
    }
  },
  requestBody: Parameters.iotHubTags,
  queryParameters: [Parameters.apiVersion],
  urlParameters: [
    Parameters.$host,
    Parameters.subscriptionId,
    Parameters.resourceGroupName,
    Parameters.resourceName
  ],
  headerParameters: [Parameters.accept, Parameters.contentType],
  mediaType: "json",
  serializer
};
const deleteOperationSpec: coreClient.OperationSpec = {
  path:
    "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Devices/IotHubs/{resourceName}",
  httpMethod: "DELETE",
  responses: {
    200: {
      bodyMapper: Mappers.IotHubDescription
    },
    201: {
      bodyMapper: Mappers.IotHubDescription
    },
    202: {
      bodyMapper: Mappers.IotHubDescription
    },
    204: {
      bodyMapper: Mappers.IotHubDescription
    },
    default: {
      bodyMapper: Mappers.ErrorDetails
    }
  },
  queryParameters: [Parameters.apiVersion],
  urlParameters: [
    Parameters.$host,
    Parameters.subscriptionId,
    Parameters.resourceGroupName,
    Parameters.resourceName
  ],
  headerParameters: [Parameters.accept],
  serializer
};
const listBySubscriptionOperationSpec: coreClient.OperationSpec = {
  path: "/subscriptions/{subscriptionId}/providers/Microsoft.Devices/IotHubs",
  httpMethod: "GET",
  responses: {
    200: {
      bodyMapper: Mappers.IotHubDescriptionListResult
    },
    default: {
      bodyMapper: Mappers.ErrorDetails
    }
  },
  queryParameters: [Parameters.apiVersion],
  urlParameters: [Parameters.$host, Parameters.subscriptionId],
  headerParameters: [Parameters.accept],
  serializer
};
const listByResourceGroupOperationSpec: coreClient.OperationSpec = {
  path:
    "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Devices/IotHubs",
  httpMethod: "GET",
  responses: {
    200: {
      bodyMapper: Mappers.IotHubDescriptionListResult
    },
    default: {
      bodyMapper: Mappers.ErrorDetails
    }
  },
  queryParameters: [Parameters.apiVersion],
  urlParameters: [
    Parameters.$host,
    Parameters.subscriptionId,
    Parameters.resourceGroupName
  ],
  headerParameters: [Parameters.accept],
  serializer
};
const getStatsOperationSpec: coreClient.OperationSpec = {
  path:
    "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Devices/IotHubs/{resourceName}/IotHubStats",
  httpMethod: "GET",
  responses: {
    200: {
      bodyMapper: Mappers.RegistryStatistics
    },
    default: {
      bodyMapper: Mappers.ErrorDetails
    }
  },
  queryParameters: [Parameters.apiVersion],
  urlParameters: [
    Parameters.$host,
    Parameters.subscriptionId,
    Parameters.resourceGroupName,
    Parameters.resourceName
  ],
  headerParameters: [Parameters.accept],
  serializer
};
const getValidSkusOperationSpec: coreClient.OperationSpec = {
  path:
    "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Devices/IotHubs/{resourceName}/skus",
  httpMethod: "GET",
  responses: {
    200: {
      bodyMapper: Mappers.IotHubSkuDescriptionListResult
    },
    default: {
      bodyMapper: Mappers.ErrorDetails
    }
  },
  queryParameters: [Parameters.apiVersion],
  urlParameters: [
    Parameters.$host,
    Parameters.subscriptionId,
    Parameters.resourceGroupName,
    Parameters.resourceName
  ],
  headerParameters: [Parameters.accept],
  serializer
};
const listEventHubConsumerGroupsOperationSpec: coreClient.OperationSpec = {
  path:
    "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Devices/IotHubs/{resourceName}/eventHubEndpoints/{eventHubEndpointName}/ConsumerGroups",
  httpMethod: "GET",
  responses: {
    200: {
      bodyMapper: Mappers.EventHubConsumerGroupsListResult
    },
    default: {
      bodyMapper: Mappers.ErrorDetails
    }
  },
  queryParameters: [Parameters.apiVersion],
  urlParameters: [
    Parameters.$host,
    Parameters.subscriptionId,
    Parameters.resourceGroupName,
    Parameters.resourceName,
    Parameters.eventHubEndpointName
  ],
  headerParameters: [Parameters.accept],
  serializer
};
const getEventHubConsumerGroupOperationSpec: coreClient.OperationSpec = {
  path:
    "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Devices/IotHubs/{resourceName}/eventHubEndpoints/{eventHubEndpointName}/ConsumerGroups/{name}",
  httpMethod: "GET",
  responses: {
    200: {
      bodyMapper: Mappers.EventHubConsumerGroupInfo
    },
    default: {
      bodyMapper: Mappers.ErrorDetails
    }
  },
  queryParameters: [Parameters.apiVersion],
  urlParameters: [
    Parameters.$host,
    Parameters.subscriptionId,
    Parameters.resourceGroupName,
    Parameters.resourceName,
    Parameters.eventHubEndpointName,
    Parameters.name
  ],
  headerParameters: [Parameters.accept],
  serializer
};
const createEventHubConsumerGroupOperationSpec: coreClient.OperationSpec = {
  path:
    "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Devices/IotHubs/{resourceName}/eventHubEndpoints/{eventHubEndpointName}/ConsumerGroups/{name}",
  httpMethod: "PUT",
  responses: {
    200: {
      bodyMapper: Mappers.EventHubConsumerGroupInfo
    },
    default: {
      bodyMapper: Mappers.ErrorDetails
    }
  },
  requestBody: Parameters.consumerGroupBody,
  queryParameters: [Parameters.apiVersion],
  urlParameters: [
    Parameters.$host,
    Parameters.subscriptionId,
    Parameters.resourceGroupName,
    Parameters.resourceName,
    Parameters.eventHubEndpointName,
    Parameters.name
  ],
  headerParameters: [Parameters.accept, Parameters.contentType],
  mediaType: "json",
  serializer
};
const deleteEventHubConsumerGroupOperationSpec: coreClient.OperationSpec = {
  path:
    "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Devices/IotHubs/{resourceName}/eventHubEndpoints/{eventHubEndpointName}/ConsumerGroups/{name}",
  httpMethod: "DELETE",
  responses: {
    200: {},
    default: {
      bodyMapper: Mappers.ErrorDetails
    }
  },
  queryParameters: [Parameters.apiVersion],
  urlParameters: [
    Parameters.$host,
    Parameters.subscriptionId,
    Parameters.resourceGroupName,
    Parameters.resourceName,
    Parameters.eventHubEndpointName,
    Parameters.name
  ],
  headerParameters: [Parameters.accept],
  serializer
};
const listJobsOperationSpec: coreClient.OperationSpec = {
  path:
    "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Devices/IotHubs/{resourceName}/jobs",
  httpMethod: "GET",
  responses: {
    200: {
      bodyMapper: Mappers.JobResponseListResult
    },
    default: {
      bodyMapper: Mappers.ErrorDetails
    }
  },
  queryParameters: [Parameters.apiVersion],
  urlParameters: [
    Parameters.$host,
    Parameters.subscriptionId,
    Parameters.resourceGroupName,
    Parameters.resourceName
  ],
  headerParameters: [Parameters.accept],
  serializer
};
const getJobOperationSpec: coreClient.OperationSpec = {
  path:
    "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Devices/IotHubs/{resourceName}/jobs/{jobId}",
  httpMethod: "GET",
  responses: {
    200: {
      bodyMapper: Mappers.JobResponse
    },
    default: {
      bodyMapper: Mappers.ErrorDetails
    }
  },
  queryParameters: [Parameters.apiVersion],
  urlParameters: [
    Parameters.$host,
    Parameters.subscriptionId,
    Parameters.resourceGroupName,
    Parameters.resourceName,
    Parameters.jobId
  ],
  headerParameters: [Parameters.accept],
  serializer
};
const getQuotaMetricsOperationSpec: coreClient.OperationSpec = {
  path:
    "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Devices/IotHubs/{resourceName}/quotaMetrics",
  httpMethod: "GET",
  responses: {
    200: {
      bodyMapper: Mappers.IotHubQuotaMetricInfoListResult
    },
    default: {
      bodyMapper: Mappers.ErrorDetails
    }
  },
  queryParameters: [Parameters.apiVersion],
  urlParameters: [
    Parameters.$host,
    Parameters.subscriptionId,
    Parameters.resourceGroupName,
    Parameters.resourceName
  ],
  headerParameters: [Parameters.accept],
  serializer
};
const getEndpointHealthOperationSpec: coreClient.OperationSpec = {
  path:
    "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Devices/IotHubs/{iotHubName}/routingEndpointsHealth",
  httpMethod: "GET",
  responses: {
    200: {
      bodyMapper: Mappers.EndpointHealthDataListResult
    },
    default: {
      bodyMapper: Mappers.ErrorDetails
    }
  },
  queryParameters: [Parameters.apiVersion],
  urlParameters: [
    Parameters.$host,
    Parameters.subscriptionId,
    Parameters.resourceGroupName,
    Parameters.iotHubName
  ],
  headerParameters: [Parameters.accept],
  serializer
};
const checkNameAvailabilityOperationSpec: coreClient.OperationSpec = {
  path:
    "/subscriptions/{subscriptionId}/providers/Microsoft.Devices/checkNameAvailability",
  httpMethod: "POST",
  responses: {
    200: {
      bodyMapper: Mappers.IotHubNameAvailabilityInfo
    },
    default: {
      bodyMapper: Mappers.ErrorDetails
    }
  },
  requestBody: Parameters.operationInputs,
  queryParameters: [Parameters.apiVersion],
  urlParameters: [Parameters.$host, Parameters.subscriptionId],
  headerParameters: [Parameters.accept, Parameters.contentType],
  mediaType: "json",
  serializer
};
const testAllRoutesOperationSpec: coreClient.OperationSpec = {
  path:
    "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Devices/IotHubs/{iotHubName}/routing/routes/$testall",
  httpMethod: "POST",
  responses: {
    200: {
      bodyMapper: Mappers.TestAllRoutesResult
    },
    default: {
      bodyMapper: Mappers.ErrorDetails
    }
  },
  requestBody: Parameters.input,
  queryParameters: [Parameters.apiVersion],
  urlParameters: [
    Parameters.$host,
    Parameters.subscriptionId,
    Parameters.resourceGroupName,
    Parameters.iotHubName
  ],
  headerParameters: [Parameters.accept, Parameters.contentType],
  mediaType: "json",
  serializer
};
const testRouteOperationSpec: coreClient.OperationSpec = {
  path:
    "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Devices/IotHubs/{iotHubName}/routing/routes/$testnew",
  httpMethod: "POST",
  responses: {
    200: {
      bodyMapper: Mappers.TestRouteResult
    },
    default: {
      bodyMapper: Mappers.ErrorDetails
    }
  },
  requestBody: Parameters.input1,
  queryParameters: [Parameters.apiVersion],
  urlParameters: [
    Parameters.$host,
    Parameters.subscriptionId,
    Parameters.resourceGroupName,
    Parameters.iotHubName
  ],
  headerParameters: [Parameters.accept, Parameters.contentType],
  mediaType: "json",
  serializer
};
const listKeysOperationSpec: coreClient.OperationSpec = {
  path:
    "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Devices/IotHubs/{resourceName}/listkeys",
  httpMethod: "POST",
  responses: {
    200: {
      bodyMapper: Mappers.SharedAccessSignatureAuthorizationRuleListResult
    },
    default: {
      bodyMapper: Mappers.ErrorDetails
    }
  },
  queryParameters: [Parameters.apiVersion],
  urlParameters: [
    Parameters.$host,
    Parameters.subscriptionId,
    Parameters.resourceGroupName,
    Parameters.resourceName
  ],
  headerParameters: [Parameters.accept],
  serializer
};
const getKeysForKeyNameOperationSpec: coreClient.OperationSpec = {
  path:
    "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Devices/IotHubs/{resourceName}/IotHubKeys/{keyName}/listkeys",
  httpMethod: "POST",
  responses: {
    200: {
      bodyMapper: Mappers.SharedAccessSignatureAuthorizationRule
    },
    default: {
      bodyMapper: Mappers.ErrorDetails
    }
  },
  queryParameters: [Parameters.apiVersion],
  urlParameters: [
    Parameters.$host,
    Parameters.subscriptionId,
    Parameters.resourceGroupName,
    Parameters.resourceName,
    Parameters.keyName
  ],
  headerParameters: [Parameters.accept],
  serializer
};
const exportDevicesOperationSpec: coreClient.OperationSpec = {
  path:
    "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Devices/IotHubs/{resourceName}/exportDevices",
  httpMethod: "POST",
  responses: {
    200: {
      bodyMapper: Mappers.JobResponse
    },
    default: {
      bodyMapper: Mappers.ErrorDetails
    }
  },
  requestBody: Parameters.exportDevicesParameters,
  queryParameters: [Parameters.apiVersion],
  urlParameters: [
    Parameters.$host,
    Parameters.subscriptionId,
    Parameters.resourceGroupName,
    Parameters.resourceName
  ],
  headerParameters: [Parameters.accept, Parameters.contentType],
  mediaType: "json",
  serializer
};
const importDevicesOperationSpec: coreClient.OperationSpec = {
  path:
    "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Devices/IotHubs/{resourceName}/importDevices",
  httpMethod: "POST",
  responses: {
    200: {
      bodyMapper: Mappers.JobResponse
    },
    default: {
      bodyMapper: Mappers.ErrorDetails
    }
  },
  requestBody: Parameters.importDevicesParameters,
  queryParameters: [Parameters.apiVersion],
  urlParameters: [
    Parameters.$host,
    Parameters.subscriptionId,
    Parameters.resourceGroupName,
    Parameters.resourceName
  ],
  headerParameters: [Parameters.accept, Parameters.contentType],
  mediaType: "json",
  serializer
};
const listBySubscriptionNextOperationSpec: coreClient.OperationSpec = {
  path: "{nextLink}",
  httpMethod: "GET",
  responses: {
    200: {
      bodyMapper: Mappers.IotHubDescriptionListResult
    },
    default: {
      bodyMapper: Mappers.ErrorDetails
    }
  },
  urlParameters: [
    Parameters.$host,
    Parameters.nextLink,
    Parameters.subscriptionId
  ],
  headerParameters: [Parameters.accept],
  serializer
};
const listByResourceGroupNextOperationSpec: coreClient.OperationSpec = {
  path: "{nextLink}",
  httpMethod: "GET",
  responses: {
    200: {
      bodyMapper: Mappers.IotHubDescriptionListResult
    },
    default: {
      bodyMapper: Mappers.ErrorDetails
    }
  },
  urlParameters: [
    Parameters.$host,
    Parameters.nextLink,
    Parameters.subscriptionId,
    Parameters.resourceGroupName
  ],
  headerParameters: [Parameters.accept],
  serializer
};
const getValidSkusNextOperationSpec: coreClient.OperationSpec = {
  path: "{nextLink}",
  httpMethod: "GET",
  responses: {
    200: {
      bodyMapper: Mappers.IotHubSkuDescriptionListResult
    },
    default: {
      bodyMapper: Mappers.ErrorDetails
    }
  },
  urlParameters: [
    Parameters.$host,
    Parameters.nextLink,
    Parameters.subscriptionId,
    Parameters.resourceGroupName,
    Parameters.resourceName
  ],
  headerParameters: [Parameters.accept],
  serializer
};
const listEventHubConsumerGroupsNextOperationSpec: coreClient.OperationSpec = {
  path: "{nextLink}",
  httpMethod: "GET",
  responses: {
    200: {
      bodyMapper: Mappers.EventHubConsumerGroupsListResult
    },
    default: {
      bodyMapper: Mappers.ErrorDetails
    }
  },
  urlParameters: [
    Parameters.$host,
    Parameters.nextLink,
    Parameters.subscriptionId,
    Parameters.resourceGroupName,
    Parameters.resourceName,
    Parameters.eventHubEndpointName
  ],
  headerParameters: [Parameters.accept],
  serializer
};
const listJobsNextOperationSpec: coreClient.OperationSpec = {
  path: "{nextLink}",
  httpMethod: "GET",
  responses: {
    200: {
      bodyMapper: Mappers.JobResponseListResult
    },
    default: {
      bodyMapper: Mappers.ErrorDetails
    }
  },
  urlParameters: [
    Parameters.$host,
    Parameters.nextLink,
    Parameters.subscriptionId,
    Parameters.resourceGroupName,
    Parameters.resourceName
  ],
  headerParameters: [Parameters.accept],
  serializer
};
const getQuotaMetricsNextOperationSpec: coreClient.OperationSpec = {
  path: "{nextLink}",
  httpMethod: "GET",
  responses: {
    200: {
      bodyMapper: Mappers.IotHubQuotaMetricInfoListResult
    },
    default: {
      bodyMapper: Mappers.ErrorDetails
    }
  },
  urlParameters: [
    Parameters.$host,
    Parameters.nextLink,
    Parameters.subscriptionId,
    Parameters.resourceGroupName,
    Parameters.resourceName
  ],
  headerParameters: [Parameters.accept],
  serializer
};
const getEndpointHealthNextOperationSpec: coreClient.OperationSpec = {
  path: "{nextLink}",
  httpMethod: "GET",
  responses: {
    200: {
      bodyMapper: Mappers.EndpointHealthDataListResult
    },
    default: {
      bodyMapper: Mappers.ErrorDetails
    }
  },
  urlParameters: [
    Parameters.$host,
    Parameters.nextLink,
    Parameters.subscriptionId,
    Parameters.resourceGroupName,
    Parameters.iotHubName
  ],
  headerParameters: [Parameters.accept],
  serializer
};
const listKeysNextOperationSpec: coreClient.OperationSpec = {
  path: "{nextLink}",
  httpMethod: "GET",
  responses: {
    200: {
      bodyMapper: Mappers.SharedAccessSignatureAuthorizationRuleListResult
    },
    default: {
      bodyMapper: Mappers.ErrorDetails
    }
  },
  urlParameters: [
    Parameters.$host,
    Parameters.nextLink,
    Parameters.subscriptionId,
    Parameters.resourceGroupName,
    Parameters.resourceName
  ],
  headerParameters: [Parameters.accept],
  serializer
};
