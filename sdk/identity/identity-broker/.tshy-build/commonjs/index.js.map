{"version":3,"file":"index.js","sourceRoot":"","sources":["../../src/index.ts"],"names":[],"mappings":";AAAA,uCAAuC;AACvC,kCAAkC;;;AAGlC,sEAAiE;AAgBjE;;;;;;;;;;;;;;;;;;;;;GAqBG;AACI,MAAM,kBAAkB,GAAmB,CAAC,OAAgB,EAAE,EAAE;IACrE,MAAM,EAAE,yBAAyB,EAAE,GAAG,OAA6B,CAAC;IACpE,MAAM,YAAY,GAAG,IAAI,yCAAkB,EAAE,CAAC;IAC9C,yBAAyB,CAAC,eAAe,CAAC,YAAY,CAAC,CAAC;AAC1D,CAAC,CAAC;AAJW,QAAA,kBAAkB,sBAI7B","sourcesContent":["// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT License.\n\nimport type { IdentityPlugin } from \"@azure/identity\";\nimport { NativeBrokerPlugin } from \"@azure/msal-node-extensions\";\n\n/**\n * A subset of the AzurePluginContext provided by \\@azure/identity\n *\n * @internal\n */\ninterface AzurePluginContext {\n  nativeBrokerPluginControl: NativeBrokerPluginControl;\n}\n\ninterface NativeBrokerPluginControl {\n  // eslint-disable-next-line @typescript-eslint/consistent-type-imports\n  setNativeBroker(nativeBroker: import(\"@azure/msal-node\").INativeBrokerPlugin): void;\n}\n\n/**\n * A plugin that provides WAM Integration for `@azure/identity`\n * credentials. The plugin API is compatible with `@azure/identity` versions\n * 4.0.0 and later. Load this plugin using the `useIdentityPlugin`\n * function, imported from `@azure/identity`.\n *\n * Example:\n *\n * ```ts snippet:using_plugins\n * import { useIdentityPlugin, InteractiveBrowserCredential } from \"@azure/identity\";\n * import { nativeBrokerPlugin } from \"@azure/identity-broker\";\n *\n * useIdentityPlugin(nativeBrokerPlugin);\n *\n * const credential = new InteractiveBrowserCredential({\n *   brokerOptions: {\n *     enabled: true,\n *     parentWindowHandle: new Uint8Array(0), // This should be a handle to the parent window\n *   },\n * });\n * ```\n */\nexport const nativeBrokerPlugin: IdentityPlugin = (context: unknown) => {\n  const { nativeBrokerPluginControl } = context as AzurePluginContext;\n  const brokerPlugin = new NativeBrokerPlugin();\n  nativeBrokerPluginControl.setNativeBroker(brokerPlugin);\n};\n"]}