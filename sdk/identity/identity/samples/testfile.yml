trigger:
  - main

pool:
  vmImage: ubuntu-latest

steps:
  - script: |
      npm install @azure/identity@4.3.0
      npm install @azure/keyvault-secrets
    displayName: "Install the test version of Azure Identity"

  - task: AzureCLI@2
    displayName: "Azure CLI Task"
    env:
      SYSTEM_ACCESSTOKEN: $(System.AccessToken)
    inputs:
      azureSubscription: "Azure SDK Test Resources (2cd617ea-1866-46b1-90e3-fffb087ebf9b)"
      scriptType: bash
      scriptLocation: "inlineScript"
      inlineScript: |
        node $(Pipeline.Workspace)/azure-sdk-for-js/sdk/identity/identity/samples/sample.js
        
