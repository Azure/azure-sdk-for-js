{"version":3,"file":"timespanConversion.js","sourceRoot":"","sources":["../../src/timespanConversion.ts"],"names":[],"mappings":";AAAA,uCAAuC;AACvC,kCAAkC;;AAKlC,8DAkBC;AAED,kFAeC;AAQD,8CAKC;AAOD,8BAEC;AA3DD,gDAA0D;AAE1D,SAAgB,yBAAyB,CAAC,QAA2B;IACnE,IAAI,IAAA,kCAAsB,EAAC,QAAQ,EAAE,CAAC,WAAW,EAAE,SAAS,EAAE,UAAU,CAAC,CAAC,EAAE,CAAC;QAC3E,MAAM,IAAI,SAAS,CAAC,+DAA+D,CAAC,CAAC;IACvF,CAAC;IAED,IAAI,IAAA,kCAAsB,EAAC,QAAQ,EAAE,CAAC,WAAW,EAAE,SAAS,CAAC,CAAC,EAAE,CAAC;QAC/D,OAAO,GAAI,QAAgB,CAAC,SAAS,CAAC,WAAW,EAAE,IACjD,QACD,CAAC,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC;IAC5B,CAAC;SAAM,IAAI,IAAA,kCAAsB,EAAC,QAAQ,EAAE,CAAC,WAAW,EAAE,UAAU,CAAC,CAAC,EAAE,CAAC;QACvE,OAAO,GAAI,QAAgB,CAAC,SAAS,CAAC,WAAW,EAAE,IAAK,QAAgB,CAAC,QAAQ,EAAE,CAAC;IACtF,CAAC;SAAM,IAAI,IAAA,kCAAsB,EAAC,QAAQ,EAAE,CAAC,UAAU,EAAE,SAAS,CAAC,CAAC,EAAE,CAAC;QACrE,OAAO,GAAG,QAAQ,CAAC,QAAQ,IAAK,QAAgB,CAAC,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC;IAC3E,CAAC;SAAM,IAAI,IAAA,kCAAsB,EAAC,QAAQ,EAAE,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC;QAC1D,OAAO,QAAQ,CAAC,QAAQ,CAAC;IAC3B,CAAC;IAED,MAAM,IAAI,SAAS,CAAC,8CAA8C,CAAC,CAAC;AACtE,CAAC;AAED,SAAgB,mCAAmC,CAAC,QAAgB;IAClE,IAAI,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,CAAC;QAC3B,MAAM,aAAa,GAAa,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QACpD,IAAI,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;YACjE,OAAO,EAAE,SAAS,EAAE,IAAI,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,EAAE,OAAO,EAAE,IAAI,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QACxF,CAAC;aAAM,IAAI,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;YACzE,OAAO,EAAE,SAAS,EAAE,IAAI,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,EAAE,QAAQ,EAAE,aAAa,CAAC,CAAC,CAAC,EAAE,CAAC;QAC/E,CAAC;aAAM,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;YACzE,OAAO,EAAE,QAAQ,EAAE,aAAa,CAAC,CAAC,CAAC,EAAE,OAAO,EAAE,IAAI,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QAC7E,CAAC;aAAM,CAAC;YACN,OAAO,EAAE,QAAQ,EAAE,QAAQ,EAAE,CAAC;QAChC,CAAC;IACH,CAAC;SAAM,CAAC;QACN,OAAO,EAAE,QAAQ,EAAE,QAAQ,EAAE,CAAC;IAChC,CAAC;AACH,CAAC;AACD;;;;;;GAMG;AACH,SAAgB,iBAAiB,CAC/B,KAAY,EACZ,QAAsB;IAEtB,OAAO,OAAO,KAAK,KAAK,QAAQ,IAAI,QAAQ,IAAK,KAAiC,CAAC;AACrF,CAAC;AAED;;;;GAIG;AACH,SAAgB,SAAS,CAAI,KAA2B;IACtD,OAAO,OAAO,KAAK,KAAK,WAAW,IAAI,KAAK,KAAK,IAAI,CAAC;AACxD,CAAC","sourcesContent":["// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT License.\n\nimport type { QueryTimeInterval } from \"./models/timeInterval.js\";\nimport { isObjectWithProperties } from \"@azure/core-util\";\n\nexport function convertTimespanToInterval(timespan: QueryTimeInterval): string {\n  if (isObjectWithProperties(timespan, [\"startTime\", \"endTime\", \"duration\"])) {\n    throw new TypeError(\"Invalid Timespan - contains startTime, endTime, and duration.\");\n  }\n\n  if (isObjectWithProperties(timespan, [\"startTime\", \"endTime\"])) {\n    return `${(timespan as any).startTime.toISOString()}/${(\n      timespan as any\n    ).endTime.toISOString()}`;\n  } else if (isObjectWithProperties(timespan, [\"startTime\", \"duration\"])) {\n    return `${(timespan as any).startTime.toISOString()}/${(timespan as any).duration}`;\n  } else if (isObjectWithProperties(timespan, [\"duration\", \"endTime\"])) {\n    return `${timespan.duration}/${(timespan as any).endTime.toISOString()}`;\n  } else if (isObjectWithProperties(timespan, [\"duration\"])) {\n    return timespan.duration;\n  }\n\n  throw new TypeError(\"Invalid Timespan - no valid fields assigned.\");\n}\n\nexport function convertIntervalToTimeIntervalObject(timespan: string): QueryTimeInterval {\n  if (timespan.includes(\"/\")) {\n    const intervalUnits: string[] = timespan.split(\"/\");\n    if (Date.parse(intervalUnits[0]) && Date.parse(intervalUnits[1])) {\n      return { startTime: new Date(intervalUnits[0]), endTime: new Date(intervalUnits[1]) };\n    } else if (Date.parse(intervalUnits[0]) && !Date.parse(intervalUnits[1])) {\n      return { startTime: new Date(intervalUnits[0]), duration: intervalUnits[1] };\n    } else if (!Date.parse(intervalUnits[0]) && Date.parse(intervalUnits[1])) {\n      return { duration: intervalUnits[0], endTime: new Date(intervalUnits[1]) };\n    } else {\n      return { duration: timespan };\n    }\n  } else {\n    return { duration: timespan };\n  }\n}\n/**\n * Helper TypeGuard that checks if the input is an object with the specified property.\n * Note: The property may be inherited.\n * @param thing - Any object.\n * @param property - The name of the property that should appear in the object.\n * @internal\n */\nexport function objectHasProperty<Thing, PropertyName extends string>(\n  thing: Thing,\n  property: PropertyName,\n): thing is Extract<Thing, Record<PropertyName, unknown>> {\n  return typeof thing === \"object\" && property in (thing as Record<string, unknown>);\n}\n\n/**\n * Helper TypeGuard that checks if something is defined or not.\n * @param thing - Anything\n * @internal\n */\nexport function isDefined<T>(thing: T | undefined | null): thing is T {\n  return typeof thing !== \"undefined\" && thing !== null;\n}\n"]}